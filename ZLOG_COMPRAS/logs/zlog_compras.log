2025-08-03T03:52:26.890-03:00  INFO 20056 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Starting ZlogComprasApplicationTests using Java 21.0.8 with PID 20056 (started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-03T03:52:26.933-03:00 DEBUG 20056 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-03T03:52:26.935-03:00  INFO 20056 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : The following 1 profile is active: "test"
2025-08-03T03:52:27.101-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0
2025-08-03T03:52:31.923-03:00 DEBUG 20056 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-03T03:52:32.565-03:00  INFO 20056 --- [zlog_compras] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-03T03:52:32.673-03:00  WARN 20056 --- [zlog_compras] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-03T03:52:34.861-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-08-03T03:52:34.869-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-08-03T03:52:34.869-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-08-03T03:52:34.869-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-08-03T03:52:34.873-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-08-03T03:52:34.873-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-08-03T03:52:34.873-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-08-03T03:52:34.873-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-08-03T03:52:34.873-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-08-03T03:52:34.873-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-08-03T03:52:34.873-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-08-03T03:52:34.873-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-08-03T03:52:34.873-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-08-03T03:52:34.873-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-08-03T03:52:34.896-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table estoque (
        quantidade integer not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        data_ultima_entrada timestamp(6),
        data_ultima_saida timestamp(6),
        id bigint generated by default as identity,
        produto_id bigint not null,
        version bigint,
        localizacao varchar(255),
        observacoes varchar(255),
        primary key (id)
    )
2025-08-03T03:52:34.914-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table fornecedores (
        id bigint generated by default as identity,
        version bigint,
        telefone varchar(15),
        cnpj varchar(18) not null unique,
        contato varchar(255),
        email varchar(255) unique,
        endereco varchar(255) not null,
        razao_social varchar(255) not null,
        primary key (id)
    )
2025-08-03T03:52:34.920-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_orcamento (
        preco_unitario_cotado numeric(12,2) not null,
        quantidade numeric(10,3) not null,
        id bigint generated by default as identity,
        orcamento_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida_produto varchar(20),
        codigo_produto varchar(50),
        nome_produto varchar(255) not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-08-03T03:52:34.921-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_pedido_compra (
        preco_unitario numeric(12,2) not null,
        quantidade integer not null,
        subtotal numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida varchar(50),
        codigo_produto varchar(100),
        observacoes varchar(500),
        nome_produto varchar(255),
        primary key (id)
    )
2025-08-03T03:52:34.925-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_solicitacao_compra (
        quantidade numeric(10,3) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        produto_id bigint not null,
        solicitacao_compra_id bigint not null,
        version bigint,
        descricao_adicional varchar(255),
        status enum ('AGUARDANDO_ORCAMENTO','APROVADO','CANCELADO','COMPRADO','EM_COMPRA','ORCAMENTO_RECEBIDO','PENDENTE','REJEITADO') not null,
        primary key (id)
    )
2025-08-03T03:52:34.929-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table movimentacoes_estoque (
        quantidade numeric(10,3) not null,
        data_movimentacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        codigo_material varchar(255) not null,
        referencia varchar(255),
        tipo_movimentacao varchar(255) not null,
        primary key (id)
    )
2025-08-03T03:52:34.932-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table notas_fiscais (
        data_emissao date not null,
        valor_total numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        version bigint,
        numero_nota_fiscal varchar(255) not null unique,
        primary key (id)
    )
2025-08-03T03:52:34.933-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table orcamentos (
        data_cotacao date not null,
        valor_total numeric(12,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        fornecedor_id bigint not null,
        id bigint generated by default as identity,
        solicitacao_compra_id bigint not null,
        version bigint,
        condicoes_pagamento varchar(255),
        numero_orcamento varchar(255) not null,
        observacoes varchar(255),
        prazo_entrega varchar(255),
        status enum ('ABERTO','AGUARDANDO_APROVACAO','APROVADO','CANCELADO','CONCLUIDO','COTADO','PEDIDO_GERADO','PENDENTE','RECUSADO','REJEITADO') not null,
        primary key (id)
    )
2025-08-03T03:52:34.935-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table pedidos_compra (
        data_pedido date,
        valor_total numeric(38,2),
        fornecedor_id bigint,
        id bigint generated by default as identity,
        orcamento_id bigint unique,
        observacoes varchar(255),
        status enum ('AGUARDANDO_APROVACAO','AGUARDANDO_ENVIO','APROVADO','CANCELADO','CONCLUIDO','ENVIADO','FINALIZADO','PENDENTE','RECEBIDO_PARCIALMENTE','RECEBIDO_TOTALMENTE','RECUSADO','REJEITADO_PELO_FORNECEDOR'),
        primary key (id)
    )
2025-08-03T03:52:34.937-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table produtos (
        estoque integer not null,
        preco_unitario numeric(10,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        categoria varchar(50) not null,
        codigo varchar(50) not null unique,
        codigo_produto varchar(50) not null unique,
        descricao varchar(255),
        nome varchar(255),
        unidade_medida varchar(255) not null,
        primary key (id)
    )
2025-08-03T03:52:34.943-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table roles (
        id bigint generated by default as identity,
        name varchar(255) not null unique,
        primary key (id)
    )
2025-08-03T03:52:34.946-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table solicitacoes_compra (
        data_solicitacao date not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        descricao varchar(255),
        solicitante varchar(255) not null,
        status enum ('ABERTA','AGUARDANDO_PARECER','CANCELADA','CONCLUIDA','EM_ANDAMENTO','ORCAMENTO_APROVADO','PEDIDO_GERADO','PENDENTE','REJEITADO','SUSPENSO') not null,
        primary key (id)
    )
2025-08-03T03:52:34.948-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table user_roles (
        role_id bigint not null,
        user_id bigint not null,
        primary key (role_id, user_id)
    )
2025-08-03T03:52:34.950-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table users (
        enabled boolean not null,
        id bigint generated by default as identity,
        password varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-08-03T03:52:34.952-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists estoque 
       add constraint FKmonotpf9w7pfuomk89nqxgeq1 
       foreign key (produto_id) 
       references produtos
2025-08-03T03:52:34.971-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKqlfm2lrgelma3n8kwabcvw9qh 
       foreign key (orcamento_id) 
       references orcamentos
2025-08-03T03:52:34.973-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKbc0qr2yj9stqdgavwvoohki0m 
       foreign key (produto_id) 
       references produtos
2025-08-03T03:52:34.975-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FK8p88mt761a5vacmlhrc68148b 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-08-03T03:52:34.977-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FKrv4ebgf6fdlg2v3b6dcbep8dn 
       foreign key (produto_id) 
       references produtos
2025-08-03T03:52:34.979-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FKntep08q88crstb33ej6npyul5 
       foreign key (produto_id) 
       references produtos
2025-08-03T03:52:34.985-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FK19xietjd5tfpljngdy8daw06x 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-08-03T03:52:34.992-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists notas_fiscais 
       add constraint FKe4e784ip50emjknglqkpkovg4 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-08-03T03:52:34.998-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FKntj4otux0et5xc0cm2lgq3uey 
       foreign key (fornecedor_id) 
       references fornecedores
2025-08-03T03:52:35.000-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FK5bj47al0ogq18q5ge2roy9e53 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-08-03T03:52:35.003-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FKan3yv2vk5m3gbphqf4f6yxj4j 
       foreign key (fornecedor_id) 
       references fornecedores
2025-08-03T03:52:35.010-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FK5f0lurv407qu48ns0sdhky4du 
       foreign key (orcamento_id) 
       references orcamentos
2025-08-03T03:52:35.013-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-03T03:52:35.018-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-03T03:52:35.029-03:00  INFO 20056 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-03T03:52:35.234-03:00 DEBUG 20056 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContextâ€¦
2025-08-03T03:52:35.267-03:00 DEBUG 20056 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-03T03:52:35.322-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:35.404-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:35.523-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:35.596-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-03T03:52:35.601-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-03T03:52:35.607-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:35.754-03:00 TRACE 20056 --- [zlog_compras] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@4678e08e}
2025-08-03T03:52:35.818-03:00  INFO 20056 --- [zlog_compras] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-03T03:52:35.819-03:00  WARN 20056 --- [zlog_compras] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-03T03:52:35.824-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:35.824-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:35.834-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-03T03:52:35.835-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-03T03:52:35.837-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:35.865-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:35.886-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:35.891-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-03T03:52:35.891-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-03T03:52:35.892-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:35.897-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-03T03:52:35.899-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-03T03:52:35.899-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:35.924-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:35.926-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:35.930-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-03T03:52:35.931-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-03T03:52:35.932-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:36.868-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:36.875-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:36.877-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-03T03:52:36.880-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-03T03:52:36.880-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:36.910-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:36.958-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:36.963-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-03T03:52:36.964-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-03T03:52:36.964-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:36.970-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-03T03:52:36.971-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-03T03:52:36.971-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:36.973-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-03T03:52:36.974-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-03T03:52:36.974-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:36.978-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-03T03:52:36.979-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-03T03:52:36.979-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:36.981-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-03T03:52:36.981-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-03T03:52:36.982-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:36.985-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-03T03:52:36.985-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-03T03:52:36.985-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:36.988-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-03T03:52:36.989-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-03T03:52:36.989-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.000-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.002-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.014-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.015-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.018-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-03T03:52:37.019-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-03T03:52:37.019-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.022-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-03T03:52:37.023-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-03T03:52:37.023-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.025-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-03T03:52:37.026-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-03T03:52:37.026-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.043-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.055-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.057-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-03T03:52:37.058-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-03T03:52:37.058-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.060-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-03T03:52:37.061-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-03T03:52:37.061-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.063-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-03T03:52:37.064-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-03T03:52:37.064-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.076-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.080-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.082-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-03T03:52:37.083-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-03T03:52:37.083-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.154-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.155-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.158-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-03T03:52:37.159-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-03T03:52:37.159-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.161-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-03T03:52:37.162-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-03T03:52:37.162-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.164-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-03T03:52:37.165-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-03T03:52:37.165-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:37.970-03:00 TRACE 20056 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-08-03T03:52:37.994-03:00 TRACE 20056 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-08-03T03:52:38.007-03:00 TRACE 20056 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-08-03T03:52:38.015-03:00 TRACE 20056 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos]}: listarOrcamentos()
2025-08-03T03:52:38.025-03:00 TRACE 20056 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
2025-08-03T03:52:38.035-03:00 TRACE 20056 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
2025-08-03T03:52:38.039-03:00 TRACE 20056 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
2025-08-03T03:52:38.044-03:00 TRACE 20056 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
2025-08-03T03:52:38.053-03:00 TRACE 20056 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-03T03:52:38.088-03:00 TRACE 20056 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-08-03T03:52:38.092-03:00 TRACE 20056 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-03T03:52:38.094-03:00 TRACE 20056 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-03T03:52:38.101-03:00 DEBUG 20056 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-08-03T03:52:38.366-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-03T03:52:38.456-03:00  INFO 20056 --- [zlog_compras] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5593dd2b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46f66a66, org.springframework.security.web.context.SecurityContextHolderFilter@1b232da1, org.springframework.security.web.header.HeaderWriterFilter@4a4a1973, org.springframework.web.filter.CorsFilter@6d2a92c2, org.springframework.security.web.authentication.logout.LogoutFilter@4c5a9ddc, com.zlogcompras.config.JwtAuthenticationFilter@867e628, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57e51932, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@776dd64b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58b8ee01, org.springframework.security.web.session.SessionManagementFilter@4e78d7ea, org.springframework.security.web.access.ExceptionTranslationFilter@2f940a24, org.springframework.security.web.access.intercept.AuthorizationFilter@6c88ffed]
2025-08-03T03:52:38.994-03:00 DEBUG 20056 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-03T03:52:39.107-03:00 DEBUG 20056 --- [zlog_compras] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-03T03:52:39.387-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:39.396-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:39.399-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-03T03:52:39.399-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-03T03:52:39.399-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:39.415-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:39.420-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:39.423-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-03T03:52:39.423-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-03T03:52:39.423-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:39.637-03:00  INFO 20056 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Started ZlogComprasApplicationTests in 13.569 seconds (process running for 19.489)
2025-08-03T03:52:39.660-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:40.020-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-03T03:52:40.029-03:00 TRACE 20056 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-03T03:52:40.068-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-08-03T03:52:40.069-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1329107419<open>)] for JPA transaction
2025-08-03T03:52:40.079-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1a8b7423]
2025-08-03T03:52:40.122-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-08-03T03:52:40.127-03:00 TRACE 20056 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-03T03:52:40.160-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-03T03:52:40.161-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1329107419<open>)]
2025-08-03T03:52:40.175-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1329107419<open>)] after transaction
2025-08-03T03:52:40.175-03:00 DEBUG 20056 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:40.180-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-03T03:52:40.181-03:00 TRACE 20056 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-03T03:52:40.182-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-08-03T03:52:40.182-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1674415910<open>)] for JPA transaction
2025-08-03T03:52:40.182-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1bc41486]
2025-08-03T03:52:40.182-03:00 DEBUG 20056 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-08-03T03:52:40.182-03:00 TRACE 20056 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-03T03:52:40.182-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-03T03:52:40.182-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1674415910<open>)]
2025-08-03T03:52:40.182-03:00 DEBUG 20056 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1674415910<open>)] after transaction
2025-08-03T03:52:40.275-03:00 DEBUG 20056 --- [zlog_compras] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0, started on Sun Aug 03 03:52:27 BRT 2025
2025-08-03T03:52:40.288-03:00  INFO 20056 --- [zlog_compras] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-03T03:52:40.289-03:00 DEBUG 20056 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-08-03T03:52:40.294-03:00 DEBUG 20056 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-08-03T03:52:40.297-03:00 DEBUG 20056 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-08-03T03:52:40.299-03:00 DEBUG 20056 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-08-03T03:52:40.301-03:00 DEBUG 20056 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-08-03T03:52:40.303-03:00 DEBUG 20056 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-08-03T03:52:40.304-03:00 DEBUG 20056 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-08-03T03:52:40.306-03:00 DEBUG 20056 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-08-03T03:52:40.307-03:00 DEBUG 20056 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-08-03T03:52:40.308-03:00 DEBUG 20056 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-08-03T03:52:40.309-03:00 DEBUG 20056 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-08-03T03:52:40.310-03:00 DEBUG 20056 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-08-03T03:52:40.312-03:00 DEBUG 20056 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-08-03T03:52:40.313-03:00 DEBUG 20056 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-08-03T03:52:50.037-03:00  INFO 11828 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 11828 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-03T03:52:50.039-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-03T03:52:50.040-03:00  INFO 11828 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-03T03:52:50.109-03:00  INFO 11828 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-03T03:52:50.110-03:00  INFO 11828 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-03T03:52:51.524-03:00  INFO 11828 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-03T03:52:51.647-03:00  INFO 11828 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 113 ms. Found 13 JPA repository interfaces.
2025-08-03T03:52:52.976-03:00  INFO 11828 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-03T03:52:53.003-03:00  INFO 11828 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-03T03:52:53.005-03:00  INFO 11828 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-08-03T03:52:53.109-03:00  INFO 11828 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-03T03:52:53.110-03:00  INFO 11828 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3000 ms
2025-08-03T03:52:53.314-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-03T03:52:53.342-03:00  INFO 11828 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-03T03:52:53.430-03:00  INFO 11828 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-08-03T03:52:53.478-03:00  INFO 11828 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-03T03:52:53.898-03:00  INFO 11828 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-03T03:52:53.960-03:00  INFO 11828 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-03T03:52:54.423-03:00  INFO 11828 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@41830d42
2025-08-03T03:52:54.426-03:00  INFO 11828 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-03T03:52:54.530-03:00  WARN 11828 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-03T03:52:55.896-03:00  INFO 11828 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-03T03:52:55.900-03:00  INFO 11828 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-03T03:52:55.948-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContextâ€¦
2025-08-03T03:52:55.976-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-03T03:52:56.007-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:56.040-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:56.122-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:56.182-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-03T03:52:56.188-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-03T03:52:56.191-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:56.386-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-08-03T03:52:56.451-03:00 TRACE 11828 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@403d596f}
2025-08-03T03:52:56.488-03:00  INFO 11828 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-03T03:52:56.489-03:00  WARN 11828 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-03T03:52:56.496-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:56.503-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:56.507-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-03T03:52:56.507-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-03T03:52:56.508-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:56.536-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:56.559-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:56.562-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-03T03:52:56.563-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-03T03:52:56.564-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:56.569-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-03T03:52:56.570-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-03T03:52:56.570-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:56.590-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:56.591-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:56.594-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-03T03:52:56.595-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-03T03:52:56.596-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.280-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.287-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.290-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-03T03:52:57.291-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-03T03:52:57.292-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.320-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.345-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.350-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-03T03:52:57.351-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-03T03:52:57.351-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.353-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-03T03:52:57.354-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-03T03:52:57.354-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.356-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-03T03:52:57.357-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-03T03:52:57.358-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.359-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-03T03:52:57.360-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-03T03:52:57.360-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.364-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-03T03:52:57.365-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-03T03:52:57.366-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.371-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-03T03:52:57.371-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-03T03:52:57.372-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.374-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-03T03:52:57.375-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-03T03:52:57.376-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.385-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.387-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.397-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.398-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.402-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-03T03:52:57.403-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-03T03:52:57.403-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.406-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-03T03:52:57.406-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-03T03:52:57.407-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.408-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-03T03:52:57.409-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-03T03:52:57.409-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.431-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.442-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.445-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-03T03:52:57.446-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-03T03:52:57.446-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.458-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-03T03:52:57.459-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-03T03:52:57.459-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.461-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-03T03:52:57.463-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-03T03:52:57.463-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.473-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.474-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.477-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-03T03:52:57.478-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-03T03:52:57.478-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.543-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.545-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.548-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-03T03:52:57.549-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-03T03:52:57.550-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.553-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-03T03:52:57.553-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-03T03:52:57.554-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:57.555-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-03T03:52:57.556-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-03T03:52:57.557-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:58.153-03:00 TRACE 11828 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-08-03T03:52:58.179-03:00 TRACE 11828 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-08-03T03:52:58.195-03:00 TRACE 11828 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-08-03T03:52:58.207-03:00 TRACE 11828 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
2025-08-03T03:52:58.217-03:00 TRACE 11828 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-08-03T03:52:58.225-03:00 TRACE 11828 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
2025-08-03T03:52:58.229-03:00 TRACE 11828 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{GET [/api/produtos]}: listarTodosProdutos()
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
2025-08-03T03:52:58.236-03:00 TRACE 11828 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-08-03T03:52:58.242-03:00 TRACE 11828 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-03T03:52:58.265-03:00 TRACE 11828 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-08-03T03:52:58.268-03:00 TRACE 11828 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-03T03:52:58.270-03:00 TRACE 11828 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-03T03:52:58.274-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-08-03T03:52:58.419-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-03T03:52:58.515-03:00  INFO 11828 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@64062302, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c37f78b, org.springframework.security.web.context.SecurityContextHolderFilter@5573a8fc, org.springframework.security.web.header.HeaderWriterFilter@5d7f285f, org.springframework.web.filter.CorsFilter@59402241, org.springframework.security.web.authentication.logout.LogoutFilter@2f1db644, com.zlogcompras.config.JwtAuthenticationFilter@d5d95a0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@171f4307, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22b248db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e5f3a1b, org.springframework.security.web.session.SessionManagementFilter@2c0a10a5, org.springframework.security.web.access.ExceptionTranslationFilter@4967f821, org.springframework.security.web.access.intercept.AuthorizationFilter@4f70f138]
2025-08-03T03:52:58.684-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-03T03:52:58.749-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-03T03:52:58.997-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:59.004-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:59.007-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-03T03:52:59.008-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-03T03:52:59.009-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:59.022-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:59.027-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:59.030-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-03T03:52:59.032-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-03T03:52:59.032-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:59.186-03:00  INFO 11828 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-03T03:52:59.271-03:00  INFO 11828 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-03T03:52:59.294-03:00  INFO 11828 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 9.818 seconds (process running for 10.622)
2025-08-03T03:52:59.315-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:59.552-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-03T03:52:59.562-03:00 TRACE 11828 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-03T03:52:59.661-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:52:59.663-03:00 DEBUG 11828 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-03T03:52:59.664-03:00 TRACE 11828 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-03T03:53:00.109-03:00  INFO 11828 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-08-03T03:53:00.129-03:00  INFO 11828 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-03T03:53:00.136-03:00  INFO 11828 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-03T03:53:00.141-03:00  INFO 11828 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-03T03:53:27.968-03:00  INFO 3632 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 3632 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-03T03:53:27.970-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-03T03:53:27.971-03:00  INFO 3632 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-03T03:53:28.021-03:00  INFO 3632 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-03T03:53:28.021-03:00  INFO 3632 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-03T03:53:28.742-03:00  INFO 3632 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-03T03:53:28.828-03:00  INFO 3632 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 73 ms. Found 13 JPA repository interfaces.
2025-08-03T03:53:29.402-03:00  INFO 3632 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-03T03:53:29.418-03:00  INFO 3632 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-03T03:53:29.419-03:00  INFO 3632 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-08-03T03:53:29.482-03:00  INFO 3632 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-03T03:53:29.482-03:00  INFO 3632 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1459 ms
2025-08-03T03:53:29.594-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-03T03:53:29.616-03:00  INFO 3632 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-03T03:53:29.664-03:00  INFO 3632 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-08-03T03:53:29.691-03:00  INFO 3632 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-03T03:53:29.905-03:00  INFO 3632 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-03T03:53:29.931-03:00  INFO 3632 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-03T03:53:30.081-03:00  INFO 3632 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@37d4868d
2025-08-03T03:53:30.081-03:00  INFO 3632 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-03T03:53:30.132-03:00  WARN 3632 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-03T03:53:31.161-03:00  INFO 3632 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-03T03:53:31.161-03:00  INFO 3632 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-03T03:53:31.195-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContextâ€¦
2025-08-03T03:53:31.213-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-03T03:53:31.236-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.261-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.331-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.371-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-03T03:53:31.376-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-03T03:53:31.376-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.494-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-08-03T03:53:31.553-03:00 TRACE 3632 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@37bf9d46}
2025-08-03T03:53:31.577-03:00  INFO 3632 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-03T03:53:31.577-03:00  WARN 3632 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-03T03:53:31.583-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.586-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.588-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-03T03:53:31.588-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-03T03:53:31.588-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.601-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.605-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.610-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-03T03:53:31.611-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-03T03:53:31.611-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.616-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-03T03:53:31.617-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-03T03:53:31.618-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.621-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.621-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.627-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-03T03:53:31.628-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-03T03:53:31.628-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.940-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.941-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.941-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-03T03:53:31.941-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-03T03:53:31.941-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.966-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.985-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.985-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-03T03:53:31.985-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-03T03:53:31.985-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.985-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-03T03:53:31.991-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-03T03:53:31.991-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.994-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-03T03:53:31.995-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-03T03:53:31.995-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:31.997-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-03T03:53:31.998-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-03T03:53:32.000-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.003-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-03T03:53:32.004-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-03T03:53:32.005-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.005-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-03T03:53:32.005-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-03T03:53:32.005-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.010-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-03T03:53:32.012-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-03T03:53:32.012-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.023-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.026-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.032-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.032-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.039-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-03T03:53:32.039-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-03T03:53:32.041-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.044-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-03T03:53:32.045-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-03T03:53:32.046-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.048-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-03T03:53:32.049-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-03T03:53:32.049-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.066-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.071-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.077-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-03T03:53:32.078-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-03T03:53:32.078-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.085-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-03T03:53:32.085-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-03T03:53:32.085-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.087-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-03T03:53:32.087-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-03T03:53:32.087-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.097-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.098-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.101-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-03T03:53:32.103-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-03T03:53:32.105-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.158-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.158-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.161-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-03T03:53:32.163-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-03T03:53:32.163-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.166-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-03T03:53:32.167-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-03T03:53:32.167-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.169-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-03T03:53:32.169-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-03T03:53:32.170-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.401-03:00 TRACE 3632 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-08-03T03:53:32.411-03:00 TRACE 3632 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
2025-08-03T03:53:32.421-03:00 TRACE 3632 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
2025-08-03T03:53:32.425-03:00 TRACE 3632 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
2025-08-03T03:53:32.430-03:00 TRACE 3632 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
2025-08-03T03:53:32.433-03:00 TRACE 3632 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-08-03T03:53:32.436-03:00 TRACE 3632 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
2025-08-03T03:53:32.438-03:00 TRACE 3632 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
2025-08-03T03:53:32.441-03:00 TRACE 3632 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-03T03:53:32.453-03:00 TRACE 3632 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-08-03T03:53:32.455-03:00 TRACE 3632 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-03T03:53:32.456-03:00 TRACE 3632 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-03T03:53:32.458-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-08-03T03:53:32.528-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-03T03:53:32.565-03:00  INFO 3632 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@5800b228, org.springframework.security.web.header.HeaderWriterFilter@2bb6bd45, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@36c6618, com.zlogcompras.config.JwtAuthenticationFilter@44ef39a1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b06f7f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5938fca3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@65d7905a, org.springframework.security.web.access.ExceptionTranslationFilter@6ce6068c, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]
2025-08-03T03:53:32.662-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-03T03:53:32.694-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-03T03:53:32.861-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.862-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.862-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-03T03:53:32.862-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-03T03:53:32.862-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.870-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.881-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.882-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-03T03:53:32.886-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-03T03:53:32.886-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:32.963-03:00  INFO 3632 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-03T03:53:32.991-03:00  INFO 3632 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-03T03:53:32.994-03:00  INFO 3632 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 5.443 seconds (process running for 5.842)
2025-08-03T03:53:33.007-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:33.111-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-03T03:53:33.122-03:00 TRACE 3632 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-03T03:53:33.136-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:53:33.138-03:00 DEBUG 3632 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-03T03:53:33.139-03:00 TRACE 3632 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-03T03:54:53.206-03:00  INFO 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-03T03:54:53.206-03:00  INFO 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-03T03:54:53.206-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-08-03T03:54:53.206-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-08-03T03:54:53.206-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-08-03T03:54:53.212-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@d4fd4b9
2025-08-03T03:54:53.212-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7d58893e
2025-08-03T03:54:53.221-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-03T03:54:53.221-03:00  INFO 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2025-08-03T03:54:53.269-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@5800b228, org.springframework.security.web.header.HeaderWriterFilter@2bb6bd45, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@36c6618, com.zlogcompras.config.JwtAuthenticationFilter@44ef39a1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b06f7f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5938fca3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@65d7905a, org.springframework.security.web.access.ExceptionTranslationFilter@6ce6068c, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-03T03:54:53.272-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-03T03:54:53.272-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-03T03:54:53.272-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-03T03:54:53.282-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-03T03:54:53.284-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-03T03:54:53.287-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-03T03:54:53.321-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-03T03:54:53.326-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@5800b228, org.springframework.security.web.header.HeaderWriterFilter@2bb6bd45, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@36c6618, com.zlogcompras.config.JwtAuthenticationFilter@44ef39a1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b06f7f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5938fca3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@65d7905a, org.springframework.security.web.access.ExceptionTranslationFilter@6ce6068c, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-03T03:54:53.326-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-03T03:54:53.326-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-03T03:54:53.326-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-03T03:54:53.326-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-03T03:54:53.326-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-03T03:54:53.326-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-03T03:54:53.334-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-03T03:54:53.335-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-03T03:54:53.335-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-03T03:54:53.335-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-03T03:54:53.335-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-03T03:54:53.335-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-03T03:54:53.339-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-03T03:54:53.340-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-03T03:54:53.340-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-03T03:54:53.343-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-03T03:54:53.343-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-03T03:54:53.344-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-03T03:54:53.345-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-03T03:54:53.347-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001ceb8aa3160@28255696
2025-08-03T03:54:53.350-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-03T03:54:53.351-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-03T03:54:53.354-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-03T03:54:53.355-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-03T03:54:53.437-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-03T03:54:53.445-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-03T03:54:53.601-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:54:53.615-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-03T03:54:53.643-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-03T03:54:53.871-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-03T03:54:53.871-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-03T03:54:54.051-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-03T03:54:54.051-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-03T03:54:54.051-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-03T03:54:54.059-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-03T03:54:54.061-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-03T03:54:54.061-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-03T03:54:54.271-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-03T03:54:54.281-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDIwNDA5NCwiZXhwIjoxNzU0MjkwNDk0fQ.PcAYBjJkVjbLoG8tSux2cmUpWV2GiAaTJTXrX0qz8Gg)]
2025-08-03T03:54:54.284-03:00 TRACE 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-03T03:54:54.292-03:00 DEBUG 3632 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
