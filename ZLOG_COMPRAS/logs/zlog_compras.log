2025-08-09T02:03:39.917-03:00  INFO 18296 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 18296 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-09T02:03:39.928-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-09T02:03:39.930-03:00  INFO 18296 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-09T02:03:40.001-03:00  INFO 18296 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-09T02:03:40.001-03:00  INFO 18296 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-09T02:03:41.227-03:00  INFO 18296 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-09T02:03:41.316-03:00  INFO 18296 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 82 ms. Found 13 JPA repository interfaces.
2025-08-09T02:03:42.003-03:00  INFO 18296 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-09T02:03:42.017-03:00  INFO 18296 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-09T02:03:42.018-03:00  INFO 18296 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-08-09T02:03:42.077-03:00  INFO 18296 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-09T02:03:42.077-03:00  INFO 18296 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2075 ms
2025-08-09T02:03:42.220-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-09T02:03:42.242-03:00  INFO 18296 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-09T02:03:42.320-03:00  INFO 18296 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-08-09T02:03:42.360-03:00  INFO 18296 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-09T02:03:42.688-03:00  INFO 18296 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-09T02:03:42.719-03:00  INFO 18296 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-09T02:03:43.117-03:00  INFO 18296 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4b391687
2025-08-09T02:03:43.118-03:00  INFO 18296 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-09T02:03:43.192-03:00  WARN 18296 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-09T02:03:44.433-03:00  INFO 18296 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-09T02:03:44.437-03:00  INFO 18296 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-09T02:03:44.468-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-09T02:03:44.485-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-09T02:03:44.511-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:44.542-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:44.601-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:44.646-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-09T02:03:44.650-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-09T02:03:44.654-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:44.789-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-08-09T02:03:44.830-03:00 TRACE 18296 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@75f7724c}
2025-08-09T02:03:44.861-03:00  INFO 18296 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-09T02:03:44.862-03:00  WARN 18296 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-09T02:03:44.867-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:44.870-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:44.871-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-09T02:03:44.873-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-09T02:03:44.873-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:44.883-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:44.899-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:44.902-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-09T02:03:44.903-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-09T02:03:44.903-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:44.909-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-09T02:03:44.909-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-09T02:03:44.910-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:44.917-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:44.918-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:44.920-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-09T02:03:44.921-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-09T02:03:44.921-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.296-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.300-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.301-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-09T02:03:45.302-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-09T02:03:45.302-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.318-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.330-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.332-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-09T02:03:45.333-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-09T02:03:45.333-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.334-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-09T02:03:45.335-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-09T02:03:45.335-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.337-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-09T02:03:45.338-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-09T02:03:45.338-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.340-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-09T02:03:45.340-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-09T02:03:45.340-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.341-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-09T02:03:45.342-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-09T02:03:45.342-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.343-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-09T02:03:45.345-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-09T02:03:45.345-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.346-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-09T02:03:45.347-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-09T02:03:45.347-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.353-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.354-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.360-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.361-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.362-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-09T02:03:45.363-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-09T02:03:45.363-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.364-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-09T02:03:45.365-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-09T02:03:45.365-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.367-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-09T02:03:45.367-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-09T02:03:45.367-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.377-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.383-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.384-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-09T02:03:45.385-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-09T02:03:45.385-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.386-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-09T02:03:45.387-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-09T02:03:45.387-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.388-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-09T02:03:45.389-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-09T02:03:45.389-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.399-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.400-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.402-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-09T02:03:45.403-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-09T02:03:45.403-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.431-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.432-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.434-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-09T02:03:45.435-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-09T02:03:45.435-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.436-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-09T02:03:45.436-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-09T02:03:45.437-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.438-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-09T02:03:45.438-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-09T02:03:45.438-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:45.708-03:00 TRACE 18296 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-08-09T02:03:45.717-03:00 TRACE 18296 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-08-09T02:03:45.723-03:00 TRACE 18296 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
2025-08-09T02:03:45.727-03:00 TRACE 18296 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos]}: listarOrcamentos()
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
2025-08-09T02:03:45.730-03:00 TRACE 18296 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
2025-08-09T02:03:45.734-03:00 TRACE 18296 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-08-09T02:03:45.735-03:00 TRACE 18296 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{GET [/api/produtos]}: listarTodosProdutos()
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
2025-08-09T02:03:45.738-03:00 TRACE 18296 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
2025-08-09T02:03:45.742-03:00 TRACE 18296 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-09T02:03:45.756-03:00 TRACE 18296 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-08-09T02:03:45.757-03:00 TRACE 18296 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-09T02:03:45.758-03:00 TRACE 18296 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-09T02:03:45.761-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-08-09T02:03:45.841-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-09T02:03:45.879-03:00  INFO 18296 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7f225e68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@527b7b51, org.springframework.security.web.context.SecurityContextHolderFilter@279f609c, org.springframework.security.web.header.HeaderWriterFilter@6e909a4, org.springframework.web.filter.CorsFilter@2f5f5625, org.springframework.security.web.authentication.logout.LogoutFilter@cbca71b, com.zlogcompras.config.JwtAuthenticationFilter@16eb4440, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@452299a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ceb4880, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@726033dd, org.springframework.security.web.session.SessionManagementFilter@bdfdbc2, org.springframework.security.web.access.ExceptionTranslationFilter@1f75e8a9, org.springframework.security.web.access.intercept.AuthorizationFilter@2bc0d693]
2025-08-09T02:03:45.963-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-09T02:03:46.001-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-09T02:03:46.197-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:46.201-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:46.203-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-09T02:03:46.204-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-09T02:03:46.204-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:46.214-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:46.217-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:46.219-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-09T02:03:46.219-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-09T02:03:46.219-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:46.289-03:00  INFO 18296 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-09T02:03:46.324-03:00  INFO 18296 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-09T02:03:46.333-03:00  INFO 18296 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 6.834 seconds (process running for 7.479)
2025-08-09T02:03:46.343-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:46.472-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-09T02:03:46.479-03:00 TRACE 18296 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-09T02:03:46.513-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:03:46.513-03:00 DEBUG 18296 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-09T02:03:46.514-03:00 TRACE 18296 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-09T02:40:26.454-03:00  INFO 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-09T02:40:26.469-03:00  INFO 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-09T02:40:26.472-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-08-09T02:40:26.472-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-08-09T02:40:26.472-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-08-09T02:40:26.512-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@21dc8afa
2025-08-09T02:40:26.512-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3814836f
2025-08-09T02:40:26.517-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-09T02:40:26.522-03:00  INFO 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 48 ms
2025-08-09T02:40:26.792-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7f225e68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@527b7b51, org.springframework.security.web.context.SecurityContextHolderFilter@279f609c, org.springframework.security.web.header.HeaderWriterFilter@6e909a4, org.springframework.web.filter.CorsFilter@2f5f5625, org.springframework.security.web.authentication.logout.LogoutFilter@cbca71b, com.zlogcompras.config.JwtAuthenticationFilter@16eb4440, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@452299a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ceb4880, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@726033dd, org.springframework.security.web.session.SessionManagementFilter@bdfdbc2, org.springframework.security.web.access.ExceptionTranslationFilter@1f75e8a9, org.springframework.security.web.access.intercept.AuthorizationFilter@2bc0d693]] (1/1)
2025-08-09T02:40:26.802-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T02:40:26.804-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T02:40:26.804-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T02:40:26.822-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T02:40:26.822-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T02:40:26.832-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T02:40:26.892-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T02:40:26.899-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T02:40:26.899-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T02:40:26.902-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T02:40:26.902-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T02:40:26.902-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Cabeçalho Authorization ausente ou inválido. Passando para o próximo filtro.
2025-08-09T02:40:26.902-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T02:40:26.902-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T02:40:26.915-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T02:40:26.915-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T02:40:26.915-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T02:40:26.922-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T02:40:26.922-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T02:40:26.922-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T02:40:26.922-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T02:40:26.922-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T02:40:26.932-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:92) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-08-09T02:40:26.950-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-08-09T02:40:26.952-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T02:40:26.972-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-08-09T02:40:26.972-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7f225e68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@527b7b51, org.springframework.security.web.context.SecurityContextHolderFilter@279f609c, org.springframework.security.web.header.HeaderWriterFilter@6e909a4, org.springframework.web.filter.CorsFilter@2f5f5625, org.springframework.security.web.authentication.logout.LogoutFilter@cbca71b, com.zlogcompras.config.JwtAuthenticationFilter@16eb4440, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@452299a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ceb4880, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@726033dd, org.springframework.security.web.session.SessionManagementFilter@bdfdbc2, org.springframework.security.web.access.ExceptionTranslationFilter@1f75e8a9, org.springframework.security.web.access.intercept.AuthorizationFilter@2bc0d693]] (1/1)
2025-08-09T02:40:26.972-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-08-09T02:40:26.972-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T02:40:26.972-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T02:40:26.972-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T02:40:26.972-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T02:40:26.972-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T02:40:26.972-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T02:40:26.972-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T02:40:26.979-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T02:40:26.979-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T02:40:26.979-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T02:40:26.979-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T02:40:26.979-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T02:40:26.979-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T02:40:26.979-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T02:40:26.979-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-08-09T02:40:26.979-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000022307aa29c8@36778ce4
2025-08-09T02:40:26.981-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-08-09T02:40:26.992-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-08-09T02:40:26.995-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-08-09T02:40:26.995-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-09T02:40:27.172-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T02:40:27.182-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sat Aug 09 02:40:27 BRT 2025, status=403, error=Forbidden, message=Access Denied, path=/api/produtos}]
2025-08-09T02:40:27.318-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-08-09T02:40:27.318-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T02:40:27.318-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T02:40:43.834-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7f225e68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@527b7b51, org.springframework.security.web.context.SecurityContextHolderFilter@279f609c, org.springframework.security.web.header.HeaderWriterFilter@6e909a4, org.springframework.web.filter.CorsFilter@2f5f5625, org.springframework.security.web.authentication.logout.LogoutFilter@cbca71b, com.zlogcompras.config.JwtAuthenticationFilter@16eb4440, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@452299a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ceb4880, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@726033dd, org.springframework.security.web.session.SessionManagementFilter@bdfdbc2, org.springframework.security.web.access.ExceptionTranslationFilter@1f75e8a9, org.springframework.security.web.access.intercept.AuthorizationFilter@2bc0d693]] (1/1)
2025-08-09T02:40:43.834-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-09T02:40:43.834-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T02:40:43.834-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T02:40:43.834-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T02:40:43.834-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T02:40:43.834-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T02:40:43.834-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T02:40:43.846-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7f225e68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@527b7b51, org.springframework.security.web.context.SecurityContextHolderFilter@279f609c, org.springframework.security.web.header.HeaderWriterFilter@6e909a4, org.springframework.web.filter.CorsFilter@2f5f5625, org.springframework.security.web.authentication.logout.LogoutFilter@cbca71b, com.zlogcompras.config.JwtAuthenticationFilter@16eb4440, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@452299a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ceb4880, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@726033dd, org.springframework.security.web.session.SessionManagementFilter@bdfdbc2, org.springframework.security.web.access.ExceptionTranslationFilter@1f75e8a9, org.springframework.security.web.access.intercept.AuthorizationFilter@2bc0d693]] (1/1)
2025-08-09T02:40:43.847-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-09T02:40:43.847-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T02:40:43.847-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T02:40:43.847-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T02:40:43.847-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T02:40:43.848-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T02:40:43.849-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T02:40:43.849-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T02:40:43.849-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T02:40:43.850-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T02:40:43.850-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T02:40:43.850-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T02:40:43.850-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T02:40:43.850-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T02:40:43.850-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T02:40:43.852-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T02:40:43.852-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T02:40:43.852-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T02:40:43.853-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-09T02:40:43.853-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000022307aa29c8@36778ce4
2025-08-09T02:40:43.853-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-09T02:40:43.854-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T02:40:43.856-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-09T02:40:43.856-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-09T02:40:44.050-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-09T02:40:44.082-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-09T02:40:44.296-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:40:44.372-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T02:40:44.399-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T02:40:44.692-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T02:40:44.692-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T02:40:44.903-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-09T02:40:44.903-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:40:44.908-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T02:40:44.908-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T02:40:44.912-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T02:40:44.914-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T02:40:45.222-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T02:40:45.222-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcxODA0NSwiZXhwIjoxNzU0ODA0NDQ1fQ.g3xTZp2xCY5LLz4kR8gcsJlNJSKOR5_6ImkZcA6p34g)]
2025-08-09T02:40:45.222-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T02:40:45.222-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T02:40:45.245-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7f225e68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@527b7b51, org.springframework.security.web.context.SecurityContextHolderFilter@279f609c, org.springframework.security.web.header.HeaderWriterFilter@6e909a4, org.springframework.web.filter.CorsFilter@2f5f5625, org.springframework.security.web.authentication.logout.LogoutFilter@cbca71b, com.zlogcompras.config.JwtAuthenticationFilter@16eb4440, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@452299a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ceb4880, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@726033dd, org.springframework.security.web.session.SessionManagementFilter@bdfdbc2, org.springframework.security.web.access.ExceptionTranslationFilter@1f75e8a9, org.springframework.security.web.access.intercept.AuthorizationFilter@2bc0d693]] (1/1)
2025-08-09T02:40:45.245-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T02:40:45.245-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T02:40:45.247-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T02:40:45.247-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T02:40:45.247-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T02:40:45.247-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T02:40:45.248-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T02:40:45.249-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T02:40:45.249-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T02:40:45.249-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T02:40:45.249-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T02:40:45.250-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Cabeçalho Authorization ausente ou inválido. Passando para o próximo filtro.
2025-08-09T02:40:45.250-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T02:40:45.250-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T02:40:45.250-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T02:40:45.250-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T02:40:45.250-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T02:40:45.251-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T02:40:45.251-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T02:40:45.251-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T02:40:45.251-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T02:40:45.252-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T02:40:45.252-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:92) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-08-09T02:40:45.256-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-08-09T02:40:45.257-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T02:40:45.257-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-08-09T02:40:45.258-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7f225e68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@527b7b51, org.springframework.security.web.context.SecurityContextHolderFilter@279f609c, org.springframework.security.web.header.HeaderWriterFilter@6e909a4, org.springframework.web.filter.CorsFilter@2f5f5625, org.springframework.security.web.authentication.logout.LogoutFilter@cbca71b, com.zlogcompras.config.JwtAuthenticationFilter@16eb4440, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@452299a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ceb4880, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@726033dd, org.springframework.security.web.session.SessionManagementFilter@bdfdbc2, org.springframework.security.web.access.ExceptionTranslationFilter@1f75e8a9, org.springframework.security.web.access.intercept.AuthorizationFilter@2bc0d693]] (1/1)
2025-08-09T02:40:45.258-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-08-09T02:40:45.258-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T02:40:45.258-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T02:40:45.259-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T02:40:45.259-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T02:40:45.259-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T02:40:45.259-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T02:40:45.259-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T02:40:45.260-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T02:40:45.260-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T02:40:45.260-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T02:40:45.260-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T02:40:45.260-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T02:40:45.260-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T02:40:45.260-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T02:40:45.260-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-08-09T02:40:45.260-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000022307aa29c8@36778ce4
2025-08-09T02:40:45.262-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-08-09T02:40:45.262-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-08-09T02:40:45.263-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-08-09T02:40:45.263-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-09T02:40:45.264-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T02:40:45.264-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sat Aug 09 02:40:45 BRT 2025, status=403, error=Forbidden, message=Access Denied, path=/api/produtos}]
2025-08-09T02:40:45.266-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-08-09T02:40:45.266-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T02:40:45.266-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T02:41:18.304-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7f225e68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@527b7b51, org.springframework.security.web.context.SecurityContextHolderFilter@279f609c, org.springframework.security.web.header.HeaderWriterFilter@6e909a4, org.springframework.web.filter.CorsFilter@2f5f5625, org.springframework.security.web.authentication.logout.LogoutFilter@cbca71b, com.zlogcompras.config.JwtAuthenticationFilter@16eb4440, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@452299a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ceb4880, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@726033dd, org.springframework.security.web.session.SessionManagementFilter@bdfdbc2, org.springframework.security.web.access.ExceptionTranslationFilter@1f75e8a9, org.springframework.security.web.access.intercept.AuthorizationFilter@2bc0d693]] (1/1)
2025-08-09T02:41:18.306-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-09T02:41:18.306-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T02:41:18.306-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T02:41:18.306-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T02:41:18.306-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T02:41:18.308-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T02:41:18.308-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T02:41:18.308-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T02:41:18.308-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T02:41:18.310-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T02:41:18.311-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T02:41:18.311-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T02:41:18.311-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T02:41:18.311-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T02:41:18.312-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T02:41:18.312-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T02:41:18.313-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T02:41:18.313-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T02:41:18.313-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-09T02:41:18.313-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000022307aa29c8@36778ce4
2025-08-09T02:41:18.313-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-09T02:41:18.314-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T02:41:18.314-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-09T02:41:18.314-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-09T02:41:18.316-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-09T02:41:18.317-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-09T02:41:18.318-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:41:18.322-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T02:41:18.324-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T02:41:18.327-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T02:41:18.327-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T02:41:18.522-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-09T02:41:18.522-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:41:18.522-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T02:41:18.522-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T02:41:18.522-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T02:41:18.522-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T02:41:18.532-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T02:41:18.536-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcxODA3OCwiZXhwIjoxNzU0ODA0NDc4fQ.iNEU0KQtB0XFJs6mT8mS8MfrO5O3rE6Ifk5VMpeCTpc)]
2025-08-09T02:41:18.536-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T02:41:18.536-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T02:41:18.545-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7f225e68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@527b7b51, org.springframework.security.web.context.SecurityContextHolderFilter@279f609c, org.springframework.security.web.header.HeaderWriterFilter@6e909a4, org.springframework.web.filter.CorsFilter@2f5f5625, org.springframework.security.web.authentication.logout.LogoutFilter@cbca71b, com.zlogcompras.config.JwtAuthenticationFilter@16eb4440, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@452299a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ceb4880, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@726033dd, org.springframework.security.web.session.SessionManagementFilter@bdfdbc2, org.springframework.security.web.access.ExceptionTranslationFilter@1f75e8a9, org.springframework.security.web.access.intercept.AuthorizationFilter@2bc0d693]] (1/1)
2025-08-09T02:41:18.545-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T02:41:18.545-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T02:41:18.552-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T02:41:18.552-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T02:41:18.553-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T02:41:18.553-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T02:41:18.553-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T02:41:18.553-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T02:41:18.553-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T02:41:18.553-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T02:41:18.555-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T02:41:18.555-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Cabeçalho Authorization ausente ou inválido. Passando para o próximo filtro.
2025-08-09T02:41:18.555-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T02:41:18.555-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T02:41:18.555-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T02:41:18.555-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T02:41:18.555-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T02:41:18.555-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T02:41:18.555-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T02:41:18.555-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T02:41:18.555-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T02:41:18.557-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T02:41:18.557-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:92) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-08-09T02:41:18.557-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-08-09T02:41:18.560-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T02:41:18.560-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-08-09T02:41:18.562-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7f225e68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@527b7b51, org.springframework.security.web.context.SecurityContextHolderFilter@279f609c, org.springframework.security.web.header.HeaderWriterFilter@6e909a4, org.springframework.web.filter.CorsFilter@2f5f5625, org.springframework.security.web.authentication.logout.LogoutFilter@cbca71b, com.zlogcompras.config.JwtAuthenticationFilter@16eb4440, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@452299a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ceb4880, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@726033dd, org.springframework.security.web.session.SessionManagementFilter@bdfdbc2, org.springframework.security.web.access.ExceptionTranslationFilter@1f75e8a9, org.springframework.security.web.access.intercept.AuthorizationFilter@2bc0d693]] (1/1)
2025-08-09T02:41:18.562-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-08-09T02:41:18.563-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T02:41:18.563-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T02:41:18.563-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T02:41:18.563-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T02:41:18.563-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T02:41:18.564-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T02:41:18.564-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T02:41:18.564-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T02:41:18.564-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T02:41:18.565-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T02:41:18.565-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T02:41:18.565-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T02:41:18.565-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T02:41:18.565-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T02:41:18.565-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-08-09T02:41:18.566-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000022307aa29c8@36778ce4
2025-08-09T02:41:18.566-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-08-09T02:41:18.566-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-08-09T02:41:18.567-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-08-09T02:41:18.567-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-09T02:41:18.568-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T02:41:18.568-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sat Aug 09 02:41:18 BRT 2025, status=403, error=Forbidden, message=Access Denied, path=/api/produtos}]
2025-08-09T02:41:18.569-03:00 DEBUG 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-08-09T02:41:18.570-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T02:41:18.570-03:00 TRACE 18296 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T02:54:09.121-03:00  INFO 13628 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 13628 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-09T02:54:09.123-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-09T02:54:09.125-03:00  INFO 13628 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-09T02:54:09.195-03:00  INFO 13628 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-09T02:54:09.196-03:00  INFO 13628 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-09T02:54:10.422-03:00  INFO 13628 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-09T02:54:10.530-03:00  INFO 13628 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 98 ms. Found 13 JPA repository interfaces.
2025-08-09T02:54:11.235-03:00  INFO 13628 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-09T02:54:11.256-03:00  INFO 13628 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-09T02:54:11.256-03:00  INFO 13628 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-08-09T02:54:11.320-03:00  INFO 13628 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-09T02:54:11.320-03:00  INFO 13628 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2123 ms
2025-08-09T02:54:11.460-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-09T02:54:11.482-03:00  INFO 13628 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-09T02:54:11.564-03:00  INFO 13628 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-08-09T02:54:11.609-03:00  INFO 13628 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-09T02:54:11.920-03:00  INFO 13628 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-09T02:54:11.950-03:00  INFO 13628 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-09T02:54:12.370-03:00  INFO 13628 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1483061d
2025-08-09T02:54:12.373-03:00  INFO 13628 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-09T02:54:12.462-03:00  WARN 13628 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-09T02:54:13.660-03:00  INFO 13628 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-09T02:54:13.668-03:00  INFO 13628 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-09T02:54:13.700-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-09T02:54:13.720-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-09T02:54:13.746-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:13.780-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:13.838-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:13.880-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-09T02:54:13.880-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-09T02:54:13.890-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.000-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-08-09T02:54:14.043-03:00 TRACE 13628 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@18bbc2d4}
2025-08-09T02:54:14.072-03:00  INFO 13628 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-09T02:54:14.072-03:00  WARN 13628 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-09T02:54:14.080-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.083-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.085-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-09T02:54:14.086-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-09T02:54:14.086-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.134-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.150-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.150-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-09T02:54:14.150-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-09T02:54:14.162-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.168-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-09T02:54:14.168-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-09T02:54:14.169-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.178-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.180-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.182-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-09T02:54:14.182-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-09T02:54:14.183-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.550-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.550-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.550-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-09T02:54:14.550-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-09T02:54:14.550-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.570-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.580-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.586-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-09T02:54:14.587-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-09T02:54:14.587-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.588-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-09T02:54:14.588-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-09T02:54:14.588-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.592-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-09T02:54:14.592-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-09T02:54:14.593-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.594-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-09T02:54:14.594-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-09T02:54:14.594-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.596-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-09T02:54:14.596-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-09T02:54:14.596-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.598-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-09T02:54:14.598-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-09T02:54:14.598-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.600-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-09T02:54:14.600-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-09T02:54:14.600-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.600-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.600-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.613-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.614-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.616-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-09T02:54:14.617-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-09T02:54:14.617-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.618-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-09T02:54:14.618-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-09T02:54:14.619-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.620-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-09T02:54:14.621-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-09T02:54:14.621-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.634-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.640-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.641-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-09T02:54:14.642-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-09T02:54:14.642-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.643-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-09T02:54:14.643-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-09T02:54:14.643-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.648-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-09T02:54:14.649-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-09T02:54:14.649-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.654-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.654-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.655-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-09T02:54:14.656-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-09T02:54:14.657-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.682-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.682-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.682-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-09T02:54:14.682-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-09T02:54:14.682-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.682-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-09T02:54:14.682-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-09T02:54:14.682-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.682-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-09T02:54:14.682-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-09T02:54:14.682-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:14.952-03:00 TRACE 13628 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-08-09T02:54:14.964-03:00 TRACE 13628 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-08-09T02:54:14.976-03:00 TRACE 13628 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
2025-08-09T02:54:14.980-03:00 TRACE 13628 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
2025-08-09T02:54:14.984-03:00 TRACE 13628 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-08-09T02:54:14.984-03:00 TRACE 13628 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
2025-08-09T02:54:14.990-03:00 TRACE 13628 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{GET [/api/produtos]}: listarTodosProdutos()
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
2025-08-09T02:54:14.992-03:00 TRACE 13628 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
2025-08-09T02:54:14.995-03:00 TRACE 13628 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-09T02:54:15.010-03:00 TRACE 13628 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-08-09T02:54:15.010-03:00 TRACE 13628 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-09T02:54:15.010-03:00 TRACE 13628 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-09T02:54:15.017-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-08-09T02:54:15.093-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-09T02:54:15.133-03:00  INFO 13628 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@7497bf89, org.springframework.security.web.header.HeaderWriterFilter@416a9ff9, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@bdfdbc2, com.zlogcompras.config.JwtAuthenticationFilter@728ecb4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18384dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45278ca9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@67d21bd8, org.springframework.security.web.access.ExceptionTranslationFilter@4f3b5c69, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]
2025-08-09T02:54:15.228-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-09T02:54:15.270-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-09T02:54:15.460-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:15.460-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:15.460-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-09T02:54:15.469-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-09T02:54:15.469-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:15.476-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:15.476-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:15.480-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-09T02:54:15.480-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-09T02:54:15.480-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:15.550-03:00  INFO 13628 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-09T02:54:15.592-03:00  INFO 13628 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-09T02:54:15.600-03:00  INFO 13628 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 6.94 seconds (process running for 7.41)
2025-08-09T02:54:15.611-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:15.746-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-09T02:54:15.752-03:00 TRACE 13628 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-09T02:54:15.781-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:15.781-03:00 DEBUG 13628 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-09T02:54:15.781-03:00 TRACE 13628 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-09T02:54:53.661-03:00  INFO 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-09T02:54:53.669-03:00  INFO 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-09T02:54:53.670-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-08-09T02:54:53.671-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-08-09T02:54:53.671-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-08-09T02:54:53.685-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@12e101c5
2025-08-09T02:54:53.687-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6b2158e
2025-08-09T02:54:53.688-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-09T02:54:53.688-03:00  INFO 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 19 ms
2025-08-09T02:54:53.735-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@7497bf89, org.springframework.security.web.header.HeaderWriterFilter@416a9ff9, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@bdfdbc2, com.zlogcompras.config.JwtAuthenticationFilter@728ecb4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18384dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45278ca9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@67d21bd8, org.springframework.security.web.access.ExceptionTranslationFilter@4f3b5c69, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-09T02:54:53.735-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-09T02:54:53.735-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T02:54:53.735-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T02:54:53.744-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T02:54:53.745-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T02:54:53.749-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T02:54:53.779-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T02:54:53.784-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@7497bf89, org.springframework.security.web.header.HeaderWriterFilter@416a9ff9, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@bdfdbc2, com.zlogcompras.config.JwtAuthenticationFilter@728ecb4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18384dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45278ca9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@67d21bd8, org.springframework.security.web.access.ExceptionTranslationFilter@4f3b5c69, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-09T02:54:53.785-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T02:54:53.785-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T02:54:53.785-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T02:54:53.786-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T02:54:53.786-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T02:54:53.786-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T02:54:53.790-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T02:54:53.793-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T02:54:53.793-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T02:54:53.795-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T02:54:53.795-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T02:54:53.795-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcxODA3OCwiZXhwIjoxNzU0ODA0NDc4fQ.iNEU0KQtB0XFJs6mT8mS8MfrO5O3rE6Ifk5VMpeCTpc
2025-08-09T02:54:54.162-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-09T02:54:54.164-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T02:54:54.174-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:54:54.227-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T02:54:54.236-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T02:54:54.319-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T02:54:54.322-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T02:54:54.364-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-09T02:54:54.364-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-09T02:54:54.376-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-09T02:54:54.381-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T02:54:54.386-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T02:54:54.392-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T02:54:54.395-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T02:54:54.395-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-09T02:54:54.399-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-09T02:54:54.401-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T02:54:54.403-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T02:54:54.405-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T02:54:54.411-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T02:54:54.412-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-09T02:54:54.413-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T02:54:54.419-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-09T02:54:54.431-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-08-09T02:54:54.527-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-09T02:54:54.530-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(810054363<open>)] for JPA transaction
2025-08-09T02:54:54.550-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7b3e31af]
2025-08-09T02:54:54.585-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-09T02:54:54.881-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-09T02:54:54.885-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(810054363<open>)]
2025-08-09T02:54:54.891-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(810054363<open>)] after transaction
2025-08-09T02:54:54.933-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T02:54:54.938-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@3e6cc89d, com.zlogcompras.model.Produto@57a71cdd, com.zlogcompras.model.Produto@fb459e2, com.zlogcompras.model.Produto@4aa544f6, com.zlogcompras.model.Produto@1255451f, com.zlogcompras.model.Produto@7d7be27c, com.zlogcompras.model.Produto@502dcf78, com.zlogcompras.model.Produto@30cfa37f, com.zlogcompras.model.Produto@88a75c4, com.zlogcompras.model.Produto@2ac00eab, com.zlogcompras.model.Produto@14284284]]
2025-08-09T02:54:55.137-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T02:54:55.165-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T02:55:16.379-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@7497bf89, org.springframework.security.web.header.HeaderWriterFilter@416a9ff9, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@bdfdbc2, com.zlogcompras.config.JwtAuthenticationFilter@728ecb4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18384dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45278ca9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@67d21bd8, org.springframework.security.web.access.ExceptionTranslationFilter@4f3b5c69, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-09T02:55:16.381-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-09T02:55:16.381-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T02:55:16.381-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T02:55:16.381-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T02:55:16.381-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T02:55:16.382-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T02:55:16.383-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T02:55:16.385-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@7497bf89, org.springframework.security.web.header.HeaderWriterFilter@416a9ff9, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@bdfdbc2, com.zlogcompras.config.JwtAuthenticationFilter@728ecb4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18384dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45278ca9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@67d21bd8, org.springframework.security.web.access.ExceptionTranslationFilter@4f3b5c69, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-09T02:55:16.385-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-09T02:55:16.385-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T02:55:16.385-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T02:55:16.385-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T02:55:16.389-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T02:55:16.389-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T02:55:16.391-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T02:55:16.392-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T02:55:16.392-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T02:55:16.392-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T02:55:16.392-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T02:55:16.393-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T02:55:16.393-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T02:55:16.394-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T02:55:16.394-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T02:55:16.395-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T02:55:16.395-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T02:55:16.395-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T02:55:16.396-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-09T02:55:16.396-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001b5c5aa33d0@1dd25405
2025-08-09T02:55:16.396-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-09T02:55:16.396-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T02:55:16.397-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-09T02:55:16.397-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-09T02:55:16.439-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-09T02:55:16.451-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-09T02:55:16.633-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:55:16.637-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T02:55:16.641-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T02:55:16.645-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T02:55:16.647-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T02:55:16.798-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-09T02:55:16.798-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:55:16.801-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T02:55:16.801-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T02:55:16.801-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T02:55:16.801-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T02:55:16.835-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T02:55:16.836-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcxODkxNiwiZXhwIjoxNzU0ODA1MzE2fQ.rolrtiTYFkS5_65kDRKyFq2Wm4wpiYIQla9IQLNTzh0)]
2025-08-09T02:55:16.838-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T02:55:16.840-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T02:55:16.858-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@7497bf89, org.springframework.security.web.header.HeaderWriterFilter@416a9ff9, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@bdfdbc2, com.zlogcompras.config.JwtAuthenticationFilter@728ecb4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18384dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45278ca9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@67d21bd8, org.springframework.security.web.access.ExceptionTranslationFilter@4f3b5c69, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-09T02:55:16.859-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T02:55:16.859-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T02:55:16.859-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T02:55:16.861-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T02:55:16.861-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T02:55:16.862-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T02:55:16.863-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T02:55:16.863-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T02:55:16.864-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T02:55:16.864-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T02:55:16.864-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T02:55:16.864-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcxODkxNiwiZXhwIjoxNzU0ODA1MzE2fQ.rolrtiTYFkS5_65kDRKyFq2Wm4wpiYIQla9IQLNTzh0
2025-08-09T02:55:16.866-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-09T02:55:16.867-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T02:55:16.867-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:55:16.867-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T02:55:16.867-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T02:55:16.873-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T02:55:16.873-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T02:55:16.876-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-09T02:55:16.876-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-09T02:55:16.877-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-09T02:55:16.878-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T02:55:16.878-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T02:55:16.878-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T02:55:16.878-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T02:55:16.878-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-09T02:55:16.879-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-09T02:55:16.879-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T02:55:16.879-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T02:55:16.879-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T02:55:16.879-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T02:55:16.879-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-09T02:55:16.881-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T02:55:16.881-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-09T02:55:16.881-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-08-09T02:55:16.882-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-09T02:55:16.882-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1470380988<open>)] for JPA transaction
2025-08-09T02:55:16.883-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7f382ba]
2025-08-09T02:55:16.885-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-09T02:55:16.891-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-09T02:55:16.891-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1470380988<open>)]
2025-08-09T02:55:16.892-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1470380988<open>)] after transaction
2025-08-09T02:55:16.892-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T02:55:16.892-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@31010f48, com.zlogcompras.model.Produto@4ce9532b, com.zlogcompras.model.Produto@29fff268, com.zlogcompras.model.Produto@644912f4, com.zlogcompras.model.Produto@5d8b2a7a, com.zlogcompras.model.Produto@5bfd4aeb, com.zlogcompras.model.Produto@d478f4e, com.zlogcompras.model.Produto@21b5e2a0, com.zlogcompras.model.Produto@25e9c416, com.zlogcompras.model.Produto@14726852, com.zlogcompras.model.Produto@257eb86d]]
2025-08-09T02:55:16.892-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T02:55:16.892-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T02:56:14.481-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@7497bf89, org.springframework.security.web.header.HeaderWriterFilter@416a9ff9, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@bdfdbc2, com.zlogcompras.config.JwtAuthenticationFilter@728ecb4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18384dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45278ca9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@67d21bd8, org.springframework.security.web.access.ExceptionTranslationFilter@4f3b5c69, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-09T02:56:14.481-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-09T02:56:14.481-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T02:56:14.481-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T02:56:14.481-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T02:56:14.481-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T02:56:14.481-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T02:56:14.481-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T02:56:14.481-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T02:56:14.481-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T02:56:14.481-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T02:56:14.481-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T02:56:14.481-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T02:56:14.481-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T02:56:14.481-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T02:56:14.481-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T02:56:14.481-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T02:56:14.489-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T02:56:14.489-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T02:56:14.489-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-09T02:56:14.489-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001b5c5aa33d0@1dd25405
2025-08-09T02:56:14.489-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-09T02:56:14.489-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T02:56:14.491-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-09T02:56:14.491-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-09T02:56:14.491-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-09T02:56:14.491-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-09T02:56:14.491-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:56:14.491-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T02:56:14.491-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T02:56:14.491-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T02:56:14.491-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T02:56:14.651-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-09T02:56:14.651-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:56:14.651-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T02:56:14.651-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T02:56:14.661-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T02:56:14.661-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T02:56:14.664-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T02:56:14.664-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcxODk3NCwiZXhwIjoxNzU0ODA1Mzc0fQ.pVNThVokb38iG_QoUGkyPmtyYOFbVEFZsiYKs-1cZRk)]
2025-08-09T02:56:14.664-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T02:56:14.664-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T02:56:14.681-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@7497bf89, org.springframework.security.web.header.HeaderWriterFilter@416a9ff9, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@bdfdbc2, com.zlogcompras.config.JwtAuthenticationFilter@728ecb4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18384dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45278ca9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@67d21bd8, org.springframework.security.web.access.ExceptionTranslationFilter@4f3b5c69, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-09T02:56:14.681-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T02:56:14.681-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T02:56:14.681-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T02:56:14.681-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T02:56:14.681-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T02:56:14.681-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T02:56:14.681-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T02:56:14.681-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T02:56:14.681-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T02:56:14.681-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T02:56:14.686-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T02:56:14.686-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcxODk3NCwiZXhwIjoxNzU0ODA1Mzc0fQ.pVNThVokb38iG_QoUGkyPmtyYOFbVEFZsiYKs-1cZRk
2025-08-09T02:56:14.687-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-09T02:56:14.687-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T02:56:14.687-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T02:56:14.689-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T02:56:14.690-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T02:56:14.691-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T02:56:14.693-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T02:56:14.695-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-09T02:56:14.695-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-09T02:56:14.696-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-09T02:56:14.697-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T02:56:14.697-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T02:56:14.697-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T02:56:14.697-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T02:56:14.698-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-09T02:56:14.698-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-09T02:56:14.698-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T02:56:14.698-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T02:56:14.700-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T02:56:14.700-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T02:56:14.700-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-09T02:56:14.701-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T02:56:14.701-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-09T02:56:14.701-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-08-09T02:56:14.701-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-09T02:56:14.702-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1640277934<open>)] for JPA transaction
2025-08-09T02:56:14.703-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5e2480d6]
2025-08-09T02:56:14.705-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-09T02:56:14.709-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-09T02:56:14.709-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1640277934<open>)]
2025-08-09T02:56:14.712-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1640277934<open>)] after transaction
2025-08-09T02:56:14.712-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T02:56:14.713-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@4f985382, com.zlogcompras.model.Produto@77fabf3b, com.zlogcompras.model.Produto@1acfdc4b, com.zlogcompras.model.Produto@5e245d6d, com.zlogcompras.model.Produto@53ad0168, com.zlogcompras.model.Produto@718c6f41, com.zlogcompras.model.Produto@15c5c8bf, com.zlogcompras.model.Produto@69f6305f, com.zlogcompras.model.Produto@526bca48, com.zlogcompras.model.Produto@408f4123, com.zlogcompras.model.Produto@7b34e9bd]]
2025-08-09T02:56:14.714-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T02:56:14.715-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:03:36.882-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@7497bf89, org.springframework.security.web.header.HeaderWriterFilter@416a9ff9, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@bdfdbc2, com.zlogcompras.config.JwtAuthenticationFilter@728ecb4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18384dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45278ca9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@67d21bd8, org.springframework.security.web.access.ExceptionTranslationFilter@4f3b5c69, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-09T03:03:36.890-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-09T03:03:36.890-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:03:36.890-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:03:36.891-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:03:36.891-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:03:36.892-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:03:36.901-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:03:36.902-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:03:36.903-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:03:36.904-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T03:03:36.904-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:03:36.904-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:03:36.905-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:03:36.905-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:03:36.906-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:03:36.907-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:03:36.907-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:03:36.907-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:03:36.907-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-09T03:03:36.908-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001b5c5aa33d0@1dd25405
2025-08-09T03:03:36.908-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-09T03:03:36.908-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T03:03:36.911-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-09T03:03:36.912-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-09T03:03:36.949-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-09T03:03:36.953-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-09T03:03:36.962-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:03:37.009-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:03:37.057-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:03:37.205-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:03:37.210-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:03:37.445-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-09T03:03:37.445-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:03:37.450-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:03:37.450-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:03:37.455-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:03:37.455-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:03:37.469-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T03:03:37.469-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcxOTQxNywiZXhwIjoxNzU0ODA1ODE3fQ.1zk87FNhE0XrCrgBdiA6cw8MPyrtHxcNehuS6m1btYg)]
2025-08-09T03:03:37.469-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:03:37.501-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:03:37.520-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@7497bf89, org.springframework.security.web.header.HeaderWriterFilter@416a9ff9, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@bdfdbc2, com.zlogcompras.config.JwtAuthenticationFilter@728ecb4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18384dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45278ca9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@67d21bd8, org.springframework.security.web.access.ExceptionTranslationFilter@4f3b5c69, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-09T03:03:37.520-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T03:03:37.520-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:03:37.520-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:03:37.520-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:03:37.520-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:03:37.521-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:03:37.521-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:03:37.521-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:03:37.521-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:03:37.522-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:03:37.522-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T03:03:37.522-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcxOTQxNywiZXhwIjoxNzU0ODA1ODE3fQ.1zk87FNhE0XrCrgBdiA6cw8MPyrtHxcNehuS6m1btYg
2025-08-09T03:03:37.525-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-09T03:03:37.525-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:03:37.525-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:03:37.529-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:03:37.531-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:03:37.534-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:03:37.535-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:03:37.537-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-09T03:03:37.537-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-09T03:03:37.539-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-09T03:03:37.540-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:03:37.540-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:03:37.540-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:03:37.540-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:03:37.540-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-09T03:03:37.540-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-09T03:03:37.541-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:03:37.541-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:03:37.541-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T03:03:37.541-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T03:03:37.542-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-09T03:03:37.542-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:03:37.542-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-09T03:03:37.543-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-08-09T03:03:37.550-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-09T03:03:37.551-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1412735308<open>)] for JPA transaction
2025-08-09T03:03:37.557-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2a6dbd6b]
2025-08-09T03:03:37.580-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-09T03:03:37.585-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-09T03:03:37.585-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1412735308<open>)]
2025-08-09T03:03:37.595-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1412735308<open>)] after transaction
2025-08-09T03:03:37.595-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T03:03:37.595-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@15c4419c, com.zlogcompras.model.Produto@79e1c5c1, com.zlogcompras.model.Produto@77f8a169, com.zlogcompras.model.Produto@702d0fa3, com.zlogcompras.model.Produto@47d2789b, com.zlogcompras.model.Produto@30ea626d, com.zlogcompras.model.Produto@2ab7ef0, com.zlogcompras.model.Produto@1a632911, com.zlogcompras.model.Produto@4e219c66, com.zlogcompras.model.Produto@2dbb66c5, com.zlogcompras.model.Produto@743ec17c]]
2025-08-09T03:03:37.599-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:03:37.599-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:04:05.560-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@7497bf89, org.springframework.security.web.header.HeaderWriterFilter@416a9ff9, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@bdfdbc2, com.zlogcompras.config.JwtAuthenticationFilter@728ecb4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18384dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45278ca9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@67d21bd8, org.springframework.security.web.access.ExceptionTranslationFilter@4f3b5c69, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-09T03:04:05.560-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T03:04:05.560-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:04:05.560-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:04:05.560-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:04:05.560-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:04:05.560-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:04:05.560-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:04:05.560-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:04:05.560-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:04:05.560-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:04:05.560-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T03:04:05.564-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcxOTQxNywiZXhwIjoxNzU0ODA1ODE3fQ.1zk87FNhE0XrCrgBdiA6cw8MPyrtHxcNehuS6m1btYg
2025-08-09T03:04:05.565-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-09T03:04:05.566-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:04:05.566-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:04:05.570-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:04:05.571-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:04:05.573-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:04:05.575-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:04:05.577-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-09T03:04:05.578-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-09T03:04:05.581-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-09T03:04:05.581-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:04:05.581-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:04:05.582-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:04:05.582-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:04:05.582-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-09T03:04:05.583-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-09T03:04:05.583-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:04:05.583-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:04:05.583-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T03:04:05.583-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T03:04:05.584-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-09T03:04:05.584-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:04:05.584-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-09T03:04:05.585-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-08-09T03:04:05.585-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-09T03:04:05.585-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(2112984787<open>)] for JPA transaction
2025-08-09T03:04:05.587-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5851d188]
2025-08-09T03:04:05.588-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-09T03:04:05.593-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-09T03:04:05.593-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2112984787<open>)]
2025-08-09T03:04:05.595-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(2112984787<open>)] after transaction
2025-08-09T03:04:05.596-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T03:04:05.596-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@75b306db, com.zlogcompras.model.Produto@3149ea94, com.zlogcompras.model.Produto@254256e6, com.zlogcompras.model.Produto@2c3fc7e, com.zlogcompras.model.Produto@6f2bb723, com.zlogcompras.model.Produto@11c8fd18, com.zlogcompras.model.Produto@260a6ca1, com.zlogcompras.model.Produto@3bb74412, com.zlogcompras.model.Produto@9976ee8, com.zlogcompras.model.Produto@5fe172ff, com.zlogcompras.model.Produto@2afb72c6]]
2025-08-09T03:04:05.597-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:04:05.598-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:04:09.035-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@7497bf89, org.springframework.security.web.header.HeaderWriterFilter@416a9ff9, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@bdfdbc2, com.zlogcompras.config.JwtAuthenticationFilter@728ecb4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18384dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45278ca9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@67d21bd8, org.springframework.security.web.access.ExceptionTranslationFilter@4f3b5c69, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-09T03:04:09.035-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T03:04:09.035-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:04:09.035-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:04:09.035-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:04:09.035-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:04:09.035-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:04:09.035-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:04:09.035-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:04:09.035-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:04:09.035-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:04:09.035-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T03:04:09.035-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcxOTQxNywiZXhwIjoxNzU0ODA1ODE3fQ.1zk87FNhE0XrCrgBdiA6cw8MPyrtHxcNehuS6m1btYg
2025-08-09T03:04:09.035-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-09T03:04:09.043-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:04:09.043-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:04:09.045-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:04:09.045-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:04:09.047-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:04:09.047-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:04:09.047-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-09T03:04:09.047-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-09T03:04:09.047-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-09T03:04:09.047-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:04:09.047-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:04:09.047-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:04:09.047-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:04:09.055-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-09T03:04:09.055-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-09T03:04:09.055-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:04:09.055-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:04:09.055-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T03:04:09.055-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T03:04:09.055-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-09T03:04:09.055-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:04:09.055-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-09T03:04:09.055-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-08-09T03:04:09.055-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-09T03:04:09.055-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1484804093<open>)] for JPA transaction
2025-08-09T03:04:09.055-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5f22c3c8]
2025-08-09T03:04:09.055-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-09T03:04:09.065-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-09T03:04:09.066-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1484804093<open>)]
2025-08-09T03:04:09.068-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1484804093<open>)] after transaction
2025-08-09T03:04:09.068-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T03:04:09.069-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@62c7b79a, com.zlogcompras.model.Produto@6c5654d8, com.zlogcompras.model.Produto@3c082766, com.zlogcompras.model.Produto@4a1d6852, com.zlogcompras.model.Produto@15397dec, com.zlogcompras.model.Produto@4b971b07, com.zlogcompras.model.Produto@36d93604, com.zlogcompras.model.Produto@17279775, com.zlogcompras.model.Produto@492f4e60, com.zlogcompras.model.Produto@3a932b61, com.zlogcompras.model.Produto@45054321]]
2025-08-09T03:04:09.069-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:04:09.070-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:05:29.516-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@7497bf89, org.springframework.security.web.header.HeaderWriterFilter@416a9ff9, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@bdfdbc2, com.zlogcompras.config.JwtAuthenticationFilter@728ecb4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18384dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45278ca9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@67d21bd8, org.springframework.security.web.access.ExceptionTranslationFilter@4f3b5c69, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-09T03:05:29.516-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T03:05:29.516-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:05:29.520-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:05:29.520-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:05:29.520-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:05:29.520-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:05:29.520-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:05:29.520-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:05:29.520-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:05:29.520-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:05:29.520-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T03:05:29.520-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcxOTQxNywiZXhwIjoxNzU0ODA1ODE3fQ.1zk87FNhE0XrCrgBdiA6cw8MPyrtHxcNehuS6m1btYg
2025-08-09T03:05:29.525-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-09T03:05:29.525-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:05:29.525-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:05:29.530-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:05:29.532-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:05:29.536-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:05:29.536-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:05:29.539-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-09T03:05:29.539-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-09T03:05:29.542-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-09T03:05:29.543-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:05:29.543-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:05:29.543-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:05:29.544-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:05:29.545-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-09T03:05:29.545-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-09T03:05:29.546-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:05:29.546-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:05:29.547-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T03:05:29.547-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T03:05:29.548-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-09T03:05:29.548-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:05:29.549-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-09T03:05:29.549-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-08-09T03:05:29.549-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-09T03:05:29.549-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1212683313<open>)] for JPA transaction
2025-08-09T03:05:29.549-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@260cc6b6]
2025-08-09T03:05:29.549-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-09T03:05:29.558-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-09T03:05:29.558-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1212683313<open>)]
2025-08-09T03:05:29.560-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1212683313<open>)] after transaction
2025-08-09T03:05:29.563-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T03:05:29.564-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@5655a6e9, com.zlogcompras.model.Produto@10135db0, com.zlogcompras.model.Produto@187c9d07, com.zlogcompras.model.Produto@3b6fd01e, com.zlogcompras.model.Produto@40f65b74, com.zlogcompras.model.Produto@4a826007, com.zlogcompras.model.Produto@366a58f5, com.zlogcompras.model.Produto@73c09106, com.zlogcompras.model.Produto@19f49f1, com.zlogcompras.model.Produto@5844939d, com.zlogcompras.model.Produto@3c8dc590]]
2025-08-09T03:05:29.565-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:05:29.566-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:08:06.886-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@7497bf89, org.springframework.security.web.header.HeaderWriterFilter@416a9ff9, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@bdfdbc2, com.zlogcompras.config.JwtAuthenticationFilter@728ecb4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18384dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45278ca9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@67d21bd8, org.springframework.security.web.access.ExceptionTranslationFilter@4f3b5c69, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-09T03:08:06.930-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T03:08:06.932-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:08:06.933-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:08:06.938-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:08:06.942-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:08:06.943-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:08:06.974-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:08:06.978-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:08:06.980-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:08:06.992-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:08:06.995-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T03:08:06.996-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcxOTQxNywiZXhwIjoxNzU0ODA1ODE3fQ.1zk87FNhE0XrCrgBdiA6cw8MPyrtHxcNehuS6m1btYg
2025-08-09T03:08:07.077-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-09T03:08:07.077-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:08:07.132-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:07.221-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:08:07.242-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:08:07.357-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:08:07.358-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:08:07.370-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-09T03:08:07.370-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-09T03:08:07.373-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-09T03:08:07.373-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:08:07.373-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:08:07.374-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:08:07.374-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:08:07.374-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-09T03:08:07.374-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-09T03:08:07.374-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:08:07.376-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:08:07.376-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T03:08:07.377-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T03:08:07.377-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-09T03:08:07.378-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:08:07.379-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-09T03:08:07.381-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-08-09T03:08:07.393-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-09T03:08:07.398-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1911245758<open>)] for JPA transaction
2025-08-09T03:08:07.403-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2d609ba]
2025-08-09T03:08:07.409-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-09T03:08:07.418-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-09T03:08:07.419-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1911245758<open>)]
2025-08-09T03:08:07.424-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1911245758<open>)] after transaction
2025-08-09T03:08:07.431-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T03:08:07.432-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@c5d40f0, com.zlogcompras.model.Produto@4bee6cbf, com.zlogcompras.model.Produto@2729f91e, com.zlogcompras.model.Produto@528d6114, com.zlogcompras.model.Produto@3431e175, com.zlogcompras.model.Produto@c82f8d8, com.zlogcompras.model.Produto@640b115f, com.zlogcompras.model.Produto@5d37590b, com.zlogcompras.model.Produto@66b63191, com.zlogcompras.model.Produto@7de941a7, com.zlogcompras.model.Produto@415426ac]]
2025-08-09T03:08:07.437-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:08:07.441-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:08:07.781-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@7497bf89, org.springframework.security.web.header.HeaderWriterFilter@416a9ff9, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@bdfdbc2, com.zlogcompras.config.JwtAuthenticationFilter@728ecb4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18384dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45278ca9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@67d21bd8, org.springframework.security.web.access.ExceptionTranslationFilter@4f3b5c69, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-09T03:08:07.782-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T03:08:07.782-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:08:07.783-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:08:07.783-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:08:07.783-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:08:07.783-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:08:07.784-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:08:07.784-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:08:07.784-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:08:07.784-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:08:07.785-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T03:08:07.785-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcxOTQxNywiZXhwIjoxNzU0ODA1ODE3fQ.1zk87FNhE0XrCrgBdiA6cw8MPyrtHxcNehuS6m1btYg
2025-08-09T03:08:07.786-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-09T03:08:07.787-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:08:07.789-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:07.794-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:08:07.796-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:08:07.798-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:08:07.799-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:08:07.801-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-09T03:08:07.801-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-09T03:08:07.802-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-09T03:08:07.803-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:08:07.803-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:08:07.803-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:08:07.803-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:08:07.804-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-09T03:08:07.804-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-09T03:08:07.804-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:08:07.805-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:08:07.805-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T03:08:07.806-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T03:08:07.807-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-09T03:08:07.807-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:08:07.808-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-09T03:08:07.808-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-08-09T03:08:07.809-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-09T03:08:07.809-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1632154580<open>)] for JPA transaction
2025-08-09T03:08:07.811-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@44bb662f]
2025-08-09T03:08:07.812-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-09T03:08:07.818-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-09T03:08:07.818-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1632154580<open>)]
2025-08-09T03:08:07.821-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1632154580<open>)] after transaction
2025-08-09T03:08:07.821-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T03:08:07.822-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@366770cb, com.zlogcompras.model.Produto@e5f06ae, com.zlogcompras.model.Produto@552e1372, com.zlogcompras.model.Produto@1ef0b316, com.zlogcompras.model.Produto@131c792b, com.zlogcompras.model.Produto@65006790, com.zlogcompras.model.Produto@40105dc1, com.zlogcompras.model.Produto@5be32ed6, com.zlogcompras.model.Produto@2bc6d1a0, com.zlogcompras.model.Produto@4d9c1faf, com.zlogcompras.model.Produto@f20ad88]]
2025-08-09T03:08:07.822-03:00 TRACE 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:08:07.824-03:00 DEBUG 13628 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:08:48.795-03:00  INFO 13884 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 13884 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-09T03:08:48.796-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-09T03:08:48.797-03:00  INFO 13884 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-09T03:08:48.851-03:00  INFO 13884 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-09T03:08:48.851-03:00  INFO 13884 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-09T03:08:49.716-03:00  INFO 13884 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-09T03:08:49.806-03:00  INFO 13884 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 83 ms. Found 13 JPA repository interfaces.
2025-08-09T03:08:50.556-03:00  INFO 13884 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-09T03:08:50.576-03:00  INFO 13884 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-09T03:08:50.576-03:00  INFO 13884 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-08-09T03:08:50.626-03:00  INFO 13884 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-09T03:08:50.634-03:00  INFO 13884 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1773 ms
2025-08-09T03:08:50.767-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-09T03:08:50.786-03:00  INFO 13884 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-09T03:08:50.851-03:00  INFO 13884 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-08-09T03:08:50.886-03:00  INFO 13884 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-09T03:08:51.180-03:00  INFO 13884 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-09T03:08:51.206-03:00  INFO 13884 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-09T03:08:51.466-03:00  INFO 13884 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2fc0139e
2025-08-09T03:08:51.471-03:00  INFO 13884 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-09T03:08:51.553-03:00  WARN 13884 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-09T03:08:52.774-03:00  INFO 13884 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-09T03:08:52.777-03:00  INFO 13884 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-09T03:08:52.807-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-09T03:08:52.824-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-09T03:08:52.842-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:52.875-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:52.926-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:52.971-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-09T03:08:52.974-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-09T03:08:52.978-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.079-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-08-09T03:08:53.119-03:00 TRACE 13884 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@51375b35}
2025-08-09T03:08:53.146-03:00  INFO 13884 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-09T03:08:53.151-03:00  WARN 13884 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-09T03:08:53.156-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.159-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.163-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-09T03:08:53.163-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-09T03:08:53.163-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.170-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.178-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.183-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-09T03:08:53.184-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-09T03:08:53.184-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.189-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-09T03:08:53.189-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-09T03:08:53.189-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.196-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.197-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.200-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-09T03:08:53.201-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-09T03:08:53.201-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.557-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.557-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.557-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-09T03:08:53.557-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-09T03:08:53.557-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.576-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.586-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.586-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-09T03:08:53.586-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-09T03:08:53.586-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.595-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-09T03:08:53.596-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-09T03:08:53.596-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.597-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-09T03:08:53.597-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-09T03:08:53.598-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.598-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-09T03:08:53.598-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-09T03:08:53.598-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.602-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-09T03:08:53.603-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-09T03:08:53.603-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.604-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-09T03:08:53.604-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-09T03:08:53.606-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.607-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-09T03:08:53.607-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-09T03:08:53.607-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.609-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.609-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.621-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.622-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.624-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-09T03:08:53.624-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-09T03:08:53.624-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.625-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-09T03:08:53.626-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-09T03:08:53.626-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.627-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-09T03:08:53.627-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-09T03:08:53.627-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.637-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.642-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.643-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-09T03:08:53.643-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-09T03:08:53.643-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.647-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-09T03:08:53.648-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-09T03:08:53.648-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.649-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-09T03:08:53.649-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-09T03:08:53.649-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.654-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.656-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.657-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-09T03:08:53.657-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-09T03:08:53.657-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.676-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.684-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.686-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-09T03:08:53.687-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-09T03:08:53.687-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.689-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-09T03:08:53.690-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-09T03:08:53.690-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.690-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-09T03:08:53.690-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-09T03:08:53.690-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:53.977-03:00 TRACE 13884 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-08-09T03:08:53.986-03:00 TRACE 13884 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
2025-08-09T03:08:54.001-03:00 TRACE 13884 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
2025-08-09T03:08:54.004-03:00 TRACE 13884 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
2025-08-09T03:08:54.008-03:00 TRACE 13884 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-08-09T03:08:54.014-03:00 TRACE 13884 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-08-09T03:08:54.019-03:00 TRACE 13884 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{GET [/api/produtos]}: listarTodosProdutos()
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
2025-08-09T03:08:54.023-03:00 TRACE 13884 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-08-09T03:08:54.027-03:00 TRACE 13884 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-09T03:08:54.038-03:00 TRACE 13884 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-08-09T03:08:54.047-03:00 TRACE 13884 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-09T03:08:54.048-03:00 TRACE 13884 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-09T03:08:54.051-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-08-09T03:08:54.136-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-09T03:08:54.176-03:00  INFO 13884 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]
2025-08-09T03:08:54.306-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-09T03:08:54.346-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-09T03:08:54.536-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:54.536-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:54.538-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-09T03:08:54.538-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-09T03:08:54.538-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:54.545-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:54.547-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:54.548-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-09T03:08:54.548-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-09T03:08:54.548-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:54.620-03:00  INFO 13884 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-09T03:08:54.656-03:00  INFO 13884 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-09T03:08:54.671-03:00  INFO 13884 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 6.376 seconds (process running for 6.983)
2025-08-09T03:08:54.678-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:54.807-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-09T03:08:54.807-03:00 TRACE 13884 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-09T03:08:54.837-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:08:54.838-03:00 DEBUG 13884 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-09T03:08:54.839-03:00 TRACE 13884 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-09T03:09:26.198-03:00  INFO 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-09T03:09:26.198-03:00  INFO 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-09T03:09:26.198-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-08-09T03:09:26.198-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-08-09T03:09:26.198-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-08-09T03:09:26.198-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5bb771ba
2025-08-09T03:09:26.198-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2dc9790a
2025-08-09T03:09:26.206-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-09T03:09:26.206-03:00  INFO 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-08-09T03:09:26.226-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:09:26.226-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-09T03:09:26.227-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:09:26.228-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:09:26.230-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:09:26.232-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:09:26.238-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:09:26.256-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:09:26.256-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:09:26.256-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:09:26.256-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T03:09:26.256-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:09:26.256-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:09:26.266-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:09:26.266-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:09:26.266-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:09:26.266-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:09:26.266-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:09:26.266-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:09:26.266-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-09T03:09:26.266-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000016cbdaa0a38@cd64f2f
2025-08-09T03:09:26.266-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-09T03:09:26.266-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T03:09:26.266-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-09T03:09:26.276-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-09T03:09:26.408-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-09T03:09:26.422-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-09T03:09:26.564-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:09:26.566-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:09:26.576-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:09:26.597-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:09:26.606-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:09:26.756-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-09T03:09:26.756-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:09:26.756-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:09:26.756-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:09:26.756-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:09:26.756-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:09:26.963-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T03:09:26.966-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcxOTc2NiwiZXhwIjoxNzU0ODA2MTY2fQ.dpSVL3pkgz0dU9G_mUpjaONiU_FAXSZ4J3IgMQhR13s)]
2025-08-09T03:09:26.966-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:09:26.976-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:09:26.992-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:09:26.994-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T03:09:26.994-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:09:26.994-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:09:26.994-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:09:26.994-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:09:26.994-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:09:26.996-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:09:26.996-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:09:26.996-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:09:26.997-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:09:26.997-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T03:09:26.998-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcxOTc2NiwiZXhwIjoxNzU0ODA2MTY2fQ.dpSVL3pkgz0dU9G_mUpjaONiU_FAXSZ4J3IgMQhR13s
2025-08-09T03:09:27.063-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-09T03:09:27.063-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:09:27.063-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:09:27.066-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:09:27.067-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:09:27.067-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:09:27.067-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:09:27.071-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-09T03:09:27.071-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-09T03:09:27.073-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-09T03:09:27.073-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:09:27.073-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:09:27.073-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:09:27.073-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:09:27.075-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-09T03:09:27.075-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-09T03:09:27.075-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:09:27.075-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:09:27.075-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T03:09:27.075-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T03:09:27.075-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-09T03:09:27.075-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:09:27.075-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-09T03:09:27.075-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-08-09T03:09:27.086-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-09T03:09:27.086-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(198140335<open>)] for JPA transaction
2025-08-09T03:09:27.086-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7b82d6f4]
2025-08-09T03:09:27.098-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-09T03:09:27.116-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-09T03:09:27.116-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(198140335<open>)]
2025-08-09T03:09:27.116-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(198140335<open>)] after transaction
2025-08-09T03:09:27.116-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T03:09:27.116-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@5013935f, com.zlogcompras.model.Produto@71afc2ca, com.zlogcompras.model.Produto@5efa7211, com.zlogcompras.model.Produto@4de513fe, com.zlogcompras.model.Produto@1a0e876, com.zlogcompras.model.Produto@e16c31a, com.zlogcompras.model.Produto@3f15233, com.zlogcompras.model.Produto@666edb50, com.zlogcompras.model.Produto@608b6cb3, com.zlogcompras.model.Produto@583d7dab, com.zlogcompras.model.Produto@5154cc55]]
2025-08-09T03:09:27.135-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:09:27.137-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:16:06.648-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:16:06.649-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/index.html
2025-08-09T03:16:06.649-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:16:06.649-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:16:06.650-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:16:06.650-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:16:06.650-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:16:06.650-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:16:06.650-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:16:06.651-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:16:06.651-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should not filter (prefix match): /swagger-ui/index.html
2025-08-09T03:16:06.651-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:16:06.651-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:16:06.652-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:16:06.652-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:16:06.652-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:16:06.652-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:16:06.652-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:16:06.653-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:16:06.653-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /swagger-ui/index.html
2025-08-09T03:16:06.653-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /swagger-ui/index.html using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000016cbdaa0a38@cd64f2f
2025-08-09T03:16:06.653-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/index.html
2025-08-09T03:16:06.654-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should not filter (prefix match): /swagger-ui/index.html
2025-08-09T03:16:06.654-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/index.html", parameters={}
2025-08-09T03:16:06.656-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-08-09T03:16:06.687-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:16:06.689-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:16:06.730-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:16:06.731-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-ui.css
2025-08-09T03:16:06.732-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:16:06.732-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:16:06.732-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:16:06.732-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-ui-bundle.js
2025-08-09T03:16:06.732-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:16:06.733-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:16:06.733-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:16:06.733-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:16:06.733-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/index.css
2025-08-09T03:16:06.733-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:16:06.733-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:16:06.733-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:16:06.733-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:16:06.733-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:16:06.733-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:16:06.733-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:16:06.733-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:16:06.733-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:16:06.734-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:16:06.733-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:16:06.734-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:16:06.734-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:16:06.734-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:16:06.734-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should not filter (prefix match): /swagger-ui/swagger-ui.css
2025-08-09T03:16:06.734-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:16:06.734-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:16:06.734-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:16:06.734-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:16:06.734-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:16:06.736-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:16:06.736-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:16:06.736-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should not filter (prefix match): /swagger-ui/swagger-ui-bundle.js
2025-08-09T03:16:06.736-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:16:06.736-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should not filter (prefix match): /swagger-ui/index.css
2025-08-09T03:16:06.736-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:16:06.736-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:16:06.736-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:16:06.737-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:16:06.737-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:16:06.736-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:16:06.737-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:16:06.737-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:16:06.737-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:16:06.737-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:16:06.737-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:16:06.737-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:16:06.738-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:16:06.737-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:16:06.738-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:16:06.738-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /swagger-ui/swagger-ui.css
2025-08-09T03:16:06.738-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:16:06.738-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:16:06.738-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:16:06.738-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:16:06.738-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /swagger-ui/swagger-ui.css using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000016cbdaa0a38@cd64f2f
2025-08-09T03:16:06.738-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:16:06.738-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:16:06.739-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-ui.css
2025-08-09T03:16:06.739-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /swagger-ui/index.css
2025-08-09T03:16:06.739-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should not filter (prefix match): /swagger-ui/swagger-ui.css
2025-08-09T03:16:06.739-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /swagger-ui/swagger-ui-bundle.js
2025-08-09T03:16:06.739-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /swagger-ui/index.css using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000016cbdaa0a38@cd64f2f
2025-08-09T03:16:06.739-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css", parameters={}
2025-08-09T03:16:06.739-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /swagger-ui/swagger-ui-bundle.js using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000016cbdaa0a38@cd64f2f
2025-08-09T03:16:06.739-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/index.css
2025-08-09T03:16:06.740-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-ui-bundle.js
2025-08-09T03:16:06.740-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should not filter (prefix match): /swagger-ui/index.css
2025-08-09T03:16:06.740-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should not filter (prefix match): /swagger-ui/swagger-ui-bundle.js
2025-08-09T03:16:06.740-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/index.css", parameters={}
2025-08-09T03:16:06.740-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-08-09T03:16:06.741-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-08-09T03:16:06.741-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-08-09T03:16:06.743-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-08-09T03:16:06.745-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:16:06.747-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:16:06.747-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:16:06.748-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:16:06.752-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:16:06.770-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:16:09.774-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:16:09.774-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:16:09.774-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-initializer.js
2025-08-09T03:16:09.774-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-08-09T03:16:09.774-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:16:09.775-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:16:09.775-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:16:09.775-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:16:09.775-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:16:09.775-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:16:09.775-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:16:09.775-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:16:09.775-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:16:09.776-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:16:09.776-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:16:09.776-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:16:09.776-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:16:09.776-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should not filter (prefix match): /swagger-ui/swagger-initializer.js
2025-08-09T03:16:09.776-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:16:09.776-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:16:09.776-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:16:09.778-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:16:09.778-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:16:09.779-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:16:09.778-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:16:09.780-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:16:09.782-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:16:09.783-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:16:09.784-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:16:09.784-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /swagger-ui/swagger-initializer.js
2025-08-09T03:16:09.785-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /swagger-ui/swagger-initializer.js using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000016cbdaa0a38@cd64f2f
2025-08-09T03:16:09.785-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-initializer.js
2025-08-09T03:16:09.785-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should not filter (prefix match): /swagger-ui/swagger-initializer.js
2025-08-09T03:16:09.783-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Should not filter (prefix match): /swagger-ui/swagger-ui-standalone-preset.js
2025-08-09T03:16:09.785-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-08-09T03:16:09.786-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:16:09.786-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-08-09T03:16:09.786-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:16:09.790-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:16:09.790-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:16:09.790-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:16:09.790-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:16:09.790-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:16:09.791-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:16:09.791-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-08-09T03:16:09.791-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /swagger-ui/swagger-ui-standalone-preset.js using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000016cbdaa0a38@cd64f2f
2025-08-09T03:16:09.791-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-08-09T03:16:09.791-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Should not filter (prefix match): /swagger-ui/swagger-ui-standalone-preset.js
2025-08-09T03:16:09.791-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-08-09T03:16:09.803-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-08-09T03:16:09.816-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:16:09.828-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:16:09.839-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:16:09.839-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:16:09.943-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:16:09.944-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/favicon-32x32.png
2025-08-09T03:16:09.944-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:16:09.944-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:16:09.944-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:16:09.945-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:16:09.945-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:16:09.945-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:16:09.945-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:16:09.945-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:16:09.945-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should not filter (prefix match): /swagger-ui/favicon-32x32.png
2025-08-09T03:16:09.946-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:16:09.946-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:16:09.946-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:16:09.946-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:16:09.946-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:16:09.947-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:16:09.947-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:16:09.947-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:16:09.947-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /swagger-ui/favicon-32x32.png
2025-08-09T03:16:09.948-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /swagger-ui/favicon-32x32.png using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000016cbdaa0a38@cd64f2f
2025-08-09T03:16:09.948-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/favicon-32x32.png
2025-08-09T03:16:09.948-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should not filter (prefix match): /swagger-ui/favicon-32x32.png
2025-08-09T03:16:09.949-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-08-09T03:16:09.954-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-08-09T03:16:09.958-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:16:09.959-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:16:10.150-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:16:10.154-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /v3/api-docs/swagger-config
2025-08-09T03:16:10.155-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:16:10.156-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:16:10.156-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:16:10.157-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:16:10.157-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:16:10.158-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:16:10.158-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:16:10.159-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:16:10.160-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (prefix match): /v3/api-docs/swagger-config
2025-08-09T03:16:10.160-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:16:10.162-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:16:10.163-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:16:10.163-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:16:10.165-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:16:10.167-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:16:10.167-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:16:10.167-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:16:10.169-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /v3/api-docs/swagger-config
2025-08-09T03:16:10.170-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /v3/api-docs/swagger-config using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000016cbdaa0a38@cd64f2f
2025-08-09T03:16:10.171-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /v3/api-docs/swagger-config
2025-08-09T03:16:10.171-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (prefix match): /v3/api-docs/swagger-config
2025-08-09T03:16:10.171-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/v3/api-docs/swagger-config", parameters={}
2025-08-09T03:16:10.173-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-08-09T03:16:10.183-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json]
2025-08-09T03:16:10.185-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-08-09T03:16:10.187-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:16:10.188-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:16:10.227-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:16:10.229-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /v3/api-docs
2025-08-09T03:16:10.232-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:16:10.232-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:16:10.232-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:16:10.232-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:16:10.232-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:16:10.234-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:16:10.234-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:16:10.234-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:16:10.234-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /v3/api-docs
2025-08-09T03:16:10.234-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /v3/api-docs
2025-08-09T03:16:10.235-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Cabeçalho Authorization ausente ou inválido. Passando para o próximo filtro.
2025-08-09T03:16:10.235-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:16:10.235-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:16:10.235-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:16:10.235-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:16:10.235-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:16:10.236-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:16:10.236-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:16:10.236-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:16:10.236-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /v3/api-docs
2025-08-09T03:16:10.236-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /v3/api-docs using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000016cbdaa0a38@cd64f2f
2025-08-09T03:16:10.237-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /v3/api-docs
2025-08-09T03:16:10.237-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /v3/api-docs
2025-08-09T03:16:10.237-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/v3/api-docs", parameters={}
2025-08-09T03:16:10.238-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-08-09T03:16:12.010-03:00  INFO 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 1743 ms
2025-08-09T03:16:12.036-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, */*] and supported [application/json]
2025-08-09T03:16:12.041-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-08-09T03:16:12.043-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:16:12.045-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:16:30.334-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:16:30.335-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T03:16:30.335-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:16:30.335-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:16:30.336-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:16:30.336-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:16:30.336-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:16:30.336-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:16:30.337-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:16:30.337-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:16:30.337-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:16:30.337-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T03:16:30.337-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Cabeçalho Authorization ausente ou inválido. Passando para o próximo filtro.
2025-08-09T03:16:30.337-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:16:30.338-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:16:30.338-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:16:30.338-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:16:30.338-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:16:30.338-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:16:30.338-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:16:30.338-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:16:30.338-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T03:16:30.339-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T03:16:30.340-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:92) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-08-09T03:16:30.363-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-08-09T03:16:30.363-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:16:30.416-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-08-09T03:16:30.417-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:16:30.418-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-08-09T03:16:30.418-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:16:30.419-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:16:30.419-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:16:30.420-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:16:30.420-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:16:30.420-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:16:30.420-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:16:30.420-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:16:30.421-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:16:30.421-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:16:30.421-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:16:30.423-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:16:30.423-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:16:30.423-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:16:30.424-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-08-09T03:16:30.424-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000016cbdaa0a38@cd64f2f
2025-08-09T03:16:30.424-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-08-09T03:16:30.424-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-08-09T03:16:30.426-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-08-09T03:16:30.426-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-09T03:16:30.436-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-09T03:16:30.437-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sat Aug 09 03:16:30 BRT 2025, status=403, error=Forbidden, message=Access Denied, path=/api/produtos}]
2025-08-09T03:16:30.446-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-08-09T03:16:30.446-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:16:30.448-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:17:13.555-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:17:13.556-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-09T03:17:13.556-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:17:13.556-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:17:13.556-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:17:13.557-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:17:13.557-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:17:13.557-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:17:13.557-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:17:13.558-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:17:13.558-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T03:17:13.558-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:17:13.558-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:17:13.558-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:17:13.558-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:17:13.558-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:17:13.560-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:17:13.560-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:17:13.560-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:17:13.560-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-09T03:17:13.560-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000016cbdaa0a38@cd64f2f
2025-08-09T03:17:13.561-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-09T03:17:13.561-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T03:17:13.561-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-09T03:17:13.562-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-09T03:17:13.565-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-09T03:17:13.565-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-09T03:17:13.566-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:17:13.577-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:17:13.586-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:17:13.681-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:17:13.681-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:17:13.797-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-09T03:17:13.798-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:17:13.799-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:17:13.800-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:17:13.802-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:17:13.802-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:17:13.806-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-09T03:17:13.807-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcyMDIzMywiZXhwIjoxNzU0ODA2NjMzfQ.qtsPRLvQKW41dqcdvFHAbsCE7gPajlmPcfgYNR1UJ2w)]
2025-08-09T03:17:13.807-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:17:13.808-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:17:46.604-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:17:46.605-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T03:17:46.605-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:17:46.605-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:17:46.605-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:17:46.605-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:17:46.605-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:17:46.606-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:17:46.606-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:17:46.606-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:17:46.606-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:17:46.606-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T03:17:46.606-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcyMDIzMywiZXhwIjoxNzU0ODA2NjMzfQ.qtsPRLvQKW41dqcdvFHAbsCE7gPajlmPcfgYNR1UJ2w
2025-08-09T03:17:46.608-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-09T03:17:46.608-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:17:46.609-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:17:46.612-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:17:46.614-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:17:46.617-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:17:46.617-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:17:46.619-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-09T03:17:46.619-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-09T03:17:46.621-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-09T03:17:46.621-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:17:46.621-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:17:46.621-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:17:46.621-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:17:46.621-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-09T03:17:46.621-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-09T03:17:46.623-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:17:46.623-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:17:46.623-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T03:17:46.623-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T03:17:46.624-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-09T03:17:46.624-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:17:46.624-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-09T03:17:46.625-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-08-09T03:17:46.627-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-09T03:17:46.628-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1462729426<open>)] for JPA transaction
2025-08-09T03:17:46.647-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@28e383ce]
2025-08-09T03:17:46.653-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-09T03:17:46.677-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-09T03:17:46.677-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1462729426<open>)]
2025-08-09T03:17:46.683-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1462729426<open>)] after transaction
2025-08-09T03:17:46.684-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-09T03:17:46.684-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@7bd7fc7a, com.zlogcompras.model.Produto@51ba9842, com.zlogcompras.model.Produto@4ebcf7f5, com.zlogcompras.model.Produto@4315f034, com.zlogcompras.model.Produto@765e000, com.zlogcompras.model.Produto@2981026, com.zlogcompras.model.Produto@2b325cdf, com.zlogcompras.model.Produto@474a9ddd, com.zlogcompras.model.Produto@6f0700d4, com.zlogcompras.model.Produto@2d5c2432, com.zlogcompras.model.Produto@143141e2]]
2025-08-09T03:17:46.687-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:17:46.688-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:34:11.436-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:34:11.454-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-09T03:34:11.454-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:34:11.454-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:34:11.454-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:34:11.454-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:34:11.454-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:34:11.485-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:34:11.517-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:34:11.517-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-09T03:34:11.518-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:34:11.518-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:34:11.518-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:34:11.518-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:34:11.518-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:34:11.521-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:34:11.522-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:34:11.523-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:34:11.524-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T03:34:11.526-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:34:11.526-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:34:11.527-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:34:11.528-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:34:11.530-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:34:11.532-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:34:11.532-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:34:11.532-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:34:11.533-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-09T03:34:11.533-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000016cbdaa0a38@cd64f2f
2025-08-09T03:34:11.533-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-09T03:34:11.534-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T03:34:11.537-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-09T03:34:11.539-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-09T03:34:11.591-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-09T03:34:11.600-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-09T03:34:11.614-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:34:11.696-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:34:11.723-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:34:11.815-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:34:11.815-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:34:11.915-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-09T03:34:11.915-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:34:11.923-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:34:11.923-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:34:11.925-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:34:11.925-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:34:11.948-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T03:34:11.950-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcyMTI1MSwiZXhwIjoxNzU0ODA3NjUxfQ.m7HVk6mH0G2d6YAbwj2ZrSJAgFb2N77HCpAIZ_jzS50)]
2025-08-09T03:34:11.951-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:34:11.953-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:34:11.973-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:34:11.973-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-09T03:34:11.973-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:34:11.973-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:34:11.973-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:34:11.973-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:34:11.973-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:34:11.974-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:34:11.979-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:34:11.979-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T03:34:11.980-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:34:11.980-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:34:11.980-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:34:11.980-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:34:11.980-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:34:11.982-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:34:11.982-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:34:11.982-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:34:11.983-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:34:11.983-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T03:34:11.983-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcyMTI1MSwiZXhwIjoxNzU0ODA3NjUxfQ.m7HVk6mH0G2d6YAbwj2ZrSJAgFb2N77HCpAIZ_jzS50
2025-08-09T03:34:11.991-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-09T03:34:11.991-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:34:11.992-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:34:11.993-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:34:11.993-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:34:11.995-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:34:11.996-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:34:11.999-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-09T03:34:11.999-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-09T03:34:12.001-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-09T03:34:12.001-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:34:12.001-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:34:12.001-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:34:12.002-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:34:12.002-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-09T03:34:12.002-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-09T03:34:12.002-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:34:12.003-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:34:12.003-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T03:34:12.003-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T03:34:12.003-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-09T03:34:12.003-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:34:12.004-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-09T03:34:12.004-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-08-09T03:34:12.010-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-09T03:34:12.010-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(312002665<open>)] for JPA transaction
2025-08-09T03:34:12.015-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7f4dedae]
2025-08-09T03:34:12.029-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-09T03:34:12.037-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-09T03:34:12.037-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(312002665<open>)]
2025-08-09T03:34:12.042-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(312002665<open>)] after transaction
2025-08-09T03:34:12.044-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T03:34:12.044-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@290ad33a, com.zlogcompras.model.Produto@5b65614b, com.zlogcompras.model.Produto@25aae26e, com.zlogcompras.model.Produto@7a0c0f43, com.zlogcompras.model.Produto@560903b, com.zlogcompras.model.Produto@75ffd6e5, com.zlogcompras.model.Produto@734f3a6, com.zlogcompras.model.Produto@1d589214, com.zlogcompras.model.Produto@1c3838cc, com.zlogcompras.model.Produto@17fb9d50, com.zlogcompras.model.Produto@37f2f5ca]]
2025-08-09T03:34:12.047-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:34:12.048-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:39:34.998-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:39:35.016-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-09T03:39:35.016-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:39:35.017-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:39:35.018-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:39:35.020-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:39:35.020-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:39:35.023-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:39:35.033-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:39:35.033-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:39:35.035-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T03:39:35.037-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:39:35.037-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:39:35.037-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:39:35.037-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:39:35.037-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:39:35.043-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:39:35.043-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:39:35.043-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:39:35.043-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-09T03:39:35.043-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000016cbdaa0a38@cd64f2f
2025-08-09T03:39:35.043-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-09T03:39:35.043-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T03:39:35.051-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-09T03:39:35.053-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-09T03:39:35.143-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-09T03:39:35.163-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-09T03:39:35.178-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:39:35.267-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:39:35.303-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:39:35.438-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:39:35.438-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:39:35.593-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-09T03:39:35.596-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:39:35.596-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:39:35.596-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:39:35.603-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:39:35.603-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:39:35.623-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T03:39:35.628-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcyMTU3NSwiZXhwIjoxNzU0ODA3OTc1fQ.DwdhQiLobqfPg6dNu-sgkbPY2Kh6aAUJgNP0ybpA-SA)]
2025-08-09T03:39:35.628-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:39:35.645-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:39:35.664-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@cbca71b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58a15c82, org.springframework.security.web.context.SecurityContextHolderFilter@1f75e8a9, org.springframework.security.web.header.HeaderWriterFilter@45278ca9, org.springframework.web.filter.CorsFilter@6f382637, org.springframework.security.web.authentication.logout.LogoutFilter@35133cc1, com.zlogcompras.config.JwtAuthenticationFilter@3a97c195, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e909a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e807a0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bc40430, org.springframework.security.web.session.SessionManagementFilter@49c85b41, org.springframework.security.web.access.ExceptionTranslationFilter@1e97a2b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7214cbad]] (1/1)
2025-08-09T03:39:35.665-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T03:39:35.666-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:39:35.666-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:39:35.666-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:39:35.666-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:39:35.667-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:39:35.668-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:39:35.668-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:39:35.668-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:39:35.669-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:39:35.669-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T03:39:35.669-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcyMTU3NSwiZXhwIjoxNzU0ODA3OTc1fQ.DwdhQiLobqfPg6dNu-sgkbPY2Kh6aAUJgNP0ybpA-SA
2025-08-09T03:39:35.674-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-09T03:39:35.674-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:39:35.675-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:39:35.676-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:39:35.677-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:39:35.679-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:39:35.680-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:39:35.683-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-09T03:39:35.683-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-09T03:39:35.685-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-09T03:39:35.685-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:39:35.685-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:39:35.686-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:39:35.686-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:39:35.686-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-09T03:39:35.686-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-09T03:39:35.686-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:39:35.686-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:39:35.687-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T03:39:35.687-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T03:39:35.687-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-09T03:39:35.687-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:39:35.688-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-09T03:39:35.688-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-08-09T03:39:35.695-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-09T03:39:35.696-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(78976331<open>)] for JPA transaction
2025-08-09T03:39:35.698-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@42c3247]
2025-08-09T03:39:35.717-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-09T03:39:35.727-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-09T03:39:35.727-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(78976331<open>)]
2025-08-09T03:39:35.727-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(78976331<open>)] after transaction
2025-08-09T03:39:35.733-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T03:39:35.733-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@5ae58c9f, com.zlogcompras.model.Produto@7de21a8b, com.zlogcompras.model.Produto@441a5101, com.zlogcompras.model.Produto@24c7402e, com.zlogcompras.model.Produto@5230b15d, com.zlogcompras.model.Produto@3f6bcfd2, com.zlogcompras.model.Produto@296f0367, com.zlogcompras.model.Produto@37b7e054, com.zlogcompras.model.Produto@60da15a6, com.zlogcompras.model.Produto@1ae5330, com.zlogcompras.model.Produto@500b1c59]]
2025-08-09T03:39:35.733-03:00 TRACE 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:39:35.733-03:00 DEBUG 13884 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:42:12.833-03:00  INFO 12124 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12124 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-09T03:42:12.834-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-09T03:42:12.834-03:00  INFO 12124 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-09T03:42:12.883-03:00  INFO 12124 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-09T03:42:12.883-03:00  INFO 12124 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-09T03:42:13.743-03:00  INFO 12124 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-09T03:42:13.831-03:00  INFO 12124 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 80 ms. Found 13 JPA repository interfaces.
2025-08-09T03:42:14.543-03:00  INFO 12124 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-09T03:42:14.560-03:00  INFO 12124 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-09T03:42:14.560-03:00  INFO 12124 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-08-09T03:42:14.616-03:00  INFO 12124 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-09T03:42:14.616-03:00  INFO 12124 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1733 ms
2025-08-09T03:42:14.748-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-09T03:42:14.765-03:00  INFO 12124 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-09T03:42:14.831-03:00  INFO 12124 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-08-09T03:42:14.863-03:00  INFO 12124 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-09T03:42:15.153-03:00  INFO 12124 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-09T03:42:15.183-03:00  INFO 12124 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-09T03:42:15.363-03:00  INFO 12124 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@69bcd2ea
2025-08-09T03:42:15.372-03:00  INFO 12124 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-09T03:42:15.493-03:00  WARN 12124 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-09T03:42:16.703-03:00  INFO 12124 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-09T03:42:16.713-03:00  INFO 12124 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-09T03:42:16.743-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-09T03:42:16.766-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-09T03:42:16.792-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:16.827-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:16.894-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:16.933-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-09T03:42:16.943-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-09T03:42:16.953-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.059-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-08-09T03:42:17.094-03:00 TRACE 12124 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@1fa8171e}
2025-08-09T03:42:17.127-03:00  INFO 12124 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-09T03:42:17.127-03:00  WARN 12124 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-09T03:42:17.133-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.139-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.141-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-09T03:42:17.141-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-09T03:42:17.141-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.143-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.160-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.163-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-09T03:42:17.164-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-09T03:42:17.164-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.168-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-09T03:42:17.168-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-09T03:42:17.168-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.175-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.178-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.180-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-09T03:42:17.180-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-09T03:42:17.181-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.557-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.563-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.563-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-09T03:42:17.563-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-09T03:42:17.563-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.580-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.593-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.595-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-09T03:42:17.595-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-09T03:42:17.595-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.595-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-09T03:42:17.595-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-09T03:42:17.595-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.600-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-09T03:42:17.600-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-09T03:42:17.601-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.601-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-09T03:42:17.603-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-09T03:42:17.603-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.604-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-09T03:42:17.605-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-09T03:42:17.605-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.606-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-09T03:42:17.607-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-09T03:42:17.607-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.608-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-09T03:42:17.609-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-09T03:42:17.609-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.613-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.613-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.613-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.613-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.623-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-09T03:42:17.624-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-09T03:42:17.624-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.625-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-09T03:42:17.626-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-09T03:42:17.626-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.628-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-09T03:42:17.628-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-09T03:42:17.628-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.635-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.641-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.643-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-09T03:42:17.643-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-09T03:42:17.643-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.648-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-09T03:42:17.649-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-09T03:42:17.649-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.650-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-09T03:42:17.650-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-09T03:42:17.650-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.653-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.653-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.658-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-09T03:42:17.658-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-09T03:42:17.659-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.693-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.695-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.695-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-09T03:42:17.695-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-09T03:42:17.695-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.695-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-09T03:42:17.695-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-09T03:42:17.695-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.701-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-09T03:42:17.702-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-09T03:42:17.702-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:17.969-03:00 TRACE 12124 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-08-09T03:42:17.973-03:00 TRACE 12124 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
2025-08-09T03:42:17.985-03:00 TRACE 12124 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-08-09T03:42:17.989-03:00 TRACE 12124 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
2025-08-09T03:42:17.992-03:00 TRACE 12124 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
2025-08-09T03:42:17.995-03:00 TRACE 12124 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
2025-08-09T03:42:17.998-03:00 TRACE 12124 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{GET [/api/produtos]}: listarTodosProdutos()
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
2025-08-09T03:42:18.000-03:00 TRACE 12124 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
2025-08-09T03:42:18.004-03:00 TRACE 12124 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-09T03:42:18.013-03:00 TRACE 12124 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-08-09T03:42:18.019-03:00 TRACE 12124 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-09T03:42:18.021-03:00 TRACE 12124 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-09T03:42:18.024-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-08-09T03:42:18.101-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-09T03:42:18.133-03:00  INFO 12124 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b768d29, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ab0cbf3, org.springframework.security.web.context.SecurityContextHolderFilter@7991db50, org.springframework.security.web.header.HeaderWriterFilter@5833e546, org.springframework.web.filter.CorsFilter@3110a1e1, org.springframework.security.web.authentication.logout.LogoutFilter@7fc87b3, com.zlogcompras.config.JwtAuthenticationFilter@1580ce7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@501bbe81, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ebc65fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10cfda90, org.springframework.security.web.session.SessionManagementFilter@19eec1cf, org.springframework.security.web.access.ExceptionTranslationFilter@3530087b, org.springframework.security.web.access.intercept.AuthorizationFilter@5730c4f0]
2025-08-09T03:42:18.224-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-09T03:42:18.268-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-09T03:42:18.433-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:18.439-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:18.441-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-09T03:42:18.441-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-09T03:42:18.441-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:18.447-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:18.450-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:18.450-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-09T03:42:18.450-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-09T03:42:18.450-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:18.526-03:00  INFO 12124 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-09T03:42:18.563-03:00  INFO 12124 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-09T03:42:18.573-03:00  INFO 12124 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 6.221 seconds (process running for 6.712)
2025-08-09T03:42:18.583-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:18.720-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-09T03:42:18.727-03:00 TRACE 12124 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-09T03:42:18.756-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:18.759-03:00 DEBUG 12124 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-09T03:42:18.760-03:00 TRACE 12124 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-09T03:42:46.371-03:00  INFO 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-09T03:42:46.371-03:00  INFO 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-09T03:42:46.371-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-08-09T03:42:46.371-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-08-09T03:42:46.372-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-08-09T03:42:46.373-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@52d7f9ba
2025-08-09T03:42:46.374-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6b81a3c5
2025-08-09T03:42:46.374-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-09T03:42:46.375-03:00  INFO 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-08-09T03:42:46.393-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2b768d29, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ab0cbf3, org.springframework.security.web.context.SecurityContextHolderFilter@7991db50, org.springframework.security.web.header.HeaderWriterFilter@5833e546, org.springframework.web.filter.CorsFilter@3110a1e1, org.springframework.security.web.authentication.logout.LogoutFilter@7fc87b3, com.zlogcompras.config.JwtAuthenticationFilter@1580ce7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@501bbe81, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ebc65fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10cfda90, org.springframework.security.web.session.SessionManagementFilter@19eec1cf, org.springframework.security.web.access.ExceptionTranslationFilter@3530087b, org.springframework.security.web.access.intercept.AuthorizationFilter@5730c4f0]] (1/1)
2025-08-09T03:42:46.394-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-09T03:42:46.395-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:42:46.396-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:42:46.398-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:42:46.399-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:42:46.401-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:42:46.419-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:42:46.419-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:42:46.420-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:42:46.420-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T03:42:46.420-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:42:46.420-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:42:46.422-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:42:46.423-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:42:46.423-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:42:46.425-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-09T03:42:46.426-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:42:46.426-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:42:46.427-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-09T03:42:46.427-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000002ba01aa40b8@32867ba2
2025-08-09T03:42:46.428-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-09T03:42:46.428-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-09T03:42:46.430-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-09T03:42:46.431-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-09T03:42:46.493-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-09T03:42:46.508-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-09T03:42:46.595-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:46.599-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:42:46.601-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:42:46.619-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:42:46.620-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:42:46.713-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-09T03:42:46.713-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:46.713-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:42:46.713-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:42:46.720-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:42:46.722-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:42:46.833-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T03:42:46.833-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcyMTc2NiwiZXhwIjoxNzU0ODA4MTY2fQ.nEMYv7kCb8jXui7womUOMFFg_kf9J7qJiOawwMZYhz8)]
2025-08-09T03:42:46.837-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:42:46.841-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T03:42:46.858-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2b768d29, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ab0cbf3, org.springframework.security.web.context.SecurityContextHolderFilter@7991db50, org.springframework.security.web.header.HeaderWriterFilter@5833e546, org.springframework.web.filter.CorsFilter@3110a1e1, org.springframework.security.web.authentication.logout.LogoutFilter@7fc87b3, com.zlogcompras.config.JwtAuthenticationFilter@1580ce7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@501bbe81, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ebc65fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10cfda90, org.springframework.security.web.session.SessionManagementFilter@19eec1cf, org.springframework.security.web.access.ExceptionTranslationFilter@3530087b, org.springframework.security.web.access.intercept.AuthorizationFilter@5730c4f0]] (1/1)
2025-08-09T03:42:46.858-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T03:42:46.859-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T03:42:46.859-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T03:42:46.859-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T03:42:46.859-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T03:42:46.859-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T03:42:46.860-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T03:42:46.860-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T03:42:46.861-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T03:42:46.861-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:42:46.862-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T03:42:46.862-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcyMTc2NiwiZXhwIjoxNzU0ODA4MTY2fQ.nEMYv7kCb8jXui7womUOMFFg_kf9J7qJiOawwMZYhz8
2025-08-09T03:42:46.900-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-09T03:42:46.901-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T03:42:46.901-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T03:42:46.902-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T03:42:46.903-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T03:42:46.904-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T03:42:46.905-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T03:42:46.907-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-09T03:42:46.907-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-09T03:42:46.909-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-09T03:42:46.910-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T03:42:46.910-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T03:42:46.910-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T03:42:46.910-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T03:42:46.910-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-09T03:42:46.911-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-09T03:42:46.911-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T03:42:46.911-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T03:42:46.911-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T03:42:46.912-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T03:42:46.912-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-09T03:42:46.912-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T03:42:46.912-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-09T03:42:46.913-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-08-09T03:42:46.926-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-09T03:42:46.927-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1187634800<open>)] for JPA transaction
2025-08-09T03:42:46.932-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1a148290]
2025-08-09T03:42:46.937-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-09T03:42:46.944-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-09T03:42:46.944-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1187634800<open>)]
2025-08-09T03:42:46.946-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1187634800<open>)] after transaction
2025-08-09T03:42:46.948-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T03:42:46.948-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@3f7c1ae1, com.zlogcompras.model.Produto@56b6cabc, com.zlogcompras.model.Produto@ecfb667, com.zlogcompras.model.Produto@44fe56db, com.zlogcompras.model.Produto@1b8af7b7, com.zlogcompras.model.Produto@7b093d50, com.zlogcompras.model.Produto@806c0d8, com.zlogcompras.model.Produto@3e78078d, com.zlogcompras.model.Produto@720378ba, com.zlogcompras.model.Produto@40d22817, com.zlogcompras.model.Produto@7eec20d5]]
2025-08-09T03:42:46.958-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T03:42:46.959-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-09T04:00:12.031-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2b768d29, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ab0cbf3, org.springframework.security.web.context.SecurityContextHolderFilter@7991db50, org.springframework.security.web.header.HeaderWriterFilter@5833e546, org.springframework.web.filter.CorsFilter@3110a1e1, org.springframework.security.web.authentication.logout.LogoutFilter@7fc87b3, com.zlogcompras.config.JwtAuthenticationFilter@1580ce7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@501bbe81, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ebc65fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10cfda90, org.springframework.security.web.session.SessionManagementFilter@19eec1cf, org.springframework.security.web.access.ExceptionTranslationFilter@3530087b, org.springframework.security.web.access.intercept.AuthorizationFilter@5730c4f0]] (1/1)
2025-08-09T04:00:12.045-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-09T04:00:12.045-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T04:00:12.045-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T04:00:12.048-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T04:00:12.049-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T04:00:12.050-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T04:00:12.057-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T04:00:12.081-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2b768d29, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ab0cbf3, org.springframework.security.web.context.SecurityContextHolderFilter@7991db50, org.springframework.security.web.header.HeaderWriterFilter@5833e546, org.springframework.web.filter.CorsFilter@3110a1e1, org.springframework.security.web.authentication.logout.LogoutFilter@7fc87b3, com.zlogcompras.config.JwtAuthenticationFilter@1580ce7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@501bbe81, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ebc65fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10cfda90, org.springframework.security.web.session.SessionManagementFilter@19eec1cf, org.springframework.security.web.access.ExceptionTranslationFilter@3530087b, org.springframework.security.web.access.intercept.AuthorizationFilter@5730c4f0]] (1/1)
2025-08-09T04:00:12.082-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/produtos
2025-08-09T04:00:12.082-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T04:00:12.082-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T04:00:12.082-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T04:00:12.082-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T04:00:12.082-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T04:00:12.085-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T04:00:12.085-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T04:00:12.086-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T04:00:12.088-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T04:00:12.091-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T04:00:12.091-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcyMTc2NiwiZXhwIjoxNzU0ODA4MTY2fQ.nEMYv7kCb8jXui7womUOMFFg_kf9J7qJiOawwMZYhz8
2025-08-09T04:00:12.106-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-09T04:00:12.107-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T04:00:12.120-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T04:00:12.182-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T04:00:12.240-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T04:00:12.351-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T04:00:12.352-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T04:00:12.384-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-09T04:00:12.384-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-09T04:00:12.387-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-09T04:00:12.387-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T04:00:12.388-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T04:00:12.388-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T04:00:12.388-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T04:00:12.390-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-09T04:00:12.390-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-09T04:00:12.390-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T04:00:12.391-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T04:00:12.391-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/produtos
2025-08-09T04:00:12.392-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T04:00:12.392-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/produtos
2025-08-09T04:00:12.393-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T04:00:12.396-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/produtos", parameters={}
2025-08-09T04:00:12.396-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#criarProduto(ProdutoRequestDTO)
2025-08-09T04:00:12.494-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.zlogcompras.model.dto.ProdutoRequestDTO@2660c150]
2025-08-09T04:00:12.628-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProdutoService.criarProduto]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-08-09T04:00:12.628-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1313268133<open>)] for JPA transaction
2025-08-09T04:00:12.634-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2374e829]
2025-08-09T04:00:12.640-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1313268133<open>)] for JPA transaction
2025-08-09T04:00:12.641-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-08-09T04:00:12.767-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        produtos
        (categoria, codigo, codigo_produto, data_atualizacao, data_criacao, descricao, estoque, nome, preco_unitario, unidade_medida, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-09T04:00:12.767-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Eletronicos]
2025-08-09T04:00:12.774-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [PROD-1000]
2025-08-09T04:00:12.774-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [SKU-XYZ-2025]
2025-08-09T04:00:12.774-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-08-09T04:00:12.734768600]
2025-08-09T04:00:12.776-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (5:TIMESTAMP) <- [2025-08-09T04:00:12.734768600]
2025-08-09T04:00:12.776-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Ultimo modelo de smartphone com câmera 108 MP.]
2025-08-09T04:00:12.776-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [500]
2025-08-09T04:00:12.777-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [Smartphone XYZ]
2025-08-09T04:00:12.777-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (9:NUMERIC) <- [2500]
2025-08-09T04:00:12.777-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (10:VARCHAR) <- [UN]
2025-08-09T04:00:12.777-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (11:BIGINT) <- [0]
2025-08-09T04:00:12.825-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-09T04:00:12.825-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1313268133<open>)]
2025-08-09T04:00:12.849-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1313268133<open>)] after transaction
2025-08-09T04:00:12.853-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T04:00:12.854-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.zlogcompras.model.Produto@22ebd82d]
2025-08-09T04:00:12.856-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T04:00:12.858-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-08-09T04:00:12.914-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2b768d29, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ab0cbf3, org.springframework.security.web.context.SecurityContextHolderFilter@7991db50, org.springframework.security.web.header.HeaderWriterFilter@5833e546, org.springframework.web.filter.CorsFilter@3110a1e1, org.springframework.security.web.authentication.logout.LogoutFilter@7fc87b3, com.zlogcompras.config.JwtAuthenticationFilter@1580ce7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@501bbe81, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ebc65fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10cfda90, org.springframework.security.web.session.SessionManagementFilter@19eec1cf, org.springframework.security.web.access.ExceptionTranslationFilter@3530087b, org.springframework.security.web.access.intercept.AuthorizationFilter@5730c4f0]] (1/1)
2025-08-09T04:00:12.915-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-09T04:00:12.915-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-09T04:00:12.915-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-09T04:00:12.915-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-09T04:00:12.915-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-09T04:00:12.915-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-09T04:00:12.917-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-09T04:00:12.917-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-09T04:00:12.917-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-09T04:00:12.917-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T04:00:12.917-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-09T04:00:12.918-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NDcyMTc2NiwiZXhwIjoxNzU0ODA4MTY2fQ.nEMYv7kCb8jXui7womUOMFFg_kf9J7qJiOawwMZYhz8
2025-08-09T04:00:12.919-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-09T04:00:12.919-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-09T04:00:12.920-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-09T04:00:12.921-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-09T04:00:12.922-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-09T04:00:12.924-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-09T04:00:12.925-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-09T04:00:12.927-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-09T04:00:12.927-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-09T04:00:12.928-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-09T04:00:12.928-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-09T04:00:12.929-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-09T04:00:12.929-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-09T04:00:12.929-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-09T04:00:12.929-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-09T04:00:12.929-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-09T04:00:12.930-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-09T04:00:12.930-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-09T04:00:12.930-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-09T04:00:12.930-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-09T04:00:12.930-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-09T04:00:12.930-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-09T04:00:12.931-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-09T04:00:12.931-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-08-09T04:00:12.932-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-09T04:00:12.932-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(627727887<open>)] for JPA transaction
2025-08-09T04:00:12.941-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5051e488]
2025-08-09T04:00:12.943-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-09T04:00:12.949-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-09T04:00:12.949-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(627727887<open>)]
2025-08-09T04:00:12.951-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(627727887<open>)] after transaction
2025-08-09T04:00:12.952-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-09T04:00:12.953-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@257af1d6, com.zlogcompras.model.Produto@6a8bc357, com.zlogcompras.model.Produto@36afcbda, com.zlogcompras.model.Produto@57980a34, com.zlogcompras.model.Produto@251eb550, com.zlogcompras.model.Produto@113b5bdf, com.zlogcompras.model.Produto@5902a339, com.zlogcompras.model.Produto@4e5ccb87, com.zlogcompras.model.Produto@1e385329, com.zlogcompras.model.Produto@55961692, com.zlogcompras.model.Produto@19c16c72, com.zlogcompras.model.Produto@31e99c3e]]
2025-08-09T04:00:12.954-03:00 TRACE 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-09T04:00:12.955-03:00 DEBUG 12124 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
