2025-08-13T02:51:03.999-03:00  INFO 18300 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Starting ZlogComprasApplicationTests using Java 21.0.8 with PID 18300 (started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-13T02:51:04.027-03:00 DEBUG 18300 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-13T02:51:04.031-03:00  INFO 18300 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : The following 1 profile is active: "test"
2025-08-13T02:51:04.097-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0
2025-08-13T02:51:08.090-03:00 DEBUG 18300 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-13T02:51:08.656-03:00  INFO 18300 --- [zlog_compras] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-13T02:51:08.748-03:00  WARN 18300 --- [zlog_compras] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-13T02:51:10.649-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-08-13T02:51:10.653-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-08-13T02:51:10.655-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-08-13T02:51:10.655-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-08-13T02:51:10.655-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-08-13T02:51:10.656-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-08-13T02:51:10.656-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-08-13T02:51:10.656-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-08-13T02:51:10.656-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-08-13T02:51:10.656-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-08-13T02:51:10.658-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-08-13T02:51:10.658-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-08-13T02:51:10.659-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-08-13T02:51:10.659-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-08-13T02:51:10.666-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table estoque (
        quantidade integer not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        data_ultima_entrada timestamp(6),
        data_ultima_saida timestamp(6),
        id bigint generated by default as identity,
        produto_id bigint not null,
        version bigint,
        localizacao varchar(255),
        observacoes varchar(255),
        primary key (id)
    )
2025-08-13T02:51:10.686-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table fornecedores (
        id bigint generated by default as identity,
        version bigint,
        telefone varchar(15),
        cnpj varchar(18) not null unique,
        contato varchar(255),
        email varchar(255) unique,
        endereco varchar(255) not null,
        razao_social varchar(255) not null,
        primary key (id)
    )
2025-08-13T02:51:10.694-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_orcamento (
        preco_unitario_cotado numeric(12,2) not null,
        quantidade numeric(10,3) not null,
        id bigint generated by default as identity,
        orcamento_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida_produto varchar(20),
        codigo_produto varchar(50),
        nome_produto varchar(255) not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-08-13T02:51:10.709-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_pedido_compra (
        preco_unitario numeric(12,2) not null,
        quantidade integer not null,
        subtotal numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida varchar(50),
        codigo_produto varchar(100),
        observacoes varchar(500),
        nome_produto varchar(255),
        primary key (id)
    )
2025-08-13T02:51:10.711-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_solicitacao_compra (
        quantidade numeric(10,3) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        produto_id bigint not null,
        solicitacao_compra_id bigint not null,
        version bigint,
        descricao_adicional varchar(255),
        status enum ('AGUARDANDO_ORCAMENTO','APROVADO','CANCELADO','COMPRADO','EM_COMPRA','ORCAMENTO_RECEBIDO','PENDENTE','REJEITADO') not null,
        primary key (id)
    )
2025-08-13T02:51:10.711-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table movimentacoes_estoque (
        quantidade numeric(10,3) not null,
        data_movimentacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        codigo_material varchar(255) not null,
        referencia varchar(255),
        tipo_movimentacao varchar(255) not null,
        primary key (id)
    )
2025-08-13T02:51:10.718-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table notas_fiscais (
        data_emissao date not null,
        valor_total numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        version bigint,
        numero_nota_fiscal varchar(255) not null unique,
        primary key (id)
    )
2025-08-13T02:51:10.722-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table orcamentos (
        data_cotacao date not null,
        valor_total numeric(12,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        fornecedor_id bigint not null,
        id bigint generated by default as identity,
        solicitacao_compra_id bigint not null,
        version bigint,
        condicoes_pagamento varchar(255),
        numero_orcamento varchar(255) not null,
        observacoes varchar(255),
        prazo_entrega varchar(255),
        status enum ('ABERTO','AGUARDANDO_APROVACAO','APROVADO','CANCELADO','CONCLUIDO','COTADO','PEDIDO_GERADO','PENDENTE','RECUSADO','REJEITADO') not null,
        primary key (id)
    )
2025-08-13T02:51:10.723-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table pedidos_compra (
        data_pedido date,
        valor_total numeric(38,2),
        fornecedor_id bigint,
        id bigint generated by default as identity,
        orcamento_id bigint unique,
        observacoes varchar(255),
        status enum ('AGUARDANDO_APROVACAO','AGUARDANDO_ENVIO','APROVADO','CANCELADO','CONCLUIDO','ENVIADO','FINALIZADO','PENDENTE','RECEBIDO_PARCIALMENTE','RECEBIDO_TOTALMENTE','RECUSADO','REJEITADO_PELO_FORNECEDOR'),
        primary key (id)
    )
2025-08-13T02:51:10.727-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table produtos (
        estoque integer not null,
        preco_unitario numeric(10,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        categoria varchar(50) not null,
        codigo varchar(50) not null unique,
        codigo_produto varchar(50) not null unique,
        descricao varchar(255),
        nome varchar(255),
        unidade_medida varchar(255) not null,
        primary key (id)
    )
2025-08-13T02:51:10.735-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table roles (
        id bigint generated by default as identity,
        name varchar(255) not null unique,
        primary key (id)
    )
2025-08-13T02:51:10.737-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table solicitacoes_compra (
        data_solicitacao date not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        descricao varchar(255),
        solicitante varchar(255) not null,
        status enum ('ABERTA','AGUARDANDO_PARECER','CANCELADA','CONCLUIDA','EM_ANDAMENTO','ORCAMENTO_APROVADO','PEDIDO_GERADO','PENDENTE','REJEITADO','SUSPENSO') not null,
        primary key (id)
    )
2025-08-13T02:51:10.741-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table user_roles (
        role_id bigint not null,
        user_id bigint not null,
        primary key (role_id, user_id)
    )
2025-08-13T02:51:10.741-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table users (
        enabled boolean not null,
        id bigint generated by default as identity,
        password varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-08-13T02:51:10.756-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists estoque 
       add constraint FKmonotpf9w7pfuomk89nqxgeq1 
       foreign key (produto_id) 
       references produtos
2025-08-13T02:51:10.774-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKqlfm2lrgelma3n8kwabcvw9qh 
       foreign key (orcamento_id) 
       references orcamentos
2025-08-13T02:51:10.776-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKbc0qr2yj9stqdgavwvoohki0m 
       foreign key (produto_id) 
       references produtos
2025-08-13T02:51:10.776-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FK8p88mt761a5vacmlhrc68148b 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-08-13T02:51:10.776-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FKrv4ebgf6fdlg2v3b6dcbep8dn 
       foreign key (produto_id) 
       references produtos
2025-08-13T02:51:10.776-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FKntep08q88crstb33ej6npyul5 
       foreign key (produto_id) 
       references produtos
2025-08-13T02:51:10.776-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FK19xietjd5tfpljngdy8daw06x 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-08-13T02:51:10.782-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists notas_fiscais 
       add constraint FKe4e784ip50emjknglqkpkovg4 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-08-13T02:51:10.782-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FKntj4otux0et5xc0cm2lgq3uey 
       foreign key (fornecedor_id) 
       references fornecedores
2025-08-13T02:51:10.786-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FK5bj47al0ogq18q5ge2roy9e53 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-08-13T02:51:10.786-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FKan3yv2vk5m3gbphqf4f6yxj4j 
       foreign key (fornecedor_id) 
       references fornecedores
2025-08-13T02:51:10.786-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FK5f0lurv407qu48ns0sdhky4du 
       foreign key (orcamento_id) 
       references orcamentos
2025-08-13T02:51:10.786-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-13T02:51:10.793-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-13T02:51:10.804-03:00  INFO 18300 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T02:51:10.913-03:00 DEBUG 18300 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-13T02:51:10.956-03:00 DEBUG 18300 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-13T02:51:11.019-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:11.091-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:11.208-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:11.298-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-13T02:51:11.306-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-13T02:51:11.306-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:11.468-03:00 TRACE 18300 --- [zlog_compras] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@418f3cde}
2025-08-13T02:51:11.526-03:00  INFO 18300 --- [zlog_compras] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-13T02:51:11.526-03:00  WARN 18300 --- [zlog_compras] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-13T02:51:11.533-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:11.536-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:11.536-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-13T02:51:11.536-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-13T02:51:11.536-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:11.556-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:11.576-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:11.576-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-13T02:51:11.576-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-13T02:51:11.576-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:11.596-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-13T02:51:11.596-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-13T02:51:11.596-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:11.606-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:11.606-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:11.606-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-13T02:51:11.614-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-13T02:51:11.614-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.356-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.364-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.368-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-13T02:51:12.370-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-13T02:51:12.370-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.389-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.436-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.439-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-13T02:51:12.439-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-13T02:51:12.439-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.439-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-13T02:51:12.439-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-13T02:51:12.439-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.444-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-13T02:51:12.444-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-13T02:51:12.444-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.448-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-13T02:51:12.448-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-13T02:51:12.448-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.453-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T02:51:12.453-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T02:51:12.453-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.456-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T02:51:12.456-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T02:51:12.456-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.456-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T02:51:12.456-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T02:51:12.456-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.476-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.476-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.486-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.486-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.486-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-13T02:51:12.486-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-13T02:51:12.486-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.486-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-13T02:51:12.496-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-13T02:51:12.496-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.496-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-13T02:51:12.496-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-13T02:51:12.496-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.512-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.528-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.533-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-13T02:51:12.533-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-13T02:51:12.533-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.537-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-13T02:51:12.537-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-13T02:51:12.537-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.539-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-13T02:51:12.539-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-13T02:51:12.539-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.552-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.552-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.552-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T02:51:12.556-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T02:51:12.556-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.606-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.616-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.619-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T02:51:12.619-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T02:51:12.619-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.619-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T02:51:12.619-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T02:51:12.619-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:12.619-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T02:51:12.619-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T02:51:12.619-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:13.166-03:00 TRACE 18300 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-08-13T02:51:13.176-03:00 TRACE 18300 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
2025-08-13T02:51:13.186-03:00 TRACE 18300 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
2025-08-13T02:51:13.196-03:00 TRACE 18300 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
2025-08-13T02:51:13.196-03:00 TRACE 18300 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
2025-08-13T02:51:13.206-03:00 TRACE 18300 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
2025-08-13T02:51:13.211-03:00 TRACE 18300 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{DELETE [/api/produtos/{id}]}: deletar(Long)
	{PUT [/api/produtos/{id}]}: atualizar(Long,ProdutoRequestDTO)
	{POST [/api/produtos]}: criar(ProdutoRequestDTO)
	{GET [/api/produtos]}: listarTodos()
	{GET [/api/produtos/{id}]}: buscarPorId(Long)
	{POST [/api/produtos/lote]}: criarEmLote(List)
2025-08-13T02:51:13.216-03:00 TRACE 18300 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
2025-08-13T02:51:13.219-03:00 TRACE 18300 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-13T02:51:13.246-03:00 TRACE 18300 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-08-13T02:51:13.256-03:00 TRACE 18300 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-13T02:51:13.256-03:00 TRACE 18300 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-13T02:51:13.256-03:00 DEBUG 18300 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-08-13T02:51:13.480-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-13T02:51:13.561-03:00  INFO 18300 --- [zlog_compras] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1b5a6a1c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f070f66, org.springframework.security.web.context.SecurityContextHolderFilter@4ff19f87, org.springframework.security.web.header.HeaderWriterFilter@163427b6, org.springframework.web.filter.CorsFilter@7d31918a, org.springframework.security.web.authentication.logout.LogoutFilter@508d0d9a, com.zlogcompras.config.JwtAuthenticationFilter@78ae9b9c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@618a237f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46bb0567, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4981dd9, org.springframework.security.web.session.SessionManagementFilter@6ab949ed, org.springframework.security.web.access.ExceptionTranslationFilter@794d8b4c, org.springframework.security.web.access.intercept.AuthorizationFilter@7d432f4e]
2025-08-13T02:51:13.950-03:00 DEBUG 18300 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-13T02:51:14.023-03:00 DEBUG 18300 --- [zlog_compras] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-13T02:51:14.230-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:14.234-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:14.236-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-13T02:51:14.236-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-13T02:51:14.236-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:14.246-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:14.250-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:14.250-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T02:51:14.250-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T02:51:14.250-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:14.417-03:00  INFO 18300 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Started ZlogComprasApplicationTests in 11.449 seconds (process running for 24.161)
2025-08-13T02:51:14.426-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:14.666-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T02:51:14.676-03:00 TRACE 18300 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T02:51:14.696-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-08-13T02:51:14.699-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1971993504<open>)] for JPA transaction
2025-08-13T02:51:14.706-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3df88e84]
2025-08-13T02:51:14.737-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-08-13T02:51:14.747-03:00 TRACE 18300 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T02:51:14.770-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T02:51:14.770-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1971993504<open>)]
2025-08-13T02:51:14.776-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1971993504<open>)] after transaction
2025-08-13T02:51:14.776-03:00 DEBUG 18300 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:14.784-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T02:51:14.786-03:00 TRACE 18300 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T02:51:14.786-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-08-13T02:51:14.786-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(60942339<open>)] for JPA transaction
2025-08-13T02:51:14.786-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@bb6bf68]
2025-08-13T02:51:14.786-03:00 DEBUG 18300 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-08-13T02:51:14.786-03:00 TRACE 18300 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T02:51:14.786-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T02:51:14.786-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(60942339<open>)]
2025-08-13T02:51:14.786-03:00 DEBUG 18300 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(60942339<open>)] after transaction
2025-08-13T02:51:14.857-03:00 DEBUG 18300 --- [zlog_compras] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0, started on Wed Aug 13 02:51:04 BRT 2025
2025-08-13T02:51:14.857-03:00  INFO 18300 --- [zlog_compras] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T02:51:14.866-03:00 DEBUG 18300 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-08-13T02:51:14.871-03:00 DEBUG 18300 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-08-13T02:51:14.874-03:00 DEBUG 18300 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-08-13T02:51:14.874-03:00 DEBUG 18300 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-08-13T02:51:14.876-03:00 DEBUG 18300 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-08-13T02:51:14.876-03:00 DEBUG 18300 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-08-13T02:51:14.876-03:00 DEBUG 18300 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-08-13T02:51:14.876-03:00 DEBUG 18300 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-08-13T02:51:14.876-03:00 DEBUG 18300 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-08-13T02:51:14.876-03:00 DEBUG 18300 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-08-13T02:51:14.876-03:00 DEBUG 18300 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-08-13T02:51:14.876-03:00 DEBUG 18300 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-08-13T02:51:14.876-03:00 DEBUG 18300 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-08-13T02:51:14.876-03:00 DEBUG 18300 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-08-13T02:51:22.954-03:00  INFO 8524 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 8524 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-13T02:51:22.956-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-13T02:51:22.958-03:00  INFO 8524 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-13T02:51:23.056-03:00  INFO 8524 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-13T02:51:23.056-03:00  INFO 8524 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-13T02:51:24.866-03:00  INFO 8524 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-13T02:51:25.041-03:00  INFO 8524 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 166 ms. Found 13 JPA repository interfaces.
2025-08-13T02:51:26.452-03:00  INFO 8524 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-13T02:51:26.478-03:00  INFO 8524 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-13T02:51:26.479-03:00  INFO 8524 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-08-13T02:51:26.579-03:00  INFO 8524 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-13T02:51:26.580-03:00  INFO 8524 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3523 ms
2025-08-13T02:51:26.876-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-13T02:51:26.920-03:00  INFO 8524 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-13T02:51:27.041-03:00  INFO 8524 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-08-13T02:51:27.128-03:00  INFO 8524 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-13T02:51:27.601-03:00  INFO 8524 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-13T02:51:27.652-03:00  INFO 8524 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-13T02:51:28.229-03:00  INFO 8524 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5fff7a4f
2025-08-13T02:51:28.233-03:00  INFO 8524 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-13T02:51:28.397-03:00  WARN 8524 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-13T02:51:30.124-03:00  INFO 8524 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-13T02:51:30.128-03:00  INFO 8524 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T02:51:30.179-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-13T02:51:30.207-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-13T02:51:30.262-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:30.316-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:30.452-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:30.533-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-13T02:51:30.538-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-13T02:51:30.543-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:30.717-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-08-13T02:51:30.830-03:00 TRACE 8524 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@372f674a}
2025-08-13T02:51:30.901-03:00  INFO 8524 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-13T02:51:30.903-03:00  WARN 8524 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-13T02:51:30.914-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:30.919-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:30.923-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-13T02:51:30.924-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-13T02:51:30.924-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:30.953-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:30.969-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:30.973-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-13T02:51:30.974-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-13T02:51:30.974-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:30.987-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-13T02:51:30.988-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-13T02:51:30.989-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.004-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.006-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.009-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-13T02:51:31.010-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-13T02:51:31.013-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.594-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.601-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.608-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-13T02:51:31.609-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-13T02:51:31.609-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.641-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.673-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.676-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T02:51:31.677-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T02:51:31.677-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.685-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T02:51:31.687-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T02:51:31.688-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.691-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-13T02:51:31.691-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-13T02:51:31.692-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.694-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T02:51:31.696-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T02:51:31.696-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.698-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-13T02:51:31.699-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-13T02:51:31.699-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.707-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-13T02:51:31.708-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-13T02:51:31.709-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.718-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-13T02:51:31.719-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-13T02:51:31.721-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.733-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.735-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.750-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.752-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.757-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-13T02:51:31.758-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-13T02:51:31.759-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.761-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-13T02:51:31.761-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-13T02:51:31.762-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.764-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-13T02:51:31.765-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-13T02:51:31.765-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.788-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.801-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.805-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-13T02:51:31.806-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-13T02:51:31.806-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.817-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-13T02:51:31.818-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-13T02:51:31.820-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.822-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-13T02:51:31.823-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-13T02:51:31.824-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.838-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.840-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.842-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T02:51:31.843-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T02:51:31.843-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.921-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.923-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.925-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T02:51:31.926-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T02:51:31.926-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.929-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T02:51:31.930-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T02:51:31.930-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:31.932-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T02:51:31.932-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T02:51:31.933-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:32.506-03:00 TRACE 8524 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-08-13T02:51:32.522-03:00 TRACE 8524 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
2025-08-13T02:51:32.537-03:00 TRACE 8524 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
2025-08-13T02:51:32.545-03:00 TRACE 8524 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
2025-08-13T02:51:32.552-03:00 TRACE 8524 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
2025-08-13T02:51:32.560-03:00 TRACE 8524 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-08-13T02:51:32.565-03:00 TRACE 8524 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{PUT [/api/produtos/{id}]}: atualizar(Long,ProdutoRequestDTO)
	{POST [/api/produtos]}: criar(ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletar(Long)
	{GET [/api/produtos/{id}]}: buscarPorId(Long)
	{GET [/api/produtos]}: listarTodos()
	{POST [/api/produtos/lote]}: criarEmLote(List)
2025-08-13T02:51:32.575-03:00 TRACE 8524 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-08-13T02:51:32.585-03:00 TRACE 8524 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-13T02:51:32.632-03:00 TRACE 8524 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-08-13T02:51:32.637-03:00 TRACE 8524 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-13T02:51:32.640-03:00 TRACE 8524 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-13T02:51:32.645-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-08-13T02:51:32.793-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-13T02:51:32.858-03:00  INFO 8524 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@36570761, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@481b97d1, org.springframework.security.web.context.SecurityContextHolderFilter@5dc7d92b, org.springframework.security.web.header.HeaderWriterFilter@385c59f8, org.springframework.web.filter.CorsFilter@2873084c, org.springframework.security.web.authentication.logout.LogoutFilter@508a8f06, com.zlogcompras.config.JwtAuthenticationFilter@4d0100e0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@662dd4ca, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e836dd6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10bf7538, org.springframework.security.web.session.SessionManagementFilter@48dd1be5, org.springframework.security.web.access.ExceptionTranslationFilter@76e00037, org.springframework.security.web.access.intercept.AuthorizationFilter@7810d45e]
2025-08-13T02:51:33.031-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-13T02:51:33.092-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-13T02:51:33.274-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:33.278-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:33.280-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T02:51:33.281-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T02:51:33.281-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:33.306-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:33.310-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:33.314-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-13T02:51:33.315-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-13T02:51:33.315-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:33.460-03:00  INFO 8524 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-13T02:51:33.571-03:00  INFO 8524 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-13T02:51:33.594-03:00  INFO 8524 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 11.393 seconds (process running for 12.615)
2025-08-13T02:51:33.611-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:33.861-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T02:51:33.872-03:00 TRACE 8524 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T02:51:33.933-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:33.935-03:00 DEBUG 8524 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T02:51:33.936-03:00 TRACE 8524 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T02:51:34.572-03:00  INFO 8524 --- [zlog_compras] [RMI TCP Connection(4)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-08-13T02:51:34.596-03:00  INFO 8524 --- [zlog_compras] [RMI TCP Connection(4)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T02:51:34.602-03:00  INFO 8524 --- [zlog_compras] [RMI TCP Connection(4)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-13T02:51:34.621-03:00  INFO 8524 --- [zlog_compras] [RMI TCP Connection(4)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-13T02:51:53.696-03:00  INFO 16836 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 16836 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-13T02:51:53.698-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-13T02:51:53.698-03:00  INFO 16836 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-13T02:51:53.790-03:00  INFO 16836 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-13T02:51:53.790-03:00  INFO 16836 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-13T02:51:54.970-03:00  INFO 16836 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-13T02:51:55.080-03:00  INFO 16836 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 103 ms. Found 13 JPA repository interfaces.
2025-08-13T02:51:55.893-03:00  INFO 16836 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-13T02:51:55.909-03:00  INFO 16836 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-13T02:51:55.917-03:00  INFO 16836 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-08-13T02:51:55.986-03:00  INFO 16836 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-13T02:51:55.986-03:00  INFO 16836 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2196 ms
2025-08-13T02:51:56.136-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-13T02:51:56.169-03:00  INFO 16836 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-13T02:51:56.236-03:00  INFO 16836 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-08-13T02:51:56.276-03:00  INFO 16836 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-13T02:51:56.568-03:00  INFO 16836 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-13T02:51:56.608-03:00  INFO 16836 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-13T02:51:56.807-03:00  INFO 16836 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1483061d
2025-08-13T02:51:56.807-03:00  INFO 16836 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-13T02:51:56.890-03:00  WARN 16836 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-13T02:51:58.279-03:00  INFO 16836 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-13T02:51:58.286-03:00  INFO 16836 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T02:51:58.326-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-13T02:51:58.345-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-13T02:51:58.371-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:58.408-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:58.496-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:58.546-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-13T02:51:58.549-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-13T02:51:58.549-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:58.668-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-08-13T02:51:58.728-03:00 TRACE 16836 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@47ea8d88}
2025-08-13T02:51:58.756-03:00  INFO 16836 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-13T02:51:58.756-03:00  WARN 16836 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-13T02:51:58.775-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:58.780-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:58.780-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-13T02:51:58.780-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-13T02:51:58.780-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:58.801-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:58.816-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:58.819-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-13T02:51:58.819-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-13T02:51:58.819-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:58.828-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-13T02:51:58.828-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-13T02:51:58.828-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:58.841-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:58.844-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:58.847-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-13T02:51:58.847-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-13T02:51:58.847-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.256-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.256-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.256-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-13T02:51:59.265-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-13T02:51:59.266-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.293-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.316-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.316-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-13T02:51:59.316-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-13T02:51:59.316-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.316-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T02:51:59.316-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T02:51:59.316-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.326-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T02:51:59.326-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T02:51:59.331-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.333-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-13T02:51:59.333-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-13T02:51:59.336-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.339-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-13T02:51:59.339-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-13T02:51:59.339-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.339-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-13T02:51:59.339-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-13T02:51:59.339-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.344-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T02:51:59.344-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T02:51:59.344-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.350-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.356-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.364-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.366-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.370-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-13T02:51:59.370-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-13T02:51:59.370-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.374-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-13T02:51:59.374-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-13T02:51:59.374-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.376-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-13T02:51:59.376-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-13T02:51:59.378-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.390-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.404-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.407-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-13T02:51:59.407-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-13T02:51:59.407-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.407-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-13T02:51:59.407-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-13T02:51:59.415-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.418-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-13T02:51:59.419-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-13T02:51:59.419-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.426-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.426-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.429-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T02:51:59.429-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T02:51:59.429-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.481-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.481-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.483-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T02:51:59.486-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T02:51:59.486-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.488-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T02:51:59.488-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T02:51:59.488-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.488-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T02:51:59.488-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T02:51:59.488-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:51:59.781-03:00 TRACE 16836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-08-13T02:51:59.792-03:00 TRACE 16836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-08-13T02:51:59.804-03:00 TRACE 16836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
2025-08-13T02:51:59.810-03:00 TRACE 16836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
2025-08-13T02:51:59.820-03:00 TRACE 16836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
2025-08-13T02:51:59.826-03:00 TRACE 16836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-08-13T02:51:59.826-03:00 TRACE 16836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos/lote]}: criarEmLote(List)
	{GET [/api/produtos]}: listarTodos()
	{GET [/api/produtos/{id}]}: buscarPorId(Long)
	{POST [/api/produtos]}: criar(ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletar(Long)
	{PUT [/api/produtos/{id}]}: atualizar(Long,ProdutoRequestDTO)
2025-08-13T02:51:59.836-03:00 TRACE 16836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-08-13T02:51:59.840-03:00 TRACE 16836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-13T02:51:59.860-03:00 TRACE 16836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-08-13T02:51:59.860-03:00 TRACE 16836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-13T02:51:59.860-03:00 TRACE 16836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-13T02:51:59.869-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-08-13T02:51:59.956-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-13T02:52:00.006-03:00  INFO 16836 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]
2025-08-13T02:52:00.126-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-13T02:52:00.169-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-13T02:52:00.376-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:52:00.376-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:52:00.382-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-13T02:52:00.382-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-13T02:52:00.382-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:52:00.387-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:52:00.393-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:52:00.396-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T02:52:00.396-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T02:52:00.396-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:52:00.486-03:00  INFO 16836 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-13T02:52:00.532-03:00  INFO 16836 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-13T02:52:00.546-03:00  INFO 16836 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 7.458 seconds (process running for 8.04)
2025-08-13T02:52:00.556-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:52:00.732-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T02:52:00.742-03:00 TRACE 16836 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T02:52:00.761-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:52:00.764-03:00 DEBUG 16836 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T02:52:00.766-03:00 TRACE 16836 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T02:52:47.488-03:00  INFO 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-13T02:52:47.488-03:00  INFO 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-13T02:52:47.496-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-08-13T02:52:47.500-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-08-13T02:52:47.506-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-08-13T02:52:47.538-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5c53950e
2025-08-13T02:52:47.540-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@48229676
2025-08-13T02:52:47.544-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-13T02:52:47.545-03:00  INFO 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 50 ms
2025-08-13T02:52:47.654-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T02:52:47.657-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T02:52:47.661-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T02:52:47.666-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T02:52:47.685-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T02:52:47.690-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T02:52:47.698-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T02:52:47.749-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T02:52:47.761-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T02:52:47.761-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T02:52:47.763-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T02:52:47.763-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T02:52:47.763-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T02:52:47.766-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T02:52:47.766-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T02:52:47.777-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T02:52:47.777-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T02:52:47.779-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T02:52:47.781-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T02:52:47.783-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T02:52:47.783-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T02:52:47.792-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T02:52:47.794-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T02:52:47.794-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T02:52:47.800-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T02:52:47.800-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T02:52:47.800-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T02:52:47.804-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T02:52:47.808-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000026e08a9e468@5f10ab79
2025-08-13T02:52:47.810-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T02:52:47.811-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T02:52:47.816-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T02:52:47.826-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T02:52:48.105-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-13T02:52:48.126-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T02:52:48.391-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:52:48.424-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T02:52:48.432-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T02:52:48.501-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T02:52:48.503-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T02:52:48.793-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T02:52:48.795-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:52:48.799-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T02:52:48.802-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T02:52:48.806-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T02:52:48.807-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T02:52:49.205-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T02:52:49.208-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NDM2OSwiZXhwIjoxNzU1MTUwNzY5fQ.PD_IfGuBFzSBuKLzvRqKdRX5jAcDciQhUgdYMaEWWLw)]
2025-08-13T02:52:49.225-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T02:52:49.232-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T02:52:49.259-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T02:52:49.259-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T02:52:49.260-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T02:52:49.260-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T02:52:49.260-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T02:52:49.260-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T02:52:49.262-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T02:52:49.263-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T02:52:49.269-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T02:52:49.271-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T02:52:49.271-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T02:52:49.271-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T02:52:49.271-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T02:52:49.271-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T02:52:49.271-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T02:52:49.275-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T02:52:49.275-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T02:52:49.276-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T02:52:49.276-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T02:52:49.276-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T02:52:49.276-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NDM2OSwiZXhwIjoxNzU1MTUwNzY5fQ.PD_IfGuBFzSBuKLzvRqKdRX5jAcDciQhUgdYMaEWWLw
2025-08-13T02:52:49.436-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-13T02:52:49.436-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T02:52:49.439-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:52:49.439-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T02:52:49.439-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T02:52:49.449-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T02:52:49.451-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T02:52:49.454-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-13T02:52:49.454-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T02:52:49.463-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-13T02:52:49.463-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T02:52:49.466-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T02:52:49.468-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T02:52:49.468-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T02:52:49.470-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T02:52:49.470-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T02:52:49.470-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T02:52:49.472-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T02:52:49.472-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T02:52:49.477-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T02:52:49.478-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T02:52:49.478-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T02:52:49.478-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T02:52:49.480-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T02:52:49.496-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T02:52:49.502-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(2140343252<open>)] for JPA transaction
2025-08-13T02:52:49.520-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@64f7acca]
2025-08-13T02:52:49.542-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T02:52:49.571-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T02:52:49.571-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2140343252<open>)]
2025-08-13T02:52:49.579-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(2140343252<open>)] after transaction
2025-08-13T02:52:49.584-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T02:52:49.585-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@5600be55, com.zlogcompras.model.Produto@3fc481bf, com.zlogcompras.model.Produto@740c8e5d, com.zlogcompras.model.Produto@597eb3c3, com.zlogcompras.model.Produto@a5f4caf, com.zlogcompras.model.Produto@110dfd22, com.zlogcompras.model.Produto@1e3f738, com.zlogcompras.model.Produto@2d2fbc6c, com.zlogcompras.model.Produto@5de5b752, com.zlogcompras.model.Produto@23ffa521, com.zlogcompras.model.Produto@3dbbcc51, com.zlogcompras.model.Produto@6d27db56]]
2025-08-13T02:52:49.615-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T02:52:49.618-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T02:53:42.922-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T02:53:42.922-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T02:53:42.922-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T02:53:42.924-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T02:53:42.924-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T02:53:42.924-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T02:53:42.924-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T02:53:42.928-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T02:53:42.933-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T02:53:42.933-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T02:53:42.934-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T02:53:42.934-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T02:53:42.934-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T02:53:42.934-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T02:53:42.934-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T02:53:42.939-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T02:53:42.939-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T02:53:42.939-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T02:53:42.940-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T02:53:42.940-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T02:53:42.940-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T02:53:42.940-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T02:53:42.940-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T02:53:42.940-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T02:53:42.940-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T02:53:42.940-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T02:53:42.940-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T02:53:42.940-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T02:53:42.944-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000026e08a9e468@5f10ab79
2025-08-13T02:53:42.944-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T02:53:42.945-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T02:53:42.946-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T02:53:42.946-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T02:53:42.949-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-13T02:53:42.949-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T02:53:42.949-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:53:42.956-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T02:53:42.958-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T02:53:42.958-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T02:53:42.966-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T02:53:43.256-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T02:53:43.256-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:53:43.256-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T02:53:43.256-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T02:53:43.266-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T02:53:43.266-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T02:53:43.276-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T02:53:43.276-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NDQyMywiZXhwIjoxNzU1MTUwODIzfQ.uWSFeb0jWquSEtG0MdGzt4XsYvcLM3oyCppQORFAVa0)]
2025-08-13T02:53:43.276-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T02:53:43.281-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T02:53:43.303-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T02:53:43.303-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T02:53:43.303-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T02:53:43.303-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T02:53:43.303-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T02:53:43.305-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T02:53:43.306-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T02:53:43.306-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T02:53:43.312-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T02:53:43.315-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T02:53:43.316-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T02:53:43.316-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T02:53:43.316-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T02:53:43.316-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T02:53:43.316-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T02:53:43.319-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T02:53:43.319-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T02:53:43.319-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T02:53:43.319-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T02:53:43.321-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T02:53:43.322-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NDQyMywiZXhwIjoxNzU1MTUwODIzfQ.uWSFeb0jWquSEtG0MdGzt4XsYvcLM3oyCppQORFAVa0
2025-08-13T02:53:43.322-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-13T02:53:43.322-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T02:53:43.326-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:53:43.329-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T02:53:43.329-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T02:53:43.335-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T02:53:43.337-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T02:53:43.338-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-13T02:53:43.338-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T02:53:43.345-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-13T02:53:43.345-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T02:53:43.346-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T02:53:43.346-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T02:53:43.346-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T02:53:43.346-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T02:53:43.346-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T02:53:43.346-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T02:53:43.346-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T02:53:43.346-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T02:53:43.346-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T02:53:43.346-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T02:53:43.346-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T02:53:43.346-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T02:53:43.352-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T02:53:43.352-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T02:53:43.353-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(2005744968<open>)] for JPA transaction
2025-08-13T02:53:43.354-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5daa9a4a]
2025-08-13T02:53:43.356-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T02:53:43.372-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T02:53:43.372-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2005744968<open>)]
2025-08-13T02:53:43.376-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(2005744968<open>)] after transaction
2025-08-13T02:53:43.376-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T02:53:43.376-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@3ca77d57, com.zlogcompras.model.Produto@761a17dd, com.zlogcompras.model.Produto@7587836c, com.zlogcompras.model.Produto@89af17e, com.zlogcompras.model.Produto@fd078ff, com.zlogcompras.model.Produto@29522227, com.zlogcompras.model.Produto@60075882, com.zlogcompras.model.Produto@3fc954fd, com.zlogcompras.model.Produto@3352c47b, com.zlogcompras.model.Produto@ba98b2c, com.zlogcompras.model.Produto@51b00193, com.zlogcompras.model.Produto@24abc9e4]]
2025-08-13T02:53:43.376-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T02:53:43.376-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T02:53:59.494-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T02:53:59.494-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T02:53:59.494-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T02:53:59.494-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T02:53:59.496-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T02:53:59.496-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T02:53:59.496-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T02:53:59.496-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T02:53:59.496-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T02:53:59.499-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T02:53:59.499-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T02:53:59.499-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T02:53:59.499-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T02:53:59.499-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T02:53:59.499-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T02:53:59.499-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T02:53:59.499-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T02:53:59.499-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T02:53:59.499-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T02:53:59.499-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T02:53:59.499-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000026e08a9e468@5f10ab79
2025-08-13T02:53:59.505-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T02:53:59.506-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T02:53:59.506-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T02:53:59.506-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T02:53:59.508-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-13T02:53:59.511-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T02:53:59.511-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:53:59.511-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T02:53:59.518-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T02:53:59.521-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T02:53:59.521-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T02:53:59.856-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T02:53:59.856-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:53:59.862-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T02:53:59.864-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T02:53:59.868-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T02:53:59.868-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T02:53:59.876-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T02:53:59.876-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NDQzOSwiZXhwIjoxNzU1MTUwODM5fQ.COMd3onOUrCYGpm5ZjKPJxqxVQenAVnNsprtm5Q3TXk)]
2025-08-13T02:53:59.880-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T02:53:59.882-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T02:53:59.904-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T02:53:59.907-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T02:53:59.910-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T02:53:59.910-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T02:53:59.911-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T02:53:59.911-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T02:53:59.911-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T02:53:59.913-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T02:53:59.913-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T02:53:59.913-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T02:53:59.913-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T02:53:59.916-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T02:53:59.916-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NDQzOSwiZXhwIjoxNzU1MTUwODM5fQ.COMd3onOUrCYGpm5ZjKPJxqxVQenAVnNsprtm5Q3TXk
2025-08-13T02:53:59.916-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-13T02:53:59.916-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T02:53:59.916-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:53:59.921-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T02:53:59.921-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T02:53:59.927-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T02:53:59.927-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T02:53:59.929-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-13T02:53:59.929-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T02:53:59.936-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-13T02:53:59.938-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T02:53:59.938-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T02:53:59.938-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T02:53:59.938-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T02:53:59.938-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T02:53:59.938-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T02:53:59.938-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T02:53:59.938-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T02:53:59.938-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T02:53:59.938-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T02:53:59.938-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T02:53:59.938-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T02:53:59.938-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T02:53:59.944-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T02:53:59.944-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T02:53:59.944-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(900056838<open>)] for JPA transaction
2025-08-13T02:53:59.946-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6dbcf06c]
2025-08-13T02:53:59.950-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T02:53:59.956-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T02:53:59.956-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(900056838<open>)]
2025-08-13T02:53:59.956-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(900056838<open>)] after transaction
2025-08-13T02:53:59.966-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T02:53:59.966-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@15e3dbc6, com.zlogcompras.model.Produto@279ca25e, com.zlogcompras.model.Produto@1cd03922, com.zlogcompras.model.Produto@184549e4, com.zlogcompras.model.Produto@13738cc1, com.zlogcompras.model.Produto@51bf42a3, com.zlogcompras.model.Produto@4c3b689f, com.zlogcompras.model.Produto@7e830295, com.zlogcompras.model.Produto@71998c00, com.zlogcompras.model.Produto@5a1862ca, com.zlogcompras.model.Produto@4df09686, com.zlogcompras.model.Produto@2b81a207]]
2025-08-13T02:53:59.969-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T02:53:59.969-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T02:54:03.861-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T02:54:03.861-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T02:54:03.861-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T02:54:03.861-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T02:54:03.861-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T02:54:03.861-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T02:54:03.861-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T02:54:03.866-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T02:54:03.866-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T02:54:03.866-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T02:54:03.866-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T02:54:03.866-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T02:54:03.866-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T02:54:03.866-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T02:54:03.866-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T02:54:03.866-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T02:54:03.866-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T02:54:03.866-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T02:54:03.866-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T02:54:03.866-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T02:54:03.870-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000026e08a9e468@5f10ab79
2025-08-13T02:54:03.870-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T02:54:03.870-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T02:54:03.870-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T02:54:03.873-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T02:54:03.874-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-13T02:54:03.874-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T02:54:03.877-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:54:03.877-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T02:54:03.882-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T02:54:03.889-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T02:54:03.889-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T02:54:04.193-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T02:54:04.193-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:54:04.196-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T02:54:04.198-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T02:54:04.198-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T02:54:04.198-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T02:54:04.206-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T02:54:04.206-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NDQ0NCwiZXhwIjoxNzU1MTUwODQ0fQ.FbHQ3iKW5bsQU0eczjeNPNhbIQ0HFrX4LtFFD52TU7Q)]
2025-08-13T02:54:04.206-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T02:54:04.206-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T02:54:04.232-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T02:54:04.235-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T02:54:04.236-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T02:54:04.236-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T02:54:04.236-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T02:54:04.237-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T02:54:04.238-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T02:54:04.238-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T02:54:04.242-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T02:54:04.243-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T02:54:04.243-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T02:54:04.245-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T02:54:04.246-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NDQ0NCwiZXhwIjoxNzU1MTUwODQ0fQ.FbHQ3iKW5bsQU0eczjeNPNhbIQ0HFrX4LtFFD52TU7Q
2025-08-13T02:54:04.248-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-13T02:54:04.248-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T02:54:04.252-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:54:04.257-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T02:54:04.260-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T02:54:04.267-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T02:54:04.270-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T02:54:04.279-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-13T02:54:04.280-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T02:54:04.289-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-13T02:54:04.293-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T02:54:04.295-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T02:54:04.298-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T02:54:04.300-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T02:54:04.303-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T02:54:04.305-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T02:54:04.310-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T02:54:04.312-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T02:54:04.312-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T02:54:04.317-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T02:54:04.319-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T02:54:04.321-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T02:54:04.324-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T02:54:04.328-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T02:54:04.332-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T02:54:04.336-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(379926994<open>)] for JPA transaction
2025-08-13T02:54:04.341-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@19e6a9c0]
2025-08-13T02:54:04.348-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T02:54:04.364-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T02:54:04.368-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(379926994<open>)]
2025-08-13T02:54:04.375-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(379926994<open>)] after transaction
2025-08-13T02:54:04.378-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T02:54:04.378-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@70d0737f, com.zlogcompras.model.Produto@4550b8ce, com.zlogcompras.model.Produto@2012b98f, com.zlogcompras.model.Produto@705c8e80, com.zlogcompras.model.Produto@3e4407f, com.zlogcompras.model.Produto@43320e05, com.zlogcompras.model.Produto@76d9092d, com.zlogcompras.model.Produto@6265b1f8, com.zlogcompras.model.Produto@4323e273, com.zlogcompras.model.Produto@10329e34, com.zlogcompras.model.Produto@2e9c7d7e, com.zlogcompras.model.Produto@6139f324]]
2025-08-13T02:54:04.379-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T02:54:04.379-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T02:59:28.632-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T02:59:28.639-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T02:59:28.639-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T02:59:28.639-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T02:59:28.639-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T02:59:28.639-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T02:59:28.639-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T02:59:28.639-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T02:59:28.639-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T02:59:28.646-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T02:59:28.646-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T02:59:28.646-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T02:59:28.646-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T02:59:28.646-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T02:59:28.646-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T02:59:28.646-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T02:59:28.649-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T02:59:28.649-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T02:59:28.649-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T02:59:28.649-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T02:59:28.649-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000026e08a9e468@5f10ab79
2025-08-13T02:59:28.649-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T02:59:28.649-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T02:59:28.649-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T02:59:28.649-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T02:59:28.671-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-13T02:59:28.671-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T02:59:28.671-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:59:28.696-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T02:59:28.769-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T02:59:28.976-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T02:59:28.986-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T02:59:29.326-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T02:59:29.326-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:59:29.326-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T02:59:29.326-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T02:59:29.336-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T02:59:29.336-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T02:59:29.346-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T02:59:29.346-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NDc2OSwiZXhwIjoxNzU1MTUxMTY5fQ.wtRBdIAl09rlQyOO40ZG7vb5TspWLYpWS7qgizQSjvY)]
2025-08-13T02:59:29.352-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T02:59:29.369-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T02:59:29.388-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T02:59:29.389-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T02:59:29.389-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T02:59:29.389-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T02:59:29.391-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T02:59:29.391-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T02:59:29.392-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T02:59:29.392-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T02:59:29.392-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T02:59:29.395-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T02:59:29.395-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T02:59:29.396-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T02:59:29.396-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NDc2OSwiZXhwIjoxNzU1MTUxMTY5fQ.wtRBdIAl09rlQyOO40ZG7vb5TspWLYpWS7qgizQSjvY
2025-08-13T02:59:29.401-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-13T02:59:29.401-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T02:59:29.401-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T02:59:29.404-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T02:59:29.406-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T02:59:29.412-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T02:59:29.413-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T02:59:29.416-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-13T02:59:29.416-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T02:59:29.416-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-13T02:59:29.416-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T02:59:29.416-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T02:59:29.416-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T02:59:29.416-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T02:59:29.426-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T02:59:29.426-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T02:59:29.426-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T02:59:29.426-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T02:59:29.428-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T02:59:29.429-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T02:59:29.429-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T02:59:29.429-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T02:59:29.429-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T02:59:29.429-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T02:59:29.429-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T02:59:29.429-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1811976915<open>)] for JPA transaction
2025-08-13T02:59:29.438-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@503f40c]
2025-08-13T02:59:29.458-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T02:59:29.480-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T02:59:29.484-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1811976915<open>)]
2025-08-13T02:59:29.493-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1811976915<open>)] after transaction
2025-08-13T02:59:29.495-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T02:59:29.501-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@2711c17d, com.zlogcompras.model.Produto@1f517705, com.zlogcompras.model.Produto@34a49196, com.zlogcompras.model.Produto@12f41570, com.zlogcompras.model.Produto@3b47347a, com.zlogcompras.model.Produto@2f3a8548, com.zlogcompras.model.Produto@3f829918, com.zlogcompras.model.Produto@def540d, com.zlogcompras.model.Produto@f09552e, com.zlogcompras.model.Produto@74628142, com.zlogcompras.model.Produto@5f039c8f, com.zlogcompras.model.Produto@283be45e]]
2025-08-13T02:59:29.506-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T02:59:29.510-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:00:33.533-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T03:00:33.535-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T03:00:33.536-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:00:33.536-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:00:33.536-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:00:33.536-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:00:33.536-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:00:33.546-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:00:33.552-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T03:00:33.552-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T03:00:33.556-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:00:33.556-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:00:33.556-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:00:33.556-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:00:33.556-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:00:33.556-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:00:33.556-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:00:33.556-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:00:33.556-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:00:33.562-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:00:33.564-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:00:33.564-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:00:33.564-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:00:33.566-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:00:33.569-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T03:00:33.569-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:00:33.569-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:00:33.569-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T03:00:33.571-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000026e08a9e468@5f10ab79
2025-08-13T03:00:33.571-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T03:00:33.571-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:00:33.571-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T03:00:33.573-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T03:00:33.576-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-13T03:00:33.576-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T03:00:33.576-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:00:33.586-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:00:33.588-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:00:33.592-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:00:33.596-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:00:33.921-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T03:00:33.921-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:00:33.921-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:00:33.927-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:00:33.930-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:00:33.932-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:00:33.938-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:00:33.938-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NDgzMywiZXhwIjoxNzU1MTUxMjMzfQ.AGUBNlLbeLsv4ckqksgbGjtwTol60MKuy07Hwv1DZT4)]
2025-08-13T03:00:33.940-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:00:33.940-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:00:33.964-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T03:00:33.965-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T03:00:33.965-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:00:33.965-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:00:33.965-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:00:33.966-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:00:33.966-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:00:33.966-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:00:33.976-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T03:00:33.978-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T03:00:33.978-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:00:33.978-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:00:33.978-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:00:33.978-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:00:33.981-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:00:33.982-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:00:33.982-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:00:33.982-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:00:33.984-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T03:00:33.984-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T03:00:33.984-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NDgzMywiZXhwIjoxNzU1MTUxMjMzfQ.AGUBNlLbeLsv4ckqksgbGjtwTol60MKuy07Hwv1DZT4
2025-08-13T03:00:33.986-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-13T03:00:33.986-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:00:33.989-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:00:33.992-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:00:33.992-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:00:33.998-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:00:33.998-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:00:33.998-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-13T03:00:33.998-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T03:00:34.006-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-13T03:00:34.006-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:00:34.009-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:00:34.009-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:00:34.009-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:00:34.009-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T03:00:34.009-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T03:00:34.009-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:00:34.009-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:00:34.011-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T03:00:34.012-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T03:00:34.012-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T03:00:34.012-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T03:00:34.012-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T03:00:34.012-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T03:00:34.015-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T03:00:34.015-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(645348419<open>)] for JPA transaction
2025-08-13T03:00:34.016-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2f99e43d]
2025-08-13T03:00:34.016-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T03:00:34.036-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T03:00:34.036-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(645348419<open>)]
2025-08-13T03:00:34.038-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(645348419<open>)] after transaction
2025-08-13T03:00:34.038-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:00:34.038-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@7bcb9e5e, com.zlogcompras.model.Produto@3343c65a, com.zlogcompras.model.Produto@4ca3012c, com.zlogcompras.model.Produto@14225fbf, com.zlogcompras.model.Produto@33bc0a0b, com.zlogcompras.model.Produto@1ee07b30, com.zlogcompras.model.Produto@4a9ea3a1, com.zlogcompras.model.Produto@4c47d2ea, com.zlogcompras.model.Produto@1ff8653b, com.zlogcompras.model.Produto@25ca40f, com.zlogcompras.model.Produto@3d609c4e, com.zlogcompras.model.Produto@4fc2c98a]]
2025-08-13T03:00:34.038-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:00:34.045-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:00:54.316-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T03:00:54.316-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T03:00:54.316-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:00:54.316-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:00:54.316-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:00:54.316-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:00:54.316-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:00:54.326-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:00:54.326-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:00:54.326-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:00:54.326-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:00:54.326-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:00:54.326-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:00:54.335-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:00:54.336-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:00:54.336-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:00:54.336-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T03:00:54.336-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:00:54.336-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:00:54.339-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T03:00:54.405-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000026e08a9e468@5f10ab79
2025-08-13T03:00:54.405-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T03:00:54.406-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:00:54.406-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T03:00:54.406-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T03:00:54.410-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-13T03:00:54.410-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T03:00:54.410-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:00:54.417-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:00:54.421-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:00:54.426-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:00:54.426-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:00:54.759-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T03:00:54.759-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:00:54.762-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:00:54.765-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:00:54.767-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:00:54.767-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:00:54.776-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:00:54.776-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NDg1NCwiZXhwIjoxNzU1MTUxMjU0fQ.6UPO1grXQSo-Eor1ewa-EslbBXZYPgfsI0L4Bz4E0ag)]
2025-08-13T03:00:54.776-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:00:54.779-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:00:54.800-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@44964ce4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-08-13T03:00:54.800-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T03:00:54.800-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:00:54.800-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:00:54.800-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:00:54.800-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:00:54.800-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:00:54.800-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:00:54.800-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:00:54.806-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:00:54.806-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T03:00:54.806-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T03:00:54.806-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NDg1NCwiZXhwIjoxNzU1MTUxMjU0fQ.6UPO1grXQSo-Eor1ewa-EslbBXZYPgfsI0L4Bz4E0ag
2025-08-13T03:00:54.809-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-13T03:00:54.812-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:00:54.812-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:00:54.817-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:00:54.820-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:00:54.823-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:00:54.826-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:00:54.829-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-13T03:00:54.829-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T03:00:54.833-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-13T03:00:54.836-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:00:54.837-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:00:54.838-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:00:54.838-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:00:54.838-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T03:00:54.840-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T03:00:54.840-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:00:54.840-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:00:54.840-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T03:00:54.840-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T03:00:54.840-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T03:00:54.840-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T03:00:54.840-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T03:00:54.845-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T03:00:54.845-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T03:00:54.846-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(838314852<open>)] for JPA transaction
2025-08-13T03:00:54.848-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7cd5c670]
2025-08-13T03:00:54.848-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T03:00:54.863-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T03:00:54.863-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(838314852<open>)]
2025-08-13T03:00:54.869-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(838314852<open>)] after transaction
2025-08-13T03:00:54.869-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:00:54.871-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@551aa0a2, com.zlogcompras.model.Produto@2570c63b, com.zlogcompras.model.Produto@4c2eef39, com.zlogcompras.model.Produto@1a011292, com.zlogcompras.model.Produto@1a9ebec0, com.zlogcompras.model.Produto@397cf2b6, com.zlogcompras.model.Produto@2908587, com.zlogcompras.model.Produto@101782c5, com.zlogcompras.model.Produto@7f1046b9, com.zlogcompras.model.Produto@2127f2af, com.zlogcompras.model.Produto@279df7b1, com.zlogcompras.model.Produto@bb0582d]]
2025-08-13T03:00:54.874-03:00 TRACE 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:00:54.877-03:00 DEBUG 16836 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:04:20.896-03:00  INFO 20128 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Starting ZlogComprasApplicationTests using Java 21.0.8 with PID 20128 (started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-13T03:04:20.902-03:00 DEBUG 20128 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-13T03:04:20.902-03:00  INFO 20128 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : The following 1 profile is active: "test"
2025-08-13T03:04:20.956-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0
2025-08-13T03:04:26.196-03:00 DEBUG 20128 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-13T03:04:26.601-03:00  INFO 20128 --- [zlog_compras] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-13T03:04:26.666-03:00  WARN 20128 --- [zlog_compras] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-13T03:04:28.286-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-08-13T03:04:28.288-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-08-13T03:04:28.288-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-08-13T03:04:28.288-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-08-13T03:04:28.294-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-08-13T03:04:28.294-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-08-13T03:04:28.294-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-08-13T03:04:28.294-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-08-13T03:04:28.294-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-08-13T03:04:28.294-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-08-13T03:04:28.294-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-08-13T03:04:28.294-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-08-13T03:04:28.296-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-08-13T03:04:28.296-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-08-13T03:04:28.298-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table estoque (
        quantidade integer not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        data_ultima_entrada timestamp(6),
        data_ultima_saida timestamp(6),
        id bigint generated by default as identity,
        produto_id bigint not null,
        version bigint,
        localizacao varchar(255),
        observacoes varchar(255),
        primary key (id)
    )
2025-08-13T03:04:28.316-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table fornecedores (
        id bigint generated by default as identity,
        version bigint,
        telefone varchar(15),
        cnpj varchar(18) not null unique,
        contato varchar(255),
        email varchar(255) unique,
        endereco varchar(255) not null,
        razao_social varchar(255) not null,
        primary key (id)
    )
2025-08-13T03:04:28.321-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_orcamento (
        preco_unitario_cotado numeric(12,2) not null,
        quantidade numeric(10,3) not null,
        id bigint generated by default as identity,
        orcamento_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida_produto varchar(20),
        codigo_produto varchar(50),
        nome_produto varchar(255) not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-08-13T03:04:28.321-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_pedido_compra (
        preco_unitario numeric(12,2) not null,
        quantidade integer not null,
        subtotal numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida varchar(50),
        codigo_produto varchar(100),
        observacoes varchar(500),
        nome_produto varchar(255),
        primary key (id)
    )
2025-08-13T03:04:28.325-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_solicitacao_compra (
        quantidade numeric(10,3) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        produto_id bigint not null,
        solicitacao_compra_id bigint not null,
        version bigint,
        descricao_adicional varchar(255),
        status enum ('AGUARDANDO_ORCAMENTO','APROVADO','CANCELADO','COMPRADO','EM_COMPRA','ORCAMENTO_RECEBIDO','PENDENTE','REJEITADO') not null,
        primary key (id)
    )
2025-08-13T03:04:28.333-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table movimentacoes_estoque (
        quantidade numeric(10,3) not null,
        data_movimentacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        codigo_material varchar(255) not null,
        referencia varchar(255),
        tipo_movimentacao varchar(255) not null,
        primary key (id)
    )
2025-08-13T03:04:28.339-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table notas_fiscais (
        data_emissao date not null,
        valor_total numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        version bigint,
        numero_nota_fiscal varchar(255) not null unique,
        primary key (id)
    )
2025-08-13T03:04:28.339-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table orcamentos (
        data_cotacao date not null,
        valor_total numeric(12,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        fornecedor_id bigint not null,
        id bigint generated by default as identity,
        solicitacao_compra_id bigint not null,
        version bigint,
        condicoes_pagamento varchar(255),
        numero_orcamento varchar(255) not null,
        observacoes varchar(255),
        prazo_entrega varchar(255),
        status enum ('ABERTO','AGUARDANDO_APROVACAO','APROVADO','CANCELADO','CONCLUIDO','COTADO','PEDIDO_GERADO','PENDENTE','RECUSADO','REJEITADO') not null,
        primary key (id)
    )
2025-08-13T03:04:28.339-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table pedidos_compra (
        data_pedido date,
        valor_total numeric(38,2),
        fornecedor_id bigint,
        id bigint generated by default as identity,
        orcamento_id bigint unique,
        observacoes varchar(255),
        status enum ('AGUARDANDO_APROVACAO','AGUARDANDO_ENVIO','APROVADO','CANCELADO','CONCLUIDO','ENVIADO','FINALIZADO','PENDENTE','RECEBIDO_PARCIALMENTE','RECEBIDO_TOTALMENTE','RECUSADO','REJEITADO_PELO_FORNECEDOR'),
        primary key (id)
    )
2025-08-13T03:04:28.348-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table produtos (
        estoque integer not null,
        preco_unitario numeric(10,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        categoria varchar(50) not null,
        codigo varchar(50) not null unique,
        codigo_produto varchar(50) not null unique,
        descricao varchar(255),
        nome varchar(255),
        unidade_medida varchar(255) not null,
        primary key (id)
    )
2025-08-13T03:04:28.356-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table roles (
        id bigint generated by default as identity,
        name varchar(255) not null unique,
        primary key (id)
    )
2025-08-13T03:04:28.356-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table solicitacoes_compra (
        data_solicitacao date not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        descricao varchar(255),
        solicitante varchar(255) not null,
        status enum ('ABERTA','AGUARDANDO_PARECER','CANCELADA','CONCLUIDA','EM_ANDAMENTO','ORCAMENTO_APROVADO','PEDIDO_GERADO','PENDENTE','REJEITADO','SUSPENSO') not null,
        primary key (id)
    )
2025-08-13T03:04:28.356-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table user_roles (
        role_id bigint not null,
        user_id bigint not null,
        primary key (role_id, user_id)
    )
2025-08-13T03:04:28.362-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table users (
        enabled boolean not null,
        id bigint generated by default as identity,
        password varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-08-13T03:04:28.365-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists estoque 
       add constraint FKmonotpf9w7pfuomk89nqxgeq1 
       foreign key (produto_id) 
       references produtos
2025-08-13T03:04:28.383-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKqlfm2lrgelma3n8kwabcvw9qh 
       foreign key (orcamento_id) 
       references orcamentos
2025-08-13T03:04:28.386-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKbc0qr2yj9stqdgavwvoohki0m 
       foreign key (produto_id) 
       references produtos
2025-08-13T03:04:28.386-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FK8p88mt761a5vacmlhrc68148b 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-08-13T03:04:28.386-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FKrv4ebgf6fdlg2v3b6dcbep8dn 
       foreign key (produto_id) 
       references produtos
2025-08-13T03:04:28.386-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FKntep08q88crstb33ej6npyul5 
       foreign key (produto_id) 
       references produtos
2025-08-13T03:04:28.386-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FK19xietjd5tfpljngdy8daw06x 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-08-13T03:04:28.386-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists notas_fiscais 
       add constraint FKe4e784ip50emjknglqkpkovg4 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-08-13T03:04:28.386-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FKntj4otux0et5xc0cm2lgq3uey 
       foreign key (fornecedor_id) 
       references fornecedores
2025-08-13T03:04:28.398-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FK5bj47al0ogq18q5ge2roy9e53 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-08-13T03:04:28.398-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FKan3yv2vk5m3gbphqf4f6yxj4j 
       foreign key (fornecedor_id) 
       references fornecedores
2025-08-13T03:04:28.401-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FK5f0lurv407qu48ns0sdhky4du 
       foreign key (orcamento_id) 
       references orcamentos
2025-08-13T03:04:28.404-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-13T03:04:28.404-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-13T03:04:28.410-03:00  INFO 20128 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T03:04:28.541-03:00 DEBUG 20128 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-13T03:04:28.571-03:00 DEBUG 20128 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-13T03:04:28.614-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:28.690-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:28.801-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:28.900-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-13T03:04:28.906-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-13T03:04:28.915-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:29.036-03:00 TRACE 20128 --- [zlog_compras] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@10982760}
2025-08-13T03:04:29.093-03:00  INFO 20128 --- [zlog_compras] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-13T03:04:29.093-03:00  WARN 20128 --- [zlog_compras] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-13T03:04:29.098-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:29.098-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:29.106-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-13T03:04:29.106-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-13T03:04:29.106-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:29.126-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:29.144-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:29.149-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-13T03:04:29.149-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-13T03:04:29.149-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:29.153-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-13T03:04:29.153-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-13T03:04:29.153-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:29.171-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:29.172-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:29.172-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-13T03:04:29.172-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-13T03:04:29.172-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:29.927-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:29.936-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:29.941-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-13T03:04:29.943-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-13T03:04:29.943-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:29.972-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:29.998-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.000-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T03:04:30.000-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T03:04:30.000-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.006-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T03:04:30.006-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T03:04:30.006-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.006-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-13T03:04:30.006-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-13T03:04:30.006-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.015-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-13T03:04:30.016-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-13T03:04:30.016-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.016-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-13T03:04:30.016-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-13T03:04:30.016-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.016-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-13T03:04:30.022-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-13T03:04:30.022-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.022-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T03:04:30.022-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T03:04:30.022-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.032-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.032-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.038-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.038-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.046-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-13T03:04:30.046-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-13T03:04:30.046-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.046-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-13T03:04:30.046-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-13T03:04:30.046-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.046-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-13T03:04:30.054-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-13T03:04:30.054-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.056-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.070-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.076-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-13T03:04:30.076-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-13T03:04:30.076-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.076-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-13T03:04:30.076-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-13T03:04:30.076-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.076-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-13T03:04:30.076-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-13T03:04:30.076-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.092-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.094-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.094-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T03:04:30.096-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T03:04:30.096-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.146-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.150-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.166-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T03:04:30.167-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T03:04:30.167-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.178-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T03:04:30.183-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T03:04:30.186-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.189-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T03:04:30.191-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T03:04:30.191-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:30.741-03:00 TRACE 20128 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-08-13T03:04:30.752-03:00 TRACE 20128 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
2025-08-13T03:04:30.756-03:00 TRACE 20128 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
2025-08-13T03:04:30.766-03:00 TRACE 20128 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos]}: listarOrcamentos()
2025-08-13T03:04:30.766-03:00 TRACE 20128 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
2025-08-13T03:04:30.778-03:00 TRACE 20128 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-08-13T03:04:30.778-03:00 TRACE 20128 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{DELETE [/api/produtos/{id}]}: deletar(Long)
	{POST [/api/produtos]}: criar(ProdutoRequestDTO)
	{PUT [/api/produtos/{id}]}: atualizar(Long,ProdutoRequestDTO)
	{GET [/api/produtos]}: listarTodos()
	{POST [/api/produtos/lote]}: criarEmLote(List)
	{GET [/api/produtos/{id}]}: buscarPorId(Long)
2025-08-13T03:04:30.778-03:00 TRACE 20128 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-08-13T03:04:30.791-03:00 TRACE 20128 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-13T03:04:30.826-03:00 TRACE 20128 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-08-13T03:04:30.826-03:00 TRACE 20128 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-13T03:04:30.836-03:00 TRACE 20128 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-13T03:04:30.841-03:00 DEBUG 20128 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-08-13T03:04:31.066-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-13T03:04:31.136-03:00  INFO 20128 --- [zlog_compras] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6a1eef38, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60c44f6f, org.springframework.security.web.context.SecurityContextHolderFilter@437aa3ea, org.springframework.security.web.header.HeaderWriterFilter@2a93ad09, org.springframework.web.filter.CorsFilter@3ed6d7fb, org.springframework.security.web.authentication.logout.LogoutFilter@7f7d5133, com.zlogcompras.config.JwtAuthenticationFilter@2eab279, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44ee4110, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@62b2885d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77431f12, org.springframework.security.web.session.SessionManagementFilter@3e0658f8, org.springframework.security.web.access.ExceptionTranslationFilter@42ff6af7, org.springframework.security.web.access.intercept.AuthorizationFilter@77ffb5e9]
2025-08-13T03:04:31.466-03:00 DEBUG 20128 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-13T03:04:31.548-03:00 DEBUG 20128 --- [zlog_compras] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-13T03:04:31.756-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:31.758-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:31.758-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T03:04:31.758-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T03:04:31.758-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:31.783-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:31.786-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:31.786-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-13T03:04:31.789-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-13T03:04:31.789-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:31.904-03:00  INFO 20128 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Started ZlogComprasApplicationTests in 11.648 seconds (process running for 17.271)
2025-08-13T03:04:31.920-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:32.166-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T03:04:32.168-03:00 TRACE 20128 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T03:04:32.190-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-08-13T03:04:32.190-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(293792856<open>)] for JPA transaction
2025-08-13T03:04:32.198-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@18f94d41]
2025-08-13T03:04:32.217-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-08-13T03:04:32.217-03:00 TRACE 20128 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T03:04:32.242-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T03:04:32.242-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(293792856<open>)]
2025-08-13T03:04:32.257-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(293792856<open>)] after transaction
2025-08-13T03:04:32.257-03:00 DEBUG 20128 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:32.257-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T03:04:32.257-03:00 TRACE 20128 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T03:04:32.257-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-08-13T03:04:32.257-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(311901651<open>)] for JPA transaction
2025-08-13T03:04:32.257-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7546033d]
2025-08-13T03:04:32.257-03:00 DEBUG 20128 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-08-13T03:04:32.257-03:00 TRACE 20128 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T03:04:32.263-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T03:04:32.265-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(311901651<open>)]
2025-08-13T03:04:32.265-03:00 DEBUG 20128 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(311901651<open>)] after transaction
2025-08-13T03:04:32.336-03:00 DEBUG 20128 --- [zlog_compras] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0, started on Wed Aug 13 03:04:20 BRT 2025
2025-08-13T03:04:32.345-03:00  INFO 20128 --- [zlog_compras] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T03:04:32.347-03:00 DEBUG 20128 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-08-13T03:04:32.354-03:00 DEBUG 20128 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-08-13T03:04:32.356-03:00 DEBUG 20128 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-08-13T03:04:32.356-03:00 DEBUG 20128 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-08-13T03:04:32.356-03:00 DEBUG 20128 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-08-13T03:04:32.356-03:00 DEBUG 20128 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-08-13T03:04:32.356-03:00 DEBUG 20128 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-08-13T03:04:32.362-03:00 DEBUG 20128 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-08-13T03:04:32.362-03:00 DEBUG 20128 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-08-13T03:04:32.362-03:00 DEBUG 20128 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-08-13T03:04:32.364-03:00 DEBUG 20128 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-08-13T03:04:32.364-03:00 DEBUG 20128 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-08-13T03:04:32.364-03:00 DEBUG 20128 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-08-13T03:04:32.367-03:00 DEBUG 20128 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-08-13T03:04:36.542-03:00  INFO 19552 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 19552 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-13T03:04:36.544-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-13T03:04:36.546-03:00  INFO 19552 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-13T03:04:36.649-03:00  INFO 19552 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-13T03:04:36.650-03:00  INFO 19552 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-13T03:04:38.384-03:00  INFO 19552 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-13T03:04:38.581-03:00  INFO 19552 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 178 ms. Found 13 JPA repository interfaces.
2025-08-13T03:04:39.999-03:00  INFO 19552 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-13T03:04:40.031-03:00  INFO 19552 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-13T03:04:40.032-03:00  INFO 19552 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-08-13T03:04:40.112-03:00  INFO 19552 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-13T03:04:40.112-03:00  INFO 19552 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3461 ms
2025-08-13T03:04:40.356-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-13T03:04:40.391-03:00  INFO 19552 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-13T03:04:40.493-03:00  INFO 19552 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-08-13T03:04:40.549-03:00  INFO 19552 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-13T03:04:41.019-03:00  INFO 19552 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-13T03:04:41.072-03:00  INFO 19552 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-13T03:04:41.374-03:00  INFO 19552 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6d4131c
2025-08-13T03:04:41.377-03:00  INFO 19552 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-13T03:04:41.549-03:00  WARN 19552 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-13T03:04:43.232-03:00  INFO 19552 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-13T03:04:43.238-03:00  INFO 19552 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T03:04:43.291-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-13T03:04:43.323-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-13T03:04:43.361-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:43.412-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:43.523-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:43.585-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-13T03:04:43.589-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-13T03:04:43.594-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:43.750-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-08-13T03:04:43.819-03:00 TRACE 19552 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@5e72928b}
2025-08-13T03:04:43.881-03:00  INFO 19552 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-13T03:04:43.883-03:00  WARN 19552 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-13T03:04:43.893-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:43.908-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:43.913-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-13T03:04:43.915-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-13T03:04:43.916-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:43.945-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:43.962-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:43.967-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-13T03:04:43.969-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-13T03:04:43.969-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:43.972-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-13T03:04:43.974-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-13T03:04:43.974-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:43.993-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:43.995-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:43.998-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-13T03:04:43.999-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-13T03:04:44.001-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.565-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.572-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.577-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-13T03:04:44.579-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-13T03:04:44.580-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.618-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.642-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.645-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-13T03:04:44.647-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-13T03:04:44.647-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.652-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-13T03:04:44.653-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-13T03:04:44.654-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.656-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-13T03:04:44.657-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-13T03:04:44.657-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.661-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T03:04:44.662-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T03:04:44.662-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.666-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-13T03:04:44.667-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-13T03:04:44.668-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.670-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T03:04:44.671-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T03:04:44.671-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.676-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T03:04:44.678-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T03:04:44.678-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.688-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.690-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.702-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.704-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.709-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-13T03:04:44.709-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-13T03:04:44.710-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.713-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-13T03:04:44.714-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-13T03:04:44.714-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.718-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-13T03:04:44.720-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-13T03:04:44.721-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.743-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.759-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.762-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-13T03:04:44.763-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-13T03:04:44.763-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.775-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-13T03:04:44.775-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-13T03:04:44.776-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.778-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-13T03:04:44.779-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-13T03:04:44.779-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.791-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.792-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.795-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T03:04:44.795-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T03:04:44.795-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.862-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.863-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.866-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T03:04:44.867-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T03:04:44.867-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.869-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T03:04:44.870-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T03:04:44.871-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:44.874-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T03:04:44.875-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T03:04:44.875-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:45.306-03:00 TRACE 19552 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-08-13T03:04:45.323-03:00 TRACE 19552 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
2025-08-13T03:04:45.331-03:00 TRACE 19552 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-08-13T03:04:45.341-03:00 TRACE 19552 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
2025-08-13T03:04:45.349-03:00 TRACE 19552 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
2025-08-13T03:04:45.358-03:00 TRACE 19552 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
2025-08-13T03:04:45.363-03:00 TRACE 19552 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{DELETE [/api/produtos/{id}]}: deletar(Long)
	{POST [/api/produtos]}: criar(ProdutoRequestDTO)
	{PUT [/api/produtos/{id}]}: atualizar(Long,ProdutoRequestDTO)
	{GET [/api/produtos]}: listarTodos()
	{GET [/api/produtos/{id}]}: buscarPorId(Long)
	{POST [/api/produtos/lote]}: criarEmLote(List)
2025-08-13T03:04:45.370-03:00 TRACE 19552 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-08-13T03:04:45.380-03:00 TRACE 19552 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-13T03:04:45.403-03:00 TRACE 19552 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-08-13T03:04:45.408-03:00 TRACE 19552 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-13T03:04:45.411-03:00 TRACE 19552 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-13T03:04:45.415-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-08-13T03:04:45.547-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-13T03:04:45.619-03:00  INFO 19552 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@27406f4b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25a193a8, org.springframework.security.web.context.SecurityContextHolderFilter@532582fe, org.springframework.security.web.header.HeaderWriterFilter@2c7465f0, org.springframework.web.filter.CorsFilter@6b570e3, org.springframework.security.web.authentication.logout.LogoutFilter@582cb3d6, com.zlogcompras.config.JwtAuthenticationFilter@54ea9a71, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48ca58b7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@339de154, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59daae07, org.springframework.security.web.session.SessionManagementFilter@4846b557, org.springframework.security.web.access.ExceptionTranslationFilter@1acf87e9, org.springframework.security.web.access.intercept.AuthorizationFilter@7abf1b90]
2025-08-13T03:04:45.771-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-13T03:04:45.825-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-13T03:04:45.991-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:45.996-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:46.000-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T03:04:46.002-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T03:04:46.003-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:46.018-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:46.021-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:46.024-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-13T03:04:46.025-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-13T03:04:46.025-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:46.160-03:00  INFO 19552 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-13T03:04:46.224-03:00  INFO 19552 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-13T03:04:46.239-03:00  INFO 19552 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 10.387 seconds (process running for 11.564)
2025-08-13T03:04:46.256-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:46.464-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T03:04:46.472-03:00 TRACE 19552 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T03:04:46.544-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:04:46.545-03:00 DEBUG 19552 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T03:04:46.546-03:00 TRACE 19552 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T03:04:46.761-03:00  INFO 19552 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-08-13T03:04:46.803-03:00  INFO 19552 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T03:04:46.809-03:00  INFO 19552 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-13T03:04:46.825-03:00  INFO 19552 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-13T03:05:09.816-03:00  INFO 18876 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 18876 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-13T03:05:09.819-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-13T03:05:09.819-03:00  INFO 18876 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-13T03:05:09.919-03:00  INFO 18876 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-13T03:05:09.923-03:00  INFO 18876 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-13T03:05:11.048-03:00  INFO 18876 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-13T03:05:11.169-03:00  INFO 18876 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 118 ms. Found 13 JPA repository interfaces.
2025-08-13T03:05:11.971-03:00  INFO 18876 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-13T03:05:11.987-03:00  INFO 18876 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-13T03:05:11.987-03:00  INFO 18876 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-08-13T03:05:12.057-03:00  INFO 18876 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-13T03:05:12.057-03:00  INFO 18876 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2127 ms
2025-08-13T03:05:12.217-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-13T03:05:12.256-03:00  INFO 18876 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-13T03:05:12.328-03:00  INFO 18876 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-08-13T03:05:12.379-03:00  INFO 18876 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-13T03:05:12.746-03:00  INFO 18876 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-13T03:05:12.779-03:00  INFO 18876 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-13T03:05:12.966-03:00  INFO 18876 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20c92820
2025-08-13T03:05:12.966-03:00  INFO 18876 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-13T03:05:13.026-03:00  WARN 18876 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-13T03:05:14.467-03:00  INFO 18876 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-13T03:05:14.477-03:00  INFO 18876 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T03:05:14.533-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-13T03:05:14.556-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-13T03:05:14.591-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:14.632-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:14.711-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:14.757-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-13T03:05:14.758-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-13T03:05:14.764-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:14.867-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-08-13T03:05:14.929-03:00 TRACE 18876 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@343fc6bc}
2025-08-13T03:05:14.974-03:00  INFO 18876 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-13T03:05:14.977-03:00  WARN 18876 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-13T03:05:14.980-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:14.986-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:14.991-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-13T03:05:14.993-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-13T03:05:14.993-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.018-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.033-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.041-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-13T03:05:15.041-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-13T03:05:15.041-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.049-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-13T03:05:15.049-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-13T03:05:15.049-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.061-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.063-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.063-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-13T03:05:15.066-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-13T03:05:15.066-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.536-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.539-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.539-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-13T03:05:15.544-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-13T03:05:15.544-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.561-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.587-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.587-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T03:05:15.587-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T03:05:15.587-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.595-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-13T03:05:15.596-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-13T03:05:15.596-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.597-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-13T03:05:15.597-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-13T03:05:15.601-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.602-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-13T03:05:15.602-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-13T03:05:15.604-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.606-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-13T03:05:15.606-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-13T03:05:15.606-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.610-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T03:05:15.610-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T03:05:15.610-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.613-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T03:05:15.613-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T03:05:15.613-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.621-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.625-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.633-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.633-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.638-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-13T03:05:15.638-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-13T03:05:15.638-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.640-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-13T03:05:15.642-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-13T03:05:15.642-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.642-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-13T03:05:15.642-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-13T03:05:15.646-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.658-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.666-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.674-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-13T03:05:15.674-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-13T03:05:15.674-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.677-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-13T03:05:15.677-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-13T03:05:15.677-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.680-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-13T03:05:15.680-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-13T03:05:15.680-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.692-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.696-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.699-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T03:05:15.699-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T03:05:15.699-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.758-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.758-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.762-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T03:05:15.763-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T03:05:15.763-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.766-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T03:05:15.766-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T03:05:15.766-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:15.770-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T03:05:15.770-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T03:05:15.770-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:16.026-03:00 TRACE 18876 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-08-13T03:05:16.041-03:00 TRACE 18876 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
2025-08-13T03:05:16.048-03:00 TRACE 18876 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
2025-08-13T03:05:16.056-03:00 TRACE 18876 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
2025-08-13T03:05:16.063-03:00 TRACE 18876 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
2025-08-13T03:05:16.072-03:00 TRACE 18876 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
2025-08-13T03:05:16.076-03:00 TRACE 18876 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{DELETE [/api/produtos/{id}]}: deletar(Long)
	{POST [/api/produtos]}: criar(ProdutoRequestDTO)
	{PUT [/api/produtos/{id}]}: atualizar(Long,ProdutoRequestDTO)
	{GET [/api/produtos]}: listarTodos()
	{GET [/api/produtos/{id}]}: buscarPorId(Long)
	{POST [/api/produtos/lote]}: criarEmLote(List)
2025-08-13T03:05:16.081-03:00 TRACE 18876 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
2025-08-13T03:05:16.086-03:00 TRACE 18876 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-13T03:05:16.107-03:00 TRACE 18876 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-08-13T03:05:16.112-03:00 TRACE 18876 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-13T03:05:16.116-03:00 TRACE 18876 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-13T03:05:16.117-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-08-13T03:05:16.218-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-13T03:05:16.299-03:00  INFO 18876 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1f75e8a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14ecaa55, org.springframework.security.web.context.SecurityContextHolderFilter@5938fca3, org.springframework.security.web.header.HeaderWriterFilter@59893f9, org.springframework.web.filter.CorsFilter@6e909a4, org.springframework.security.web.authentication.logout.LogoutFilter@56ce7e11, com.zlogcompras.config.JwtAuthenticationFilter@15ed5473, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52a8dc8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@175ff320, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fcce348, org.springframework.security.web.session.SessionManagementFilter@35169a51, org.springframework.security.web.access.ExceptionTranslationFilter@4e0b68db, org.springframework.security.web.access.intercept.AuthorizationFilter@49c85b41]
2025-08-13T03:05:16.508-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-13T03:05:16.566-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-13T03:05:16.746-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:16.758-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:16.760-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T03:05:16.760-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T03:05:16.760-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:16.771-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:16.777-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:16.782-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-13T03:05:16.782-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-13T03:05:16.782-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:16.867-03:00  INFO 18876 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-13T03:05:16.915-03:00  INFO 18876 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-13T03:05:16.933-03:00  INFO 18876 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 7.675 seconds (process running for 8.32)
2025-08-13T03:05:16.944-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:17.113-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T03:05:17.122-03:00 TRACE 18876 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T03:05:17.166-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:17.166-03:00 DEBUG 18876 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T03:05:17.166-03:00 TRACE 18876 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T03:05:56.851-03:00  INFO 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-13T03:05:56.857-03:00  INFO 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-13T03:05:56.857-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-08-13T03:05:56.857-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-08-13T03:05:56.857-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-08-13T03:05:56.857-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@46a8e1d2
2025-08-13T03:05:56.857-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4ab7424a
2025-08-13T03:05:56.864-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-13T03:05:56.864-03:00  INFO 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-08-13T03:05:56.932-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f75e8a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14ecaa55, org.springframework.security.web.context.SecurityContextHolderFilter@5938fca3, org.springframework.security.web.header.HeaderWriterFilter@59893f9, org.springframework.web.filter.CorsFilter@6e909a4, org.springframework.security.web.authentication.logout.LogoutFilter@56ce7e11, com.zlogcompras.config.JwtAuthenticationFilter@15ed5473, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52a8dc8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@175ff320, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fcce348, org.springframework.security.web.session.SessionManagementFilter@35169a51, org.springframework.security.web.access.ExceptionTranslationFilter@4e0b68db, org.springframework.security.web.access.intercept.AuthorizationFilter@49c85b41]] (1/1)
2025-08-13T03:05:56.932-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T03:05:56.936-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:05:56.936-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:05:56.946-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:05:56.946-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:05:56.956-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:05:56.996-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:05:57.007-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:05:57.009-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:05:57.009-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:05:57.009-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:05:57.009-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:05:57.013-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:05:57.013-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:05:57.015-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:05:57.018-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T03:05:57.021-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:05:57.022-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:05:57.024-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T03:05:57.026-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001524daa4438@896204
2025-08-13T03:05:57.029-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T03:05:57.029-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:05:57.033-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T03:05:57.038-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T03:05:57.292-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-13T03:05:57.308-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T03:05:57.626-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:57.637-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:05:57.642-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:05:57.696-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:05:57.706-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:05:58.037-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T03:05:58.037-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:58.037-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:05:58.044-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:05:58.048-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:05:58.050-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:05:58.429-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:05:58.434-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NTE1OCwiZXhwIjoxNzU1MTUxNTU4fQ._048kS-1vu0ag0w4hEazP3GqbmQ51lKNSvprEY8FK8M)]
2025-08-13T03:05:58.443-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:05:58.451-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:05:58.476-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f75e8a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14ecaa55, org.springframework.security.web.context.SecurityContextHolderFilter@5938fca3, org.springframework.security.web.header.HeaderWriterFilter@59893f9, org.springframework.web.filter.CorsFilter@6e909a4, org.springframework.security.web.authentication.logout.LogoutFilter@56ce7e11, com.zlogcompras.config.JwtAuthenticationFilter@15ed5473, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52a8dc8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@175ff320, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fcce348, org.springframework.security.web.session.SessionManagementFilter@35169a51, org.springframework.security.web.access.ExceptionTranslationFilter@4e0b68db, org.springframework.security.web.access.intercept.AuthorizationFilter@49c85b41]] (1/1)
2025-08-13T03:05:58.477-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T03:05:58.477-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:05:58.477-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:05:58.477-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:05:58.477-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:05:58.479-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:05:58.481-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:05:58.482-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:05:58.482-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:05:58.483-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T03:05:58.485-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T03:05:58.485-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NTE1OCwiZXhwIjoxNzU1MTUxNTU4fQ._048kS-1vu0ag0w4hEazP3GqbmQ51lKNSvprEY8FK8M
2025-08-13T03:05:58.602-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-13T03:05:58.602-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:05:58.602-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:05:58.608-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:05:58.610-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:05:58.611-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:05:58.611-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:05:58.619-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-13T03:05:58.619-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T03:05:58.623-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-13T03:05:58.623-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:05:58.623-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:05:58.623-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:05:58.626-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:05:58.628-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T03:05:58.628-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T03:05:58.628-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:05:58.628-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:05:58.628-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T03:05:58.628-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_USER, ROLE_ADMIN]]
2025-08-13T03:05:58.628-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T03:05:58.628-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T03:05:58.628-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T03:05:58.628-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T03:05:58.646-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T03:05:58.646-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(551682885<open>)] for JPA transaction
2025-08-13T03:05:58.666-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@425a6dd9]
2025-08-13T03:05:58.686-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T03:05:58.709-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T03:05:58.711-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(551682885<open>)]
2025-08-13T03:05:58.716-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(551682885<open>)] after transaction
2025-08-13T03:05:58.720-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:05:58.720-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@2bc080e3, com.zlogcompras.model.Produto@77103b33, com.zlogcompras.model.Produto@16387d8, com.zlogcompras.model.Produto@353e2983, com.zlogcompras.model.Produto@1a56605f, com.zlogcompras.model.Produto@6ce90985, com.zlogcompras.model.Produto@71291e87, com.zlogcompras.model.Produto@351f4310, com.zlogcompras.model.Produto@1ce29974, com.zlogcompras.model.Produto@38631e4c, com.zlogcompras.model.Produto@107e2e1, com.zlogcompras.model.Produto@4e4f3612]]
2025-08-13T03:05:58.747-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:05:58.751-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:06:21.646-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f75e8a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14ecaa55, org.springframework.security.web.context.SecurityContextHolderFilter@5938fca3, org.springframework.security.web.header.HeaderWriterFilter@59893f9, org.springframework.web.filter.CorsFilter@6e909a4, org.springframework.security.web.authentication.logout.LogoutFilter@56ce7e11, com.zlogcompras.config.JwtAuthenticationFilter@15ed5473, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52a8dc8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@175ff320, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fcce348, org.springframework.security.web.session.SessionManagementFilter@35169a51, org.springframework.security.web.access.ExceptionTranslationFilter@4e0b68db, org.springframework.security.web.access.intercept.AuthorizationFilter@49c85b41]] (1/1)
2025-08-13T03:06:21.648-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T03:06:21.650-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:06:21.650-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:06:21.650-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:06:21.650-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:06:21.650-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:06:21.652-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:06:21.652-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:06:21.654-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:06:21.654-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:06:21.654-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:06:21.654-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:06:21.656-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:06:21.656-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:06:21.656-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:06:21.656-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T03:06:21.656-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:06:21.658-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:06:21.658-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T03:06:21.658-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001524daa4438@896204
2025-08-13T03:06:21.659-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T03:06:21.659-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:06:21.659-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T03:06:21.659-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T03:06:21.661-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-13T03:06:21.664-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T03:06:21.664-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:06:21.668-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:06:21.672-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:06:21.676-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:06:21.678-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:06:21.941-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T03:06:21.941-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:06:21.941-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:06:21.941-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:06:21.946-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:06:21.946-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:06:21.954-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:06:21.954-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NTE4MSwiZXhwIjoxNzU1MTUxNTgxfQ.5oEO0KRApmA3u0U74XGmoLzY7SiGpE3fkgjnUJ6bwmE)]
2025-08-13T03:06:21.956-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:06:21.956-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:06:21.978-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1f75e8a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14ecaa55, org.springframework.security.web.context.SecurityContextHolderFilter@5938fca3, org.springframework.security.web.header.HeaderWriterFilter@59893f9, org.springframework.web.filter.CorsFilter@6e909a4, org.springframework.security.web.authentication.logout.LogoutFilter@56ce7e11, com.zlogcompras.config.JwtAuthenticationFilter@15ed5473, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52a8dc8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@175ff320, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fcce348, org.springframework.security.web.session.SessionManagementFilter@35169a51, org.springframework.security.web.access.ExceptionTranslationFilter@4e0b68db, org.springframework.security.web.access.intercept.AuthorizationFilter@49c85b41]] (1/1)
2025-08-13T03:06:21.978-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T03:06:21.978-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:06:21.978-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:06:21.978-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:06:21.980-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:06:21.980-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:06:21.980-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:06:21.982-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:06:21.982-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:06:21.982-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T03:06:21.982-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T03:06:21.982-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NTE4MSwiZXhwIjoxNzU1MTUxNTgxfQ.5oEO0KRApmA3u0U74XGmoLzY7SiGpE3fkgjnUJ6bwmE
2025-08-13T03:06:21.986-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-13T03:06:21.986-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:06:21.986-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:06:21.990-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:06:21.992-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:06:21.993-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:06:21.996-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:06:22.001-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-13T03:06:22.001-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T03:06:22.001-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-13T03:06:22.001-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:06:22.001-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:06:22.006-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:06:22.006-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:06:22.006-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T03:06:22.006-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T03:06:22.006-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:06:22.009-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:06:22.009-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T03:06:22.010-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_USER, ROLE_ADMIN]]
2025-08-13T03:06:22.010-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T03:06:22.011-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T03:06:22.011-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T03:06:22.011-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T03:06:22.013-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T03:06:22.013-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1822216205<open>)] for JPA transaction
2025-08-13T03:06:22.015-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7b25e985]
2025-08-13T03:06:22.017-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T03:06:22.033-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T03:06:22.035-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1822216205<open>)]
2025-08-13T03:06:22.036-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1822216205<open>)] after transaction
2025-08-13T03:06:22.039-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:06:22.041-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@38151e07, com.zlogcompras.model.Produto@3a4882ff, com.zlogcompras.model.Produto@1f97262d, com.zlogcompras.model.Produto@50fed2e6, com.zlogcompras.model.Produto@408b1bd8, com.zlogcompras.model.Produto@3eaa264c, com.zlogcompras.model.Produto@18aad9fa, com.zlogcompras.model.Produto@3e6551eb, com.zlogcompras.model.Produto@26a8c824, com.zlogcompras.model.Produto@49df12fb, com.zlogcompras.model.Produto@7f46733, com.zlogcompras.model.Produto@138a942f]]
2025-08-13T03:06:22.041-03:00 TRACE 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:06:22.044-03:00 DEBUG 18876 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:24:44.018-03:00  INFO 688 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Starting ZlogComprasApplicationTests using Java 21.0.8 with PID 688 (started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-13T03:24:44.018-03:00 DEBUG 688 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-13T03:24:44.018-03:00  INFO 688 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : The following 1 profile is active: "test"
2025-08-13T03:24:44.097-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0
2025-08-13T03:24:47.954-03:00 DEBUG 688 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-13T03:24:48.432-03:00  INFO 688 --- [zlog_compras] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-13T03:24:48.512-03:00  WARN 688 --- [zlog_compras] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-13T03:24:50.117-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-08-13T03:24:50.123-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-08-13T03:24:50.123-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-08-13T03:24:50.123-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-08-13T03:24:50.123-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-08-13T03:24:50.123-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-08-13T03:24:50.123-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-08-13T03:24:50.123-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-08-13T03:24:50.123-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-08-13T03:24:50.123-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-08-13T03:24:50.123-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-08-13T03:24:50.123-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-08-13T03:24:50.123-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-08-13T03:24:50.123-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-08-13T03:24:50.130-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table estoque (
        quantidade integer not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        data_ultima_entrada timestamp(6),
        data_ultima_saida timestamp(6),
        id bigint generated by default as identity,
        produto_id bigint not null,
        version bigint,
        localizacao varchar(255),
        observacoes varchar(255),
        primary key (id)
    )
2025-08-13T03:24:50.137-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table fornecedores (
        id bigint generated by default as identity,
        version bigint,
        telefone varchar(15),
        cnpj varchar(18) not null unique,
        contato varchar(255),
        email varchar(255) unique,
        endereco varchar(255) not null,
        razao_social varchar(255) not null,
        primary key (id)
    )
2025-08-13T03:24:50.147-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_orcamento (
        preco_unitario_cotado numeric(12,2) not null,
        quantidade numeric(10,3) not null,
        id bigint generated by default as identity,
        orcamento_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida_produto varchar(20),
        codigo_produto varchar(50),
        nome_produto varchar(255) not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-08-13T03:24:50.147-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_pedido_compra (
        preco_unitario numeric(12,2) not null,
        quantidade integer not null,
        subtotal numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida varchar(50),
        codigo_produto varchar(100),
        observacoes varchar(500),
        nome_produto varchar(255),
        primary key (id)
    )
2025-08-13T03:24:50.147-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_solicitacao_compra (
        quantidade numeric(10,3) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        produto_id bigint not null,
        solicitacao_compra_id bigint not null,
        version bigint,
        descricao_adicional varchar(255),
        status enum ('AGUARDANDO_ORCAMENTO','APROVADO','CANCELADO','COMPRADO','EM_COMPRA','ORCAMENTO_RECEBIDO','PENDENTE','REJEITADO') not null,
        primary key (id)
    )
2025-08-13T03:24:50.147-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table movimentacoes_estoque (
        quantidade numeric(10,3) not null,
        data_movimentacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        codigo_material varchar(255) not null,
        referencia varchar(255),
        tipo_movimentacao varchar(255) not null,
        primary key (id)
    )
2025-08-13T03:24:50.156-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table notas_fiscais (
        data_emissao date not null,
        valor_total numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        version bigint,
        numero_nota_fiscal varchar(255) not null unique,
        primary key (id)
    )
2025-08-13T03:24:50.156-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table orcamentos (
        data_cotacao date not null,
        valor_total numeric(12,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        fornecedor_id bigint not null,
        id bigint generated by default as identity,
        solicitacao_compra_id bigint not null,
        version bigint,
        condicoes_pagamento varchar(255),
        numero_orcamento varchar(255) not null,
        observacoes varchar(255),
        prazo_entrega varchar(255),
        status enum ('ABERTO','AGUARDANDO_APROVACAO','APROVADO','CANCELADO','CONCLUIDO','COTADO','PEDIDO_GERADO','PENDENTE','RECUSADO','REJEITADO') not null,
        primary key (id)
    )
2025-08-13T03:24:50.156-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table pedidos_compra (
        data_pedido date,
        valor_total numeric(38,2),
        fornecedor_id bigint,
        id bigint generated by default as identity,
        orcamento_id bigint unique,
        observacoes varchar(255),
        status enum ('AGUARDANDO_APROVACAO','AGUARDANDO_ENVIO','APROVADO','CANCELADO','CONCLUIDO','ENVIADO','FINALIZADO','PENDENTE','RECEBIDO_PARCIALMENTE','RECEBIDO_TOTALMENTE','RECUSADO','REJEITADO_PELO_FORNECEDOR'),
        primary key (id)
    )
2025-08-13T03:24:50.163-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table produtos (
        estoque integer not null,
        preco_unitario numeric(10,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        categoria varchar(50) not null,
        codigo varchar(50) not null unique,
        codigo_produto varchar(50) not null unique,
        descricao varchar(255),
        nome varchar(255),
        unidade_medida varchar(255) not null,
        primary key (id)
    )
2025-08-13T03:24:50.169-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table roles (
        id bigint generated by default as identity,
        name varchar(255) not null unique,
        primary key (id)
    )
2025-08-13T03:24:50.169-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table solicitacoes_compra (
        data_solicitacao date not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        descricao varchar(255),
        solicitante varchar(255) not null,
        status enum ('ABERTA','AGUARDANDO_PARECER','CANCELADA','CONCLUIDA','EM_ANDAMENTO','ORCAMENTO_APROVADO','PEDIDO_GERADO','PENDENTE','REJEITADO','SUSPENSO') not null,
        primary key (id)
    )
2025-08-13T03:24:50.169-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table user_roles (
        role_id bigint not null,
        user_id bigint not null,
        primary key (role_id, user_id)
    )
2025-08-13T03:24:50.169-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table users (
        enabled boolean not null,
        id bigint generated by default as identity,
        password varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-08-13T03:24:50.169-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists estoque 
       add constraint FKmonotpf9w7pfuomk89nqxgeq1 
       foreign key (produto_id) 
       references produtos
2025-08-13T03:24:50.186-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKqlfm2lrgelma3n8kwabcvw9qh 
       foreign key (orcamento_id) 
       references orcamentos
2025-08-13T03:24:50.186-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKbc0qr2yj9stqdgavwvoohki0m 
       foreign key (produto_id) 
       references produtos
2025-08-13T03:24:50.186-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FK8p88mt761a5vacmlhrc68148b 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-08-13T03:24:50.186-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FKrv4ebgf6fdlg2v3b6dcbep8dn 
       foreign key (produto_id) 
       references produtos
2025-08-13T03:24:50.194-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FKntep08q88crstb33ej6npyul5 
       foreign key (produto_id) 
       references produtos
2025-08-13T03:24:50.194-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FK19xietjd5tfpljngdy8daw06x 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-08-13T03:24:50.197-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists notas_fiscais 
       add constraint FKe4e784ip50emjknglqkpkovg4 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-08-13T03:24:50.197-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FKntj4otux0et5xc0cm2lgq3uey 
       foreign key (fornecedor_id) 
       references fornecedores
2025-08-13T03:24:50.197-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FK5bj47al0ogq18q5ge2roy9e53 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-08-13T03:24:50.197-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FKan3yv2vk5m3gbphqf4f6yxj4j 
       foreign key (fornecedor_id) 
       references fornecedores
2025-08-13T03:24:50.197-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FK5f0lurv407qu48ns0sdhky4du 
       foreign key (orcamento_id) 
       references orcamentos
2025-08-13T03:24:50.197-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-13T03:24:50.197-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-13T03:24:50.207-03:00  INFO 688 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T03:24:50.359-03:00 DEBUG 688 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-13T03:24:50.402-03:00 DEBUG 688 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-13T03:24:50.479-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:50.577-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:50.723-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:50.826-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-13T03:24:50.831-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-13T03:24:50.836-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:50.960-03:00 TRACE 688 --- [zlog_compras] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@7cc742d}
2025-08-13T03:24:51.023-03:00  INFO 688 --- [zlog_compras] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-13T03:24:51.026-03:00  WARN 688 --- [zlog_compras] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-13T03:24:51.036-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.039-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.044-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-13T03:24:51.046-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-13T03:24:51.046-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.076-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.119-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.123-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-13T03:24:51.123-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-13T03:24:51.123-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.133-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-13T03:24:51.135-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-13T03:24:51.136-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.169-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.169-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.172-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-13T03:24:51.172-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-13T03:24:51.175-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.907-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.914-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.917-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-13T03:24:51.917-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-13T03:24:51.917-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.949-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.975-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.978-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T03:24:51.982-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T03:24:51.982-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.988-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T03:24:51.988-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T03:24:51.988-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.994-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-13T03:24:51.996-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-13T03:24:51.996-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:51.997-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-13T03:24:51.997-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-13T03:24:51.997-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.001-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-13T03:24:52.001-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-13T03:24:52.001-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.003-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T03:24:52.003-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T03:24:52.003-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.007-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-13T03:24:52.007-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-13T03:24:52.007-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.019-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.019-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.032-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.032-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.037-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-13T03:24:52.037-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-13T03:24:52.037-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.037-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-13T03:24:52.040-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-13T03:24:52.040-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.040-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-13T03:24:52.040-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-13T03:24:52.040-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.048-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.064-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.069-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-13T03:24:52.069-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-13T03:24:52.069-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.071-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-13T03:24:52.071-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-13T03:24:52.071-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.073-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-13T03:24:52.073-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-13T03:24:52.073-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.108-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.112-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.116-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T03:24:52.116-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T03:24:52.116-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.224-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.227-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.231-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T03:24:52.233-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T03:24:52.233-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.235-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T03:24:52.237-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T03:24:52.237-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.239-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T03:24:52.239-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T03:24:52.239-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:52.931-03:00 TRACE 688 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-08-13T03:24:52.947-03:00 TRACE 688 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-08-13T03:24:52.957-03:00 TRACE 688 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-08-13T03:24:52.963-03:00 TRACE 688 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos]}: listarOrcamentos()
2025-08-13T03:24:52.973-03:00 TRACE 688 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
2025-08-13T03:24:52.983-03:00 TRACE 688 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
2025-08-13T03:24:52.986-03:00 TRACE 688 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{PUT [/api/produtos/{id}]}: atualizar(Long,ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletar(Long)
	{POST [/api/produtos]}: criar(ProdutoRequestDTO)
	{GET [/api/produtos]}: listarTodos()
	{GET [/api/produtos/{id}]}: buscarPorId(Long)
	{POST [/api/produtos/lote]}: criarEmLote(List)
2025-08-13T03:24:52.990-03:00 TRACE 688 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-08-13T03:24:53.001-03:00 TRACE 688 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-13T03:24:53.046-03:00 TRACE 688 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-08-13T03:24:53.046-03:00 TRACE 688 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-13T03:24:53.058-03:00 TRACE 688 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-13T03:24:53.065-03:00 DEBUG 688 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-08-13T03:24:53.323-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-13T03:24:53.398-03:00  INFO 688 --- [zlog_compras] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1cca09bc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b749404, org.springframework.security.web.context.SecurityContextHolderFilter@409e0e69, org.springframework.security.web.header.HeaderWriterFilter@642bfa5e, org.springframework.web.filter.CorsFilter@77ffb5e9, org.springframework.security.web.authentication.logout.LogoutFilter@50980f1c, com.zlogcompras.config.JwtAuthenticationFilter@10982760, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d1206b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f4491b9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@290ee844, org.springframework.security.web.session.SessionManagementFilter@4127f82a, org.springframework.security.web.access.ExceptionTranslationFilter@b13c600, org.springframework.security.web.access.intercept.AuthorizationFilter@1f4863e0]
2025-08-13T03:24:53.808-03:00 DEBUG 688 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-13T03:24:53.864-03:00 DEBUG 688 --- [zlog_compras] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-13T03:24:54.076-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:54.082-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:54.087-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-13T03:24:54.087-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-13T03:24:54.088-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:54.098-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:54.100-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:54.100-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T03:24:54.100-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T03:24:54.107-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:54.276-03:00  INFO 688 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Started ZlogComprasApplicationTests in 10.848 seconds (process running for 17.393)
2025-08-13T03:24:54.298-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:54.554-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T03:24:54.556-03:00 TRACE 688 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T03:24:54.577-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-08-13T03:24:54.577-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(456552476<open>)] for JPA transaction
2025-08-13T03:24:54.591-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1ecf9602]
2025-08-13T03:24:54.622-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-08-13T03:24:54.628-03:00 TRACE 688 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T03:24:54.647-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T03:24:54.649-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(456552476<open>)]
2025-08-13T03:24:54.679-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(456552476<open>)] after transaction
2025-08-13T03:24:54.679-03:00 DEBUG 688 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:24:54.684-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T03:24:54.684-03:00 TRACE 688 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T03:24:54.687-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-08-13T03:24:54.687-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1287564869<open>)] for JPA transaction
2025-08-13T03:24:54.687-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@746a671]
2025-08-13T03:24:54.687-03:00 DEBUG 688 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-08-13T03:24:54.687-03:00 TRACE 688 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T03:24:54.691-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T03:24:54.691-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1287564869<open>)]
2025-08-13T03:24:54.691-03:00 DEBUG 688 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1287564869<open>)] after transaction
2025-08-13T03:24:54.771-03:00 DEBUG 688 --- [zlog_compras] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0, started on Wed Aug 13 03:24:44 BRT 2025
2025-08-13T03:24:54.787-03:00  INFO 688 --- [zlog_compras] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T03:24:54.787-03:00 DEBUG 688 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-08-13T03:24:54.793-03:00 DEBUG 688 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-08-13T03:24:54.796-03:00 DEBUG 688 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-08-13T03:24:54.796-03:00 DEBUG 688 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-08-13T03:24:54.796-03:00 DEBUG 688 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-08-13T03:24:54.796-03:00 DEBUG 688 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-08-13T03:24:54.796-03:00 DEBUG 688 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-08-13T03:24:54.796-03:00 DEBUG 688 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-08-13T03:24:54.796-03:00 DEBUG 688 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-08-13T03:24:54.796-03:00 DEBUG 688 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-08-13T03:24:54.796-03:00 DEBUG 688 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-08-13T03:24:54.796-03:00 DEBUG 688 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-08-13T03:24:54.796-03:00 DEBUG 688 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-08-13T03:24:54.796-03:00 DEBUG 688 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-08-13T03:24:59.150-03:00  INFO 13836 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 13836 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-13T03:24:59.152-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-13T03:24:59.154-03:00  INFO 13836 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-13T03:24:59.265-03:00  INFO 13836 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-13T03:24:59.265-03:00  INFO 13836 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-13T03:25:01.084-03:00  INFO 13836 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-13T03:25:01.268-03:00  INFO 13836 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 174 ms. Found 13 JPA repository interfaces.
2025-08-13T03:25:02.810-03:00  INFO 13836 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-13T03:25:02.853-03:00  INFO 13836 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-13T03:25:02.854-03:00  INFO 13836 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-08-13T03:25:02.974-03:00  INFO 13836 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-13T03:25:02.975-03:00  INFO 13836 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3709 ms
2025-08-13T03:25:03.274-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-13T03:25:03.316-03:00  INFO 13836 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-13T03:25:03.433-03:00  INFO 13836 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-08-13T03:25:03.514-03:00  INFO 13836 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-13T03:25:04.128-03:00  INFO 13836 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-13T03:25:04.203-03:00  INFO 13836 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-13T03:25:04.565-03:00  INFO 13836 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@50b44140
2025-08-13T03:25:04.568-03:00  INFO 13836 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-13T03:25:04.705-03:00  WARN 13836 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-13T03:25:06.485-03:00  INFO 13836 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-13T03:25:06.492-03:00  INFO 13836 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T03:25:06.615-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-13T03:25:06.647-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-13T03:25:06.692-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:06.767-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:06.917-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:07.015-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-13T03:25:07.019-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-13T03:25:07.024-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:07.233-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-08-13T03:25:07.343-03:00 TRACE 13836 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@3bbb0b07}
2025-08-13T03:25:07.404-03:00  INFO 13836 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-13T03:25:07.405-03:00  WARN 13836 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-13T03:25:07.418-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:07.423-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:07.430-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-13T03:25:07.431-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-13T03:25:07.432-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:07.462-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:07.481-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:07.485-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-13T03:25:07.486-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-13T03:25:07.486-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:07.497-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-13T03:25:07.499-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-13T03:25:07.500-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:07.522-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:07.524-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:07.527-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-13T03:25:07.529-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-13T03:25:07.530-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.051-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.058-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.062-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-13T03:25:08.064-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-13T03:25:08.065-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.101-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.130-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.134-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-13T03:25:08.135-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-13T03:25:08.136-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.142-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T03:25:08.145-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T03:25:08.145-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.149-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-13T03:25:08.150-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-13T03:25:08.150-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.152-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-13T03:25:08.152-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-13T03:25:08.152-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.156-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T03:25:08.158-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T03:25:08.159-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.170-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T03:25:08.171-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T03:25:08.172-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.175-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-13T03:25:08.175-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-13T03:25:08.177-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.186-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.188-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.199-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.200-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.208-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-13T03:25:08.209-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-13T03:25:08.210-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.214-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-13T03:25:08.215-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-13T03:25:08.215-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.217-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-13T03:25:08.218-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-13T03:25:08.219-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.240-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.255-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.260-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-13T03:25:08.261-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-13T03:25:08.262-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.265-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-13T03:25:08.267-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-13T03:25:08.267-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.269-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-13T03:25:08.270-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-13T03:25:08.270-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.290-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.291-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.298-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T03:25:08.299-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T03:25:08.300-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.375-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.378-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.384-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T03:25:08.385-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T03:25:08.387-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.389-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T03:25:08.391-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T03:25:08.392-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:08.397-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T03:25:08.398-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T03:25:08.398-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:09.016-03:00 TRACE 13836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-08-13T03:25:09.031-03:00 TRACE 13836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-08-13T03:25:09.048-03:00 TRACE 13836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-08-13T03:25:09.055-03:00 TRACE 13836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
2025-08-13T03:25:09.067-03:00 TRACE 13836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
2025-08-13T03:25:09.080-03:00 TRACE 13836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
2025-08-13T03:25:09.085-03:00 TRACE 13836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{DELETE [/api/produtos/{id}]}: deletar(Long)
	{POST [/api/produtos]}: criar(ProdutoRequestDTO)
	{PUT [/api/produtos/{id}]}: atualizar(Long,ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarPorId(Long)
	{POST [/api/produtos/lote]}: criarEmLote(List)
	{GET [/api/produtos]}: listarTodos()
2025-08-13T03:25:09.090-03:00 TRACE 13836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-08-13T03:25:09.103-03:00 TRACE 13836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-13T03:25:09.132-03:00 TRACE 13836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-08-13T03:25:09.137-03:00 TRACE 13836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-13T03:25:09.138-03:00 TRACE 13836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-13T03:25:09.146-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-08-13T03:25:09.316-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-13T03:25:09.398-03:00  INFO 13836 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@79761c0c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71cb7df7, org.springframework.security.web.context.SecurityContextHolderFilter@54f5b32c, org.springframework.security.web.header.HeaderWriterFilter@52da9d30, org.springframework.web.filter.CorsFilter@58946844, org.springframework.security.web.authentication.logout.LogoutFilter@b2973aa, com.zlogcompras.config.JwtAuthenticationFilter@bb83329, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@74c80380, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8186f40, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16c2bf6d, org.springframework.security.web.session.SessionManagementFilter@231e6ad9, org.springframework.security.web.access.ExceptionTranslationFilter@7969952f, org.springframework.security.web.access.intercept.AuthorizationFilter@616d3b1e]
2025-08-13T03:25:09.587-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-13T03:25:09.645-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-13T03:25:09.897-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:09.905-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:09.910-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T03:25:09.912-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T03:25:09.913-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:09.936-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:09.941-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:09.947-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-13T03:25:09.949-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-13T03:25:09.950-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:10.096-03:00  INFO 13836 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-13T03:25:10.166-03:00  INFO 13836 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-13T03:25:10.182-03:00  INFO 13836 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 11.698 seconds (process running for 12.908)
2025-08-13T03:25:10.199-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:10.389-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T03:25:10.401-03:00 TRACE 13836 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T03:25:10.453-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:10.455-03:00 DEBUG 13836 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T03:25:10.457-03:00 TRACE 13836 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T03:25:10.854-03:00  INFO 13836 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-08-13T03:25:10.874-03:00  INFO 13836 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T03:25:10.880-03:00  INFO 13836 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-13T03:25:10.898-03:00  INFO 13836 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-13T03:25:32.401-03:00  INFO 18708 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 18708 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-13T03:25:32.401-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-13T03:25:32.406-03:00  INFO 18708 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-13T03:25:32.497-03:00  INFO 18708 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-13T03:25:32.497-03:00  INFO 18708 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-13T03:25:33.743-03:00  INFO 18708 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-13T03:25:33.864-03:00  INFO 18708 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 113 ms. Found 13 JPA repository interfaces.
2025-08-13T03:25:34.652-03:00  INFO 18708 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-13T03:25:34.666-03:00  INFO 18708 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-13T03:25:34.669-03:00  INFO 18708 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-08-13T03:25:34.747-03:00  INFO 18708 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-13T03:25:34.747-03:00  INFO 18708 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2250 ms
2025-08-13T03:25:34.915-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-13T03:25:34.945-03:00  INFO 18708 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-13T03:25:35.010-03:00  INFO 18708 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-08-13T03:25:35.047-03:00  INFO 18708 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-13T03:25:35.367-03:00  INFO 18708 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-13T03:25:35.407-03:00  INFO 18708 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-13T03:25:35.650-03:00  INFO 18708 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20c92820
2025-08-13T03:25:35.653-03:00  INFO 18708 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-13T03:25:35.727-03:00  WARN 18708 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-13T03:25:37.321-03:00  INFO 18708 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-13T03:25:37.327-03:00  INFO 18708 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T03:25:37.377-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-13T03:25:37.397-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-13T03:25:37.428-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:37.473-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:37.557-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:37.600-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-13T03:25:37.607-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-13T03:25:37.611-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:37.763-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-08-13T03:25:37.824-03:00 TRACE 18708 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@22b16514}
2025-08-13T03:25:37.848-03:00  INFO 18708 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-13T03:25:37.848-03:00  WARN 18708 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-13T03:25:37.863-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:37.870-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:37.875-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-13T03:25:37.876-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-13T03:25:37.876-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:37.898-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:37.914-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:37.920-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-13T03:25:37.920-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-13T03:25:37.922-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:37.929-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-13T03:25:37.931-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-13T03:25:37.931-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:37.942-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:37.944-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:37.950-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-13T03:25:37.950-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-13T03:25:37.950-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.437-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.442-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.447-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-13T03:25:38.449-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-13T03:25:38.449-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.478-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.496-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.496-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T03:25:38.496-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T03:25:38.496-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.510-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-13T03:25:38.515-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-13T03:25:38.515-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.518-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T03:25:38.518-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T03:25:38.518-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.526-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-13T03:25:38.528-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-13T03:25:38.528-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.531-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T03:25:38.531-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T03:25:38.531-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.531-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-13T03:25:38.531-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-13T03:25:38.535-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.539-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-13T03:25:38.539-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-13T03:25:38.540-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.547-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.547-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.563-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.564-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.566-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-13T03:25:38.566-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-13T03:25:38.566-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.566-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-13T03:25:38.566-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-13T03:25:38.566-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.574-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-13T03:25:38.575-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-13T03:25:38.577-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.592-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.605-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.610-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-13T03:25:38.610-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-13T03:25:38.610-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.612-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-13T03:25:38.612-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-13T03:25:38.612-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.615-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-13T03:25:38.616-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-13T03:25:38.616-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.631-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.635-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.637-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T03:25:38.637-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T03:25:38.637-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.709-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.709-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.717-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T03:25:38.717-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T03:25:38.717-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.723-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T03:25:38.723-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T03:25:38.723-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:38.730-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T03:25:38.730-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T03:25:38.731-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:39.167-03:00 TRACE 18708 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-08-13T03:25:39.180-03:00 TRACE 18708 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
2025-08-13T03:25:39.190-03:00 TRACE 18708 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-08-13T03:25:39.197-03:00 TRACE 18708 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{GET [/api/orcamentos]}: listarOrcamentos()
2025-08-13T03:25:39.205-03:00 TRACE 18708 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-08-13T03:25:39.209-03:00 TRACE 18708 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
2025-08-13T03:25:39.217-03:00 TRACE 18708 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{PUT [/api/produtos/{id}]}: atualizar(Long,ProdutoRequestDTO)
	{POST [/api/produtos]}: criar(ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletar(Long)
	{POST [/api/produtos/lote]}: criarEmLote(List)
	{GET [/api/produtos/{id}]}: buscarPorId(Long)
	{GET [/api/produtos]}: listarTodos()
2025-08-13T03:25:39.217-03:00 TRACE 18708 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-08-13T03:25:39.231-03:00 TRACE 18708 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-13T03:25:39.247-03:00 TRACE 18708 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-08-13T03:25:39.252-03:00 TRACE 18708 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-13T03:25:39.252-03:00 TRACE 18708 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-13T03:25:39.257-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-08-13T03:25:39.358-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-13T03:25:39.407-03:00  INFO 18708 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]
2025-08-13T03:25:39.507-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-13T03:25:39.550-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-13T03:25:39.747-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:39.747-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:39.747-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T03:25:39.747-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T03:25:39.747-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:39.767-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:39.771-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:39.776-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-13T03:25:39.777-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-13T03:25:39.777-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:39.861-03:00  INFO 18708 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-13T03:25:39.897-03:00  INFO 18708 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-13T03:25:39.914-03:00  INFO 18708 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 8.124 seconds (process running for 8.718)
2025-08-13T03:25:39.928-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:40.119-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T03:25:40.130-03:00 TRACE 18708 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T03:25:40.167-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:25:40.167-03:00 DEBUG 18708 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T03:25:40.167-03:00 TRACE 18708 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T03:27:05.733-03:00  INFO 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-13T03:27:05.733-03:00  INFO 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-13T03:27:05.735-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-08-13T03:27:05.735-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-08-13T03:27:05.735-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-08-13T03:27:05.737-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@d4fd4b9
2025-08-13T03:27:05.737-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@23a62ccb
2025-08-13T03:27:05.742-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-13T03:27:05.742-03:00  INFO 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-08-13T03:27:05.805-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:27:05.807-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T03:27:05.807-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:27:05.807-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:27:05.824-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:27:05.827-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:27:05.833-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:27:05.885-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:27:05.887-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:27:05.887-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:27:05.887-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:27:05.887-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:27:05.887-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:27:05.893-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:27:05.893-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:27:05.897-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:27:05.900-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T03:27:05.902-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:27:05.902-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:27:05.907-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T03:27:05.909-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T03:27:05.911-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T03:27:05.911-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:27:05.917-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T03:27:05.927-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T03:27:06.167-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-13T03:27:06.192-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T03:27:06.569-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:27:06.591-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:27:06.596-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:27:06.673-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:27:06.674-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:27:07.009-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T03:27:07.011-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:27:07.014-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:27:07.017-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:27:07.017-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:27:07.017-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:27:07.347-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:27:07.349-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NjQyNywiZXhwIjoxNzU1MTUyODI3fQ.XlMoOmR85pGWd0zr_plm0IfRG8lrKUGrzxeHGpdDvmA)]
2025-08-13T03:27:07.359-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:27:07.366-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:27:07.395-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:27:07.396-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T03:27:07.396-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:27:07.396-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:27:07.396-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:27:07.399-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:27:07.399-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:27:07.401-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:27:07.401-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:27:07.401-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:27:07.403-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T03:27:07.403-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T03:27:07.403-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NjQyNywiZXhwIjoxNzU1MTUyODI3fQ.XlMoOmR85pGWd0zr_plm0IfRG8lrKUGrzxeHGpdDvmA
2025-08-13T03:27:07.525-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-13T03:27:07.528-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:27:07.528-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:27:07.532-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:27:07.534-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:27:07.538-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:27:07.541-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:27:07.545-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-13T03:27:07.546-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T03:27:07.551-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-13T03:27:07.553-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:27:07.553-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:27:07.553-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:27:07.553-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:27:07.557-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T03:27:07.559-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T03:27:07.559-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:27:07.559-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:27:07.559-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T03:27:07.559-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T03:27:07.563-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T03:27:07.563-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T03:27:07.563-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T03:27:07.566-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T03:27:07.587-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T03:27:07.594-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(261509342<open>)] for JPA transaction
2025-08-13T03:27:07.635-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6dec5785]
2025-08-13T03:27:07.670-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T03:27:07.715-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T03:27:07.719-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(261509342<open>)]
2025-08-13T03:27:07.731-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(261509342<open>)] after transaction
2025-08-13T03:27:07.740-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:27:07.744-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@5ec8c0d7, com.zlogcompras.model.Produto@3df6ddf, com.zlogcompras.model.Produto@7ab2540f, com.zlogcompras.model.Produto@d67f665, com.zlogcompras.model.Produto@15315166, com.zlogcompras.model.Produto@6d78778a, com.zlogcompras.model.Produto@5825406, com.zlogcompras.model.Produto@37e45e0d, com.zlogcompras.model.Produto@28c193f6, com.zlogcompras.model.Produto@62b7543, com.zlogcompras.model.Produto@111e33e4, com.zlogcompras.model.Produto@49f13fc]]
2025-08-13T03:27:07.787-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:27:07.787-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:27:26.068-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:27:26.069-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T03:27:26.069-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:27:26.069-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:27:26.069-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:27:26.074-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:27:26.074-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:27:26.077-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:27:26.079-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:27:26.079-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:27:26.079-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:27:26.079-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:27:26.082-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:27:26.082-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:27:26.082-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:27:26.082-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:27:26.084-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T03:27:26.085-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:27:26.085-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:27:26.085-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T03:27:26.087-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T03:27:26.087-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T03:27:26.087-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:27:26.089-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T03:27:26.089-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T03:27:26.092-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-13T03:27:26.092-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T03:27:26.097-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:27:26.098-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:27:26.098-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:27:26.112-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:27:26.114-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:27:26.457-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T03:27:26.457-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:27:26.463-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:27:26.465-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:27:26.469-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:27:26.470-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:27:26.475-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:27:26.475-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NjQ0NiwiZXhwIjoxNzU1MTUyODQ2fQ.34bfNaF9zJ0HMDyCj18cnsI-V_hx9o54EHtqX1ktvas)]
2025-08-13T03:27:26.478-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:27:26.480-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:27:26.506-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:27:26.507-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T03:27:26.507-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:27:26.508-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:27:26.509-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:27:26.509-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:27:26.510-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:27:26.514-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:27:26.515-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:27:26.515-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:27:26.515-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T03:27:26.517-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T03:27:26.518-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NjQ0NiwiZXhwIjoxNzU1MTUyODQ2fQ.34bfNaF9zJ0HMDyCj18cnsI-V_hx9o54EHtqX1ktvas
2025-08-13T03:27:26.523-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-13T03:27:26.524-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:27:26.524-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:27:26.528-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:27:26.528-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:27:26.532-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:27:26.537-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:27:26.538-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-13T03:27:26.538-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T03:27:26.544-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-13T03:27:26.547-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:27:26.547-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:27:26.547-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:27:26.547-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:27:26.547-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T03:27:26.547-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T03:27:26.547-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:27:26.551-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:27:26.551-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T03:27:26.551-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T03:27:26.553-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T03:27:26.553-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T03:27:26.553-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T03:27:26.555-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T03:27:26.557-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T03:27:26.557-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1378784035<open>)] for JPA transaction
2025-08-13T03:27:26.557-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@302bd6a7]
2025-08-13T03:27:26.563-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T03:27:26.577-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T03:27:26.577-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1378784035<open>)]
2025-08-13T03:27:26.580-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1378784035<open>)] after transaction
2025-08-13T03:27:26.582-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:27:26.582-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@2ee06d18, com.zlogcompras.model.Produto@34aefc3e, com.zlogcompras.model.Produto@1d3f69a4, com.zlogcompras.model.Produto@b1cb8f5, com.zlogcompras.model.Produto@26b98c23, com.zlogcompras.model.Produto@6535dbc6, com.zlogcompras.model.Produto@3a1ec8d, com.zlogcompras.model.Produto@6d14371c, com.zlogcompras.model.Produto@7a66609, com.zlogcompras.model.Produto@4c8676d0, com.zlogcompras.model.Produto@40cf3e49, com.zlogcompras.model.Produto@c2f5d9b]]
2025-08-13T03:27:26.587-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:27:26.587-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:27:31.872-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:27:31.873-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T03:27:31.873-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:27:31.873-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:27:31.873-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:27:31.873-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:27:31.873-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:27:31.877-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:27:31.877-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:27:31.877-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:27:31.877-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:27:31.877-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:27:31.877-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:27:31.881-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:27:31.881-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:27:31.881-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:27:31.883-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T03:27:31.883-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:27:31.883-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:27:31.883-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T03:27:31.885-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T03:27:31.885-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T03:27:31.885-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:27:31.885-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T03:27:31.885-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T03:27:31.887-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-13T03:27:31.887-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T03:27:31.887-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:27:31.889-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:27:31.897-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:27:31.897-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:27:31.897-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:27:32.169-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T03:27:32.169-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:27:32.175-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:27:32.176-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:27:32.179-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:27:32.181-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:27:32.186-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:27:32.187-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NjQ1MiwiZXhwIjoxNzU1MTUyODUyfQ.wifXZ7eKCn9CKXNr4_nP9FlrWs2E14Bg3_ZRKnxvcDU)]
2025-08-13T03:27:32.187-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:27:32.188-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:27:32.210-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:27:32.210-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T03:27:32.211-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:27:32.211-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:27:32.211-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:27:32.211-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:27:32.211-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:27:32.211-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:27:32.211-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:27:32.216-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:27:32.220-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T03:27:32.220-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T03:27:32.220-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA2NjQ1MiwiZXhwIjoxNzU1MTUyODUyfQ.wifXZ7eKCn9CKXNr4_nP9FlrWs2E14Bg3_ZRKnxvcDU
2025-08-13T03:27:32.220-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-13T03:27:32.225-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:27:32.225-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:27:32.230-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:27:32.232-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T03:27:32.236-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:27:32.237-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T03:27:32.241-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-13T03:27:32.242-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T03:27:32.245-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-13T03:27:32.247-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:27:32.247-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:27:32.247-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:27:32.247-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:27:32.247-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T03:27:32.247-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T03:27:32.247-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:27:32.249-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:27:32.249-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T03:27:32.249-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T03:27:32.252-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T03:27:32.252-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T03:27:32.252-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T03:27:32.252-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T03:27:32.252-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T03:27:32.252-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1615380382<open>)] for JPA transaction
2025-08-13T03:27:32.257-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3a4b1434]
2025-08-13T03:27:32.260-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T03:27:32.277-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T03:27:32.277-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1615380382<open>)]
2025-08-13T03:27:32.277-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1615380382<open>)] after transaction
2025-08-13T03:27:32.277-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:27:32.277-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@6576cf1c, com.zlogcompras.model.Produto@76e1d50e, com.zlogcompras.model.Produto@7c64946f, com.zlogcompras.model.Produto@36ae1389, com.zlogcompras.model.Produto@65f3246f, com.zlogcompras.model.Produto@1dc2d47a, com.zlogcompras.model.Produto@45ddec41, com.zlogcompras.model.Produto@3298d28, com.zlogcompras.model.Produto@7f85117e, com.zlogcompras.model.Produto@746f6bf0, com.zlogcompras.model.Produto@5e7a3ed8, com.zlogcompras.model.Produto@11f5a8f2]]
2025-08-13T03:27:32.287-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:27:32.290-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:49:05.140-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:49:05.173-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/register
2025-08-13T03:49:05.177-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:49:05.177-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:49:05.177-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:49:05.183-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:49:05.183-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:49:05.223-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:49:05.318-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:49:05.318-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/register
2025-08-13T03:49:05.318-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:49:05.318-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:49:05.318-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:49:05.318-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:49:05.318-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:49:05.330-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:49:05.330-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:49:05.335-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:49:05.337-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/register
2025-08-13T03:49:05.341-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:49:05.341-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:49:05.341-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:49:05.347-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:49:05.349-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:49:05.352-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T03:49:05.352-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:49:05.352-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:49:05.407-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/register
2025-08-13T03:49:05.411-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/register using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T03:49:05.412-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/register
2025-08-13T03:49:05.412-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/register
2025-08-13T03:49:05.420-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/register", parameters={}
2025-08-13T03:49:05.423-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#registerUser(RegisterRequestDTO)
2025-08-13T03:49:05.593-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RegisterRequestDTO{username='PillarPereira', password='[PROTECTED]'}]
2025-08-13T03:49:05.699-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:49:05.808-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:49:05.840-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [PillarPereira]
2025-08-13T03:49:06.379-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:49:06.381-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T03:49:06.384-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T03:49:06.431-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-08-13T03:49:06.431-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(2010638349<open>)] for JPA transaction
2025-08-13T03:49:06.439-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@19575616]
2025-08-13T03:49:06.736-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        users
        (enabled, password, username) 
    values
        (?, ?, ?)
2025-08-13T03:49:06.737-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BOOLEAN) <- [true]
2025-08-13T03:49:06.748-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [$2a$10$hKBA4YTUdJs22Jh8aHguCeUDBPFB.EwSpcunOOxlCJg/lEo/g9a.K]
2025-08-13T03:49:06.748-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [PillarPereira]
2025-08-13T03:49:06.853-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T03:49:06.853-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2010638349<open>)]
2025-08-13T03:49:06.927-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-08-13T03:49:06.929-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-08-13T03:49:06.931-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (2:BIGINT) <- [1]
2025-08-13T03:49:06.963-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(2010638349<open>)] after transaction
2025-08-13T03:49:06.969-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [text/plain, */*, application/json, application/*+json]
2025-08-13T03:49:06.971-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuário registrado com sucesso!"]
2025-08-13T03:49:06.971-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:49:06.978-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:49:16.892-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:49:16.892-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T03:49:16.892-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:49:16.892-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:49:16.894-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:49:16.894-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:49:16.894-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:49:16.897-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:49:16.906-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:49:16.907-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T03:49:16.907-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:49:16.909-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:49:16.909-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:49:16.911-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:49:16.911-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:49:16.911-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:49:16.911-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:49:16.911-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:49:16.911-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:49:16.911-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:49:16.917-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:49:16.917-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:49:16.919-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:49:16.919-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:49:16.919-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T03:49:16.919-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:49:16.919-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:49:16.919-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T03:49:16.925-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T03:49:16.925-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T03:49:16.925-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:49:16.925-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T03:49:16.927-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T03:49:16.932-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=PillarPereira, password=12345678)]
2025-08-13T03:49:16.934-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T03:49:16.935-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:49:16.940-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:49:16.942-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [PillarPereira]
2025-08-13T03:49:16.951-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:49:16.953-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-08-13T03:49:17.312-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T03:49:17.312-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:49:17.317-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:49:17.323-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [PillarPereira]
2025-08-13T03:49:17.327-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:49:17.327-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-08-13T03:49:17.347-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:49:17.347-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJQaWxsYXJQZXJlaXJhIiwiaWF0IjoxNzU1MDY3NzU3LCJleHAiOjE3NTUxNTQxNTd9.PSPgqWUPlhbhE1EpomzgeT5wP_seOkh7hNUqgIJYbUo)]
2025-08-13T03:49:17.358-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:49:17.358-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:55:02.489-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:55:02.499-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T03:55:02.499-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:55:02.499-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:55:02.499-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:55:02.499-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:55:02.499-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:55:02.517-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:55:02.532-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:55:02.533-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T03:55:02.533-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:55:02.534-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:55:02.534-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:55:02.534-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:55:02.534-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:55:02.537-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:55:02.538-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:55:02.538-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:55:02.539-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:55:02.543-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:55:02.543-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:55:02.543-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:55:02.543-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:55:02.543-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:55:02.545-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T03:55:02.545-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:55:02.545-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:55:02.547-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T03:55:02.547-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T03:55:02.547-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T03:55:02.547-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:55:02.547-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T03:55:02.547-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T03:55:02.577-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=PillarPereira, password=12345678)]
2025-08-13T03:55:02.590-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T03:55:02.607-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:55:02.687-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:55:02.693-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [PillarPereira]
2025-08-13T03:55:02.730-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:55:02.732-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-08-13T03:55:02.938-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T03:55:02.944-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:55:02.947-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:55:02.947-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [PillarPereira]
2025-08-13T03:55:02.947-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:55:02.947-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-08-13T03:55:02.963-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:55:02.965-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJQaWxsYXJQZXJlaXJhIiwiaWF0IjoxNzU1MDY4MTAyLCJleHAiOjE3NTUxNTQ1MDJ9.pnZEEctzZyXYM-Qo54JcW4c6BnNAnsUrWeDyLLhUFjE)]
2025-08-13T03:55:02.965-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:55:02.967-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:55:11.243-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:55:11.244-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T03:55:11.244-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:55:11.244-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:55:11.244-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:55:11.245-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:55:11.245-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:55:11.245-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:55:11.249-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:55:11.250-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T03:55:11.250-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:55:11.251-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:55:11.251-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:55:11.251-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:55:11.252-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:55:11.253-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:55:11.253-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:55:11.253-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:55:11.254-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:55:11.254-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:55:11.254-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:55:11.254-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:55:11.255-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:55:11.255-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:55:11.255-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T03:55:11.255-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:55:11.256-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:55:11.256-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T03:55:11.257-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T03:55:11.258-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T03:55:11.258-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:55:11.258-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T03:55:11.259-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T03:55:11.259-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=PillarPereira, password=12345678)]
2025-08-13T03:55:11.261-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T03:55:11.261-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:55:11.263-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:55:11.263-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [PillarPereira]
2025-08-13T03:55:11.265-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:55:11.267-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-08-13T03:55:11.417-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T03:55:11.417-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:55:11.417-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:55:11.417-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [PillarPereira]
2025-08-13T03:55:11.417-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:55:11.417-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-08-13T03:55:11.427-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:55:11.427-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJQaWxsYXJQZXJlaXJhIiwiaWF0IjoxNzU1MDY4MTExLCJleHAiOjE3NTUxNTQ1MTF9._esINbsn_mNHRTl6pjGzhMqP0v2ptTPvcuLc1iyPKnk)]
2025-08-13T03:55:11.427-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:55:11.427-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:56:30.003-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:56:30.003-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/register
2025-08-13T03:56:30.003-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:56:30.004-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:56:30.004-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:56:30.004-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:56:30.004-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:56:30.007-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:56:30.016-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:56:30.017-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/register
2025-08-13T03:56:30.017-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:56:30.017-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:56:30.017-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:56:30.019-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:56:30.019-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:56:30.020-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:56:30.020-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:56:30.020-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:56:30.021-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/register
2025-08-13T03:56:30.021-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:56:30.021-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:56:30.021-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:56:30.021-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:56:30.021-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:56:30.022-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T03:56:30.022-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:56:30.022-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:56:30.022-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/register
2025-08-13T03:56:30.024-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/register using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T03:56:30.024-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/register
2025-08-13T03:56:30.024-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/register
2025-08-13T03:56:30.024-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/register", parameters={}
2025-08-13T03:56:30.024-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#registerUser(RegisterRequestDTO)
2025-08-13T03:56:30.066-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RegisterRequestDTO{username='KakaPereira', password='[PROTECTED]'}]
2025-08-13T03:56:30.066-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:56:30.071-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:56:30.073-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T03:56:30.248-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:56:30.268-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T03:56:30.270-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T03:56:30.282-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-08-13T03:56:30.283-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1425973234<open>)] for JPA transaction
2025-08-13T03:56:30.287-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@13d2ad81]
2025-08-13T03:56:30.422-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        users
        (enabled, password, username) 
    values
        (?, ?, ?)
2025-08-13T03:56:30.425-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BOOLEAN) <- [true]
2025-08-13T03:56:30.442-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [$2a$10$h/8Cj5c.fUPmygYpXM6HfuCfOoBZp1ICUxY7C0MHHL4Jr99je3tF2]
2025-08-13T03:56:30.443-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [KakaPereira]
2025-08-13T03:56:30.525-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T03:56:30.525-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1425973234<open>)]
2025-08-13T03:56:30.528-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-08-13T03:56:30.528-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T03:56:30.528-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (2:BIGINT) <- [1]
2025-08-13T03:56:30.543-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1425973234<open>)] after transaction
2025-08-13T03:56:30.555-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [text/plain, */*, application/json, application/*+json]
2025-08-13T03:56:30.555-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuário registrado com sucesso!"]
2025-08-13T03:56:30.559-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:56:30.560-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:56:38.383-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:56:38.384-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T03:56:38.384-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:56:38.384-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:56:38.384-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:56:38.384-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:56:38.384-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:56:38.385-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:56:38.398-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:56:38.399-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T03:56:38.399-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:56:38.400-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:56:38.400-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:56:38.400-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:56:38.401-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:56:38.401-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:56:38.401-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:56:38.401-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:56:38.401-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:56:38.402-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:56:38.402-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:56:38.402-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:56:38.402-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:56:38.403-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:56:38.403-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T03:56:38.403-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:56:38.404-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:56:38.404-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T03:56:38.404-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T03:56:38.404-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T03:56:38.404-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:56:38.405-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T03:56:38.405-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T03:56:38.407-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T03:56:38.408-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T03:56:38.409-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:56:38.410-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:56:38.411-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T03:56:38.413-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:56:38.413-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T03:56:38.594-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T03:56:38.596-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:56:38.597-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:56:38.598-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T03:56:38.600-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:56:38.601-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T03:56:38.612-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T03:56:38.613-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2ODE5OCwiZXhwIjoxNzU1MTU0NTk4fQ.T6_KqVfgiS6iRs2jY-PYAq6uDHRndpvWEEP5rTvKxUg)]
2025-08-13T03:56:38.613-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:56:38.614-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T03:59:59.617-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:59:59.624-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T03:59:59.624-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:59:59.625-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:59:59.625-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:59:59.625-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:59:59.626-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:59:59.634-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T03:59:59.642-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T03:59:59.642-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T03:59:59.642-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T03:59:59.648-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T03:59:59.649-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T03:59:59.649-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T03:59:59.650-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T03:59:59.653-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T03:59:59.653-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T03:59:59.653-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T03:59:59.654-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:59:59.655-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T03:59:59.656-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T03:59:59.656-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T03:59:59.656-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T03:59:59.657-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T03:59:59.657-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T03:59:59.658-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T03:59:59.658-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T03:59:59.659-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T03:59:59.659-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T03:59:59.659-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T03:59:59.660-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T03:59:59.662-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T03:59:59.666-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T03:59:59.673-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T03:59:59.676-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T03:59:59.680-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T03:59:59.709-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T03:59:59.717-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T03:59:59.903-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T03:59:59.903-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:00:00.148-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:00:00.148-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:00:00.148-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:00:00.156-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:00:00.159-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:00:00.159-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:00:00.174-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:00:00.174-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2ODQwMCwiZXhwIjoxNzU1MTU0ODAwfQ.wvBBmvxhqi6_5zTudDjOC4lDleJ6e2HwYIozRpWnqs0)]
2025-08-13T04:00:00.175-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:00:00.176-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:00:25.295-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:00:25.296-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:00:25.297-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:00:25.297-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:00:25.297-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:00:25.297-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:00:25.297-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:00:25.299-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:00:25.308-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:00:25.308-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:00:25.308-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:00:25.309-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:00:25.309-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:00:25.309-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:00:25.310-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:00:25.310-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:00:25.310-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:00:25.311-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:00:25.311-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:00:25.311-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:00:25.312-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:00:25.312-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:00:25.312-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:00:25.312-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:00:25.312-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:00:25.312-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:00:25.312-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:00:25.312-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:00:25.312-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T04:00:25.312-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:00:25.312-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:00:25.312-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:00:25.312-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:00:25.312-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:00:25.312-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:00:25.317-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:00:25.317-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:00:25.317-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:00:25.322-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:00:25.322-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:00:25.453-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:00:25.457-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:00:25.457-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:00:25.457-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:00:25.457-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:00:25.457-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:00:25.467-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:00:25.467-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2ODQyNSwiZXhwIjoxNzU1MTU0ODI1fQ.LirOaUjLAqkKqJyPoqpytrJkKMeUl2aNjpq9Cg26zYg)]
2025-08-13T04:00:25.469-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:00:25.469-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:05:07.237-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:05:07.262-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:05:07.264-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:05:07.264-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:05:07.264-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:05:07.267-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:05:07.268-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:05:07.274-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:05:07.278-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:05:07.278-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:05:07.278-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:05:07.278-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:05:07.278-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:05:07.278-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:05:07.278-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:05:07.278-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:05:07.278-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:05:07.287-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:05:07.287-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:05:07.290-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:05:07.290-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:05:07.291-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:05:07.307-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:05:07.307-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:05:07.307-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:05:07.307-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:05:07.307-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:05:07.307-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:05:07.307-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T04:05:07.307-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:05:07.307-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:05:07.307-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:05:07.317-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:05:07.338-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:05:07.338-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:05:07.434-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:05:07.547-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:05:07.578-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:05:08.187-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:05:08.187-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:05:08.329-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:05:08.329-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:05:08.329-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:05:08.329-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:05:08.329-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:05:08.337-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:05:08.347-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:05:08.358-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2ODcwOCwiZXhwIjoxNzU1MTU1MTA4fQ.hPoYO9bRaCGHDOyzR_hb6T4ML5OtkUmNpY-MIpF5vRY)]
2025-08-13T04:05:08.359-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:05:08.359-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:05:08.387-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:05:08.387-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:05:08.387-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:05:08.387-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:05:08.387-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:05:08.387-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:05:08.387-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:05:08.400-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:05:08.423-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:05:08.424-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:05:08.424-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:05:08.425-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:05:08.425-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:05:08.425-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:05:08.425-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:05:08.426-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:05:08.426-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:05:08.426-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:05:08.437-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:05:08.437-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:05:08.437-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2ODcwOCwiZXhwIjoxNzU1MTU1MTA4fQ.hPoYO9bRaCGHDOyzR_hb6T4ML5OtkUmNpY-MIpF5vRY
2025-08-13T04:05:08.491-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T04:05:08.493-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:05:08.493-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:05:08.493-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:05:08.533-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:05:08.537-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:05:08.537-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:05:08.537-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T04:05:08.542-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:05:08.544-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T04:05:08.544-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:05:08.544-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:05:08.544-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:05:08.544-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:05:08.544-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:05:08.544-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:05:08.544-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:05:08.544-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:05:08.547-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:05:08.550-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:05:08.552-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:05:08.552-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:05:08.552-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:05:08.554-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:05:08.604-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:05:08.605-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1096759911<open>)] for JPA transaction
2025-08-13T04:05:08.613-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@f123240]
2025-08-13T04:05:08.728-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:05:08.765-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:05:08.767-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1096759911<open>)]
2025-08-13T04:05:08.771-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1096759911<open>)] after transaction
2025-08-13T04:05:08.777-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:05:08.777-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@5381ce7b, com.zlogcompras.model.Produto@54f83a4d, com.zlogcompras.model.Produto@14c72ab8, com.zlogcompras.model.Produto@4bc10f4f, com.zlogcompras.model.Produto@16eee25a, com.zlogcompras.model.Produto@3d18898, com.zlogcompras.model.Produto@2e6ee0b0, com.zlogcompras.model.Produto@6d963945, com.zlogcompras.model.Produto@c8bea9f, com.zlogcompras.model.Produto@31136de, com.zlogcompras.model.Produto@5aa33d6c, com.zlogcompras.model.Produto@6a36b6c]]
2025-08-13T04:05:08.789-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:05:08.789-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:11:16.821-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:11:16.823-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:11:16.824-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:11:16.824-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:11:16.824-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:11:16.824-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:11:16.824-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:11:16.828-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:11:16.844-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:11:16.844-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:11:16.844-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:11:16.844-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:11:16.844-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:11:16.846-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:11:16.846-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:11:16.848-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:11:16.848-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:11:16.848-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:11:16.849-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:11:16.851-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:11:16.852-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2ODcwOCwiZXhwIjoxNzU1MTU1MTA4fQ.hPoYO9bRaCGHDOyzR_hb6T4ML5OtkUmNpY-MIpF5vRY
2025-08-13T04:11:16.865-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T04:11:16.867-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:11:16.872-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:11:16.896-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:11:16.903-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:11:17.514-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:11:17.515-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:11:17.532-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T04:11:17.533-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:11:17.536-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T04:11:17.536-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:11:17.539-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:11:17.539-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:11:17.539-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:11:17.543-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:11:17.543-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:11:17.550-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:11:17.550-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:11:17.551-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:11:17.551-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:11:17.552-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:11:17.552-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:11:17.553-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:11:17.554-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:11:17.566-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:11:17.566-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(2017248094<open>)] for JPA transaction
2025-08-13T04:11:17.598-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@54aff4fb]
2025-08-13T04:11:17.628-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:11:17.645-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:11:17.645-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2017248094<open>)]
2025-08-13T04:11:17.660-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(2017248094<open>)] after transaction
2025-08-13T04:11:17.667-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:11:17.668-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@6fc1132d, com.zlogcompras.model.Produto@51618e8c, com.zlogcompras.model.Produto@65d0ce90, com.zlogcompras.model.Produto@65949a3b, com.zlogcompras.model.Produto@22bb5df, com.zlogcompras.model.Produto@5fe35ef8, com.zlogcompras.model.Produto@3c24bfda, com.zlogcompras.model.Produto@7da0bf27, com.zlogcompras.model.Produto@22fa6801, com.zlogcompras.model.Produto@67abe638, com.zlogcompras.model.Produto@7e685f78, com.zlogcompras.model.Produto@6c98e15]]
2025-08-13T04:11:17.673-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:11:17.675-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:12:44.578-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:12:44.880-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:12:44.882-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:12:44.882-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:12:44.882-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:12:44.882-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:12:44.882-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:12:44.888-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:12:45.197-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:12:45.199-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:12:45.199-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:12:45.202-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:12:45.202-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:12:45.202-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:12:45.203-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:12:45.204-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:12:45.205-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:12:45.205-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:12:45.205-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:12:45.205-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:12:45.205-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:12:45.206-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:12:45.206-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:12:45.206-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:12:45.208-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:12:45.209-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:12:45.209-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:12:45.209-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:12:45.209-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T04:12:45.210-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:12:45.210-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:12:45.210-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:12:45.211-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:12:46.169-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:12:46.173-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:12:46.173-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:12:46.173-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:12:46.173-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:12:46.173-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:12:46.173-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:12:46.775-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:12:46.775-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:12:46.775-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:12:46.777-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:12:46.777-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:12:46.777-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:12:46.777-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:12:46.777-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:12:46.777-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:12:46.778-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:12:46.778-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:12:46.778-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:12:46.778-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:12:46.778-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:12:46.778-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:12:46.778-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:12:46.778-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:12:46.779-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:12:46.779-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:12:46.779-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T04:12:46.779-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:12:46.779-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:12:46.779-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:12:46.780-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:12:46.780-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:12:46.781-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:12:46.781-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:12:46.781-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:12:46.781-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:12:46.781-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:12:46.781-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:12:46.783-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:12:46.783-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:12:46.783-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:12:46.783-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:12:46.783-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:12:46.784-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:12:46.784-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:12:46.784-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:12:46.784-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:12:46.784-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T04:12:46.784-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:12:46.785-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:12:46.785-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:12:46.785-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:12:46.786-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:12:47.558-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:12:47.558-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:12:47.558-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:12:47.559-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:12:47.559-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:12:47.561-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:12:47.563-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:12:47.563-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:12:47.563-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:12:47.563-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:12:47.568-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:12:47.568-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:12:47.568-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:12:47.576-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:12:47.678-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:12:47.678-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:12:47.688-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:12:47.688-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:12:47.694-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:12:47.695-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:12:47.707-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:12:47.707-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2OTE2NywiZXhwIjoxNzU1MTU1NTY3fQ.6wsQdc2JYauhpbivM-5sKLOwXki_VyGbB1bfZAOyXOo)]
2025-08-13T04:12:47.707-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:12:47.711-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:12:47.739-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:12:47.739-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:12:47.740-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:12:47.740-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:12:47.740-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:12:47.741-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:12:47.741-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:12:47.743-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:12:47.774-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:12:47.774-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:12:47.775-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:12:47.775-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:12:47.775-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:12:47.775-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:12:47.775-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:12:47.794-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:12:47.795-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:12:47.795-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:12:47.795-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:12:47.795-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:12:47.795-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2OTE2NywiZXhwIjoxNzU1MTU1NTY3fQ.6wsQdc2JYauhpbivM-5sKLOwXki_VyGbB1bfZAOyXOo
2025-08-13T04:12:47.798-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T04:12:47.798-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:12:47.799-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:12:47.802-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:12:47.802-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:12:47.803-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:12:47.803-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:12:47.805-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:12:47.806-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:12:47.808-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T04:12:47.808-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:12:47.810-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T04:12:47.810-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:12:47.810-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:12:47.812-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:12:47.812-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:12:47.812-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:12:47.812-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:12:47.813-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:12:47.813-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:12:47.813-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:12:47.813-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:12:47.814-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:12:47.814-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:12:47.814-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:12:47.815-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:12:47.816-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:12:47.816-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1106564663<open>)] for JPA transaction
2025-08-13T04:12:47.817-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@34b004d9]
2025-08-13T04:12:47.819-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:12:47.820-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:12:47.820-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:12:47.868-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:12:47.868-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1106564663<open>)]
2025-08-13T04:12:47.870-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1106564663<open>)] after transaction
2025-08-13T04:12:47.870-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:12:47.870-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@3c297b56, com.zlogcompras.model.Produto@76eb17a4, com.zlogcompras.model.Produto@7fa42044, com.zlogcompras.model.Produto@15e27632, com.zlogcompras.model.Produto@62665c13, com.zlogcompras.model.Produto@4c9e21cc, com.zlogcompras.model.Produto@12668e1b, com.zlogcompras.model.Produto@14b33983, com.zlogcompras.model.Produto@44e569c2, com.zlogcompras.model.Produto@79c8b0d3, com.zlogcompras.model.Produto@5ff8efa7, com.zlogcompras.model.Produto@528aaafa]]
2025-08-13T04:12:47.873-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:12:47.874-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:12:48.009-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:12:48.009-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:12:48.009-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:12:48.009-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:12:48.017-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:12:48.017-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:12:48.017-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:12:48.017-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2OTE2OCwiZXhwIjoxNzU1MTU1NTY4fQ.xXB7DG7ZRJN7xoiwQAktXFpEYAnhfRwoMEpPaUM0nQo)]
2025-08-13T04:12:48.017-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:12:48.017-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:12:48.025-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:12:48.025-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:12:48.027-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:12:48.027-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:12:48.027-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:12:48.027-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:12:48.027-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:12:48.027-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2OTE2OCwiZXhwIjoxNzU1MTU1NTY4fQ.xXB7DG7ZRJN7xoiwQAktXFpEYAnhfRwoMEpPaUM0nQo)]
2025-08-13T04:12:48.027-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:12:48.037-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:14:30.825-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:14:30.826-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:14:30.826-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:14:30.826-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:14:30.826-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:14:30.826-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:14:30.826-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:14:30.827-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:14:30.829-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:14:30.829-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:14:30.829-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:14:30.829-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:14:30.829-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:14:30.830-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:14:30.830-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:14:30.830-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:14:30.832-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:14:30.832-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:14:30.832-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:14:30.832-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:14:30.832-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:14:30.833-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:14:30.833-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:14:30.833-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:14:30.833-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:14:30.833-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:14:30.833-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:14:30.834-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:14:30.834-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T04:14:30.834-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:14:30.834-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:14:30.834-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:14:30.835-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:14:30.836-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:14:30.836-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:14:30.836-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:14:30.838-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:14:30.839-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:14:30.841-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:14:30.842-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:14:30.921-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:14:30.928-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:14:30.928-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:14:30.928-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:14:30.928-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:14:30.928-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:14:30.928-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:14:30.928-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2OTI3MCwiZXhwIjoxNzU1MTU1NjcwfQ.3MFMYCppYFEVnoSC4HyJKD-d4n2zB9lzO4nBtkrhLU0)]
2025-08-13T04:14:30.928-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:14:30.928-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:14:30.948-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:14:30.948-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:14:30.948-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:14:30.949-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:14:30.949-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:14:30.949-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:14:30.950-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:14:30.950-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:14:30.953-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:14:30.953-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:14:30.954-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:14:30.954-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:14:30.954-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:14:30.954-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:14:30.955-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:14:30.956-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:14:30.956-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:14:30.956-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:14:30.956-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:14:30.957-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:14:30.958-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2OTI3MCwiZXhwIjoxNzU1MTU1NjcwfQ.3MFMYCppYFEVnoSC4HyJKD-d4n2zB9lzO4nBtkrhLU0
2025-08-13T04:14:30.961-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T04:14:30.962-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:14:30.962-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:14:30.965-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:14:30.966-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:14:30.968-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:14:30.968-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:14:30.969-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T04:14:30.970-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:14:30.971-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T04:14:30.972-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:14:30.972-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:14:30.972-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:14:30.972-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:14:30.972-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:14:30.973-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:14:30.973-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:14:30.973-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:14:30.974-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:14:30.974-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:14:30.974-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:14:30.975-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:14:30.975-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:14:30.975-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:14:30.976-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:14:30.976-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(883795781<open>)] for JPA transaction
2025-08-13T04:14:30.976-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@42958209]
2025-08-13T04:14:30.981-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:14:30.984-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:14:30.984-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(883795781<open>)]
2025-08-13T04:14:30.985-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(883795781<open>)] after transaction
2025-08-13T04:14:30.986-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:14:30.986-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@9a8bb7f, com.zlogcompras.model.Produto@6f32c399, com.zlogcompras.model.Produto@176a0d8, com.zlogcompras.model.Produto@b3ce132, com.zlogcompras.model.Produto@4783d069, com.zlogcompras.model.Produto@3e54ed0b, com.zlogcompras.model.Produto@a10fa79, com.zlogcompras.model.Produto@66c9bf78, com.zlogcompras.model.Produto@3f103b50, com.zlogcompras.model.Produto@26b5b50c, com.zlogcompras.model.Produto@2bfb5091, com.zlogcompras.model.Produto@6218e9]]
2025-08-13T04:14:30.987-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:14:30.987-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:16:45.262-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:16:45.265-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:16:45.266-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:16:45.266-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:16:45.266-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:16:45.267-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:16:45.267-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:16:45.270-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:16:45.276-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:16:45.276-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:16:45.276-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:16:45.276-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:16:45.278-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:16:45.278-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:16:45.278-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:16:45.281-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:16:45.281-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:16:45.282-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:16:45.282-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:16:45.283-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:16:45.283-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:16:45.283-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:16:45.283-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:16:45.283-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:16:45.284-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:16:45.284-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:16:45.284-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:16:45.284-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:16:45.285-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T04:16:45.285-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:16:45.285-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:16:45.286-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:16:45.286-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:16:45.296-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:16:45.298-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:16:45.300-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:16:45.318-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:16:45.323-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:16:45.335-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:16:45.336-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:16:45.504-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:16:45.505-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:16:45.506-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:16:45.508-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:16:45.511-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:16:45.511-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:16:45.518-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:16:45.518-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2OTQwNSwiZXhwIjoxNzU1MTU1ODA1fQ.3It29_TLDEybtDhIPCXcLfrFKSwr9Xkc6qrSh13hTNo)]
2025-08-13T04:16:45.519-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:16:45.520-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:16:45.734-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:16:45.735-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:16:45.735-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:16:45.736-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:16:45.736-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:16:45.736-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:16:45.737-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:16:45.739-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:16:46.051-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:16:46.052-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:16:46.052-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:16:46.052-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:16:46.053-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:16:46.053-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:16:46.053-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:16:46.054-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:16:46.054-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:16:46.054-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:16:46.055-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:16:46.055-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:16:46.055-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2OTQwNSwiZXhwIjoxNzU1MTU1ODA1fQ.3It29_TLDEybtDhIPCXcLfrFKSwr9Xkc6qrSh13hTNo
2025-08-13T04:16:46.057-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T04:16:46.058-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:16:46.058-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:16:46.059-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:16:46.061-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:16:46.064-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:16:46.065-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:16:46.068-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T04:16:46.068-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:16:46.069-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T04:16:46.070-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:16:46.070-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:16:46.070-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:16:46.070-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:16:46.070-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:16:46.070-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:16:46.072-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:16:46.072-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:16:46.072-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:16:46.072-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:16:46.072-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:16:46.072-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:16:46.073-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:16:46.073-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:16:46.074-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:16:46.074-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1654033952<open>)] for JPA transaction
2025-08-13T04:16:46.076-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@291370dc]
2025-08-13T04:16:46.079-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:16:46.083-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:16:46.083-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1654033952<open>)]
2025-08-13T04:16:46.086-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1654033952<open>)] after transaction
2025-08-13T04:16:46.087-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:16:46.087-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@7bbcf0cf, com.zlogcompras.model.Produto@175bd104, com.zlogcompras.model.Produto@6698a6ae, com.zlogcompras.model.Produto@1695a310, com.zlogcompras.model.Produto@ab31385, com.zlogcompras.model.Produto@43293026, com.zlogcompras.model.Produto@6027433b, com.zlogcompras.model.Produto@5b11f10c, com.zlogcompras.model.Produto@49aceed0, com.zlogcompras.model.Produto@430e5fc3, com.zlogcompras.model.Produto@19eae202, com.zlogcompras.model.Produto@4da7e9a2]]
2025-08-13T04:16:46.088-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:16:46.089-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:17:05.994-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:17:05.995-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:17:05.996-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:17:05.996-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:17:05.996-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:17:05.996-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:17:05.996-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:17:05.998-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:17:06.001-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:17:06.002-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:17:06.002-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:17:06.002-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:17:06.003-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:17:06.003-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:17:06.004-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:17:06.004-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:17:06.005-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:17:06.005-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:17:06.005-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:17:06.006-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:17:06.006-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:17:06.006-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:17:06.006-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:17:06.008-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:17:06.008-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:17:06.008-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:17:06.009-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:17:06.009-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:17:06.009-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T04:17:06.009-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:17:06.010-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:17:06.010-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:17:06.011-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:17:06.013-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:17:06.014-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:17:06.014-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:17:06.016-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:17:06.018-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:17:06.022-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:17:06.023-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:17:06.166-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:17:06.166-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:17:06.169-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:17:06.170-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:17:06.172-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:17:06.173-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:17:06.178-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:17:06.178-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2OTQyNiwiZXhwIjoxNzU1MTU1ODI2fQ.Q4YOGXuN93NSvmogTb3luC-DGL64oXBltT-_5PdvHlQ)]
2025-08-13T04:17:06.179-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:17:06.179-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:17:06.191-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:17:06.191-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:17:06.192-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:17:06.192-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:17:06.192-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:17:06.192-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:17:06.192-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:17:06.193-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:17:06.213-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:17:06.214-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:17:06.214-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:17:06.214-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:17:06.214-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:17:06.214-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:17:06.216-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:17:06.216-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:17:06.217-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:17:06.217-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:17:06.217-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:17:06.217-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:17:06.217-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2OTQyNiwiZXhwIjoxNzU1MTU1ODI2fQ.Q4YOGXuN93NSvmogTb3luC-DGL64oXBltT-_5PdvHlQ
2025-08-13T04:17:06.221-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T04:17:06.221-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:17:06.221-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:17:06.224-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:17:06.225-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:17:06.228-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:17:06.229-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:17:06.232-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T04:17:06.233-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:17:06.235-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T04:17:06.236-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:17:06.236-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:17:06.236-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:17:06.236-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:17:06.237-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:17:06.237-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:17:06.237-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:17:06.237-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:17:06.238-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:17:06.238-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:17:06.238-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:17:06.239-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:17:06.240-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:17:06.241-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:17:06.241-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:17:06.242-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1531138671<open>)] for JPA transaction
2025-08-13T04:17:06.243-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@53285439]
2025-08-13T04:17:06.245-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:17:06.251-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:17:06.252-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1531138671<open>)]
2025-08-13T04:17:06.253-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1531138671<open>)] after transaction
2025-08-13T04:17:06.254-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:17:06.255-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@4ee40318, com.zlogcompras.model.Produto@395b5bae, com.zlogcompras.model.Produto@2b46741d, com.zlogcompras.model.Produto@69964da5, com.zlogcompras.model.Produto@7847f4c, com.zlogcompras.model.Produto@6461c239, com.zlogcompras.model.Produto@7c1fa434, com.zlogcompras.model.Produto@273f3577, com.zlogcompras.model.Produto@3e540c3, com.zlogcompras.model.Produto@697f3a8c, com.zlogcompras.model.Produto@68c01d93, com.zlogcompras.model.Produto@360a0971]]
2025-08-13T04:17:06.256-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:17:06.258-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:24:25.645-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:24:25.645-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:24:25.645-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:24:25.645-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:24:25.645-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:24:25.654-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:24:25.654-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:24:25.664-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:24:25.684-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:24:25.684-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:24:25.684-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:24:25.684-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:24:25.684-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:24:25.684-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:24:25.684-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:24:25.684-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:24:25.684-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:24:25.694-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:24:25.694-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:24:25.694-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:24:25.694-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:24:25.694-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:24:25.694-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:24:25.694-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:24:25.694-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:24:25.694-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:24:25.694-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:24:25.694-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:24:25.694-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000023701a9f638@7eccbd4b
2025-08-13T04:24:25.694-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:24:25.694-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:24:25.704-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:24:25.704-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:24:25.714-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:24:25.714-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:24:25.714-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:24:25.740-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:24:25.744-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:24:25.774-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:24:25.774-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:24:25.969-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:24:25.969-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:24:25.969-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:24:25.974-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:24:25.994-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:24:25.994-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:24:25.994-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:24:26.004-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2OTg2NSwiZXhwIjoxNzU1MTU2MjY1fQ.uSBVY2qWEfJNLackJPg4k8QBGEJ2MAeEBcqGl8a73Hc)]
2025-08-13T04:24:26.004-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:24:26.004-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:24:26.014-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:24:26.014-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:24:26.014-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:24:26.014-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:24:26.014-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:24:26.014-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:24:26.014-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:24:26.014-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:24:26.028-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1311f549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b11719b, org.springframework.security.web.context.SecurityContextHolderFilter@72ce128c, org.springframework.security.web.header.HeaderWriterFilter@719d01e0, org.springframework.web.filter.CorsFilter@2f14d6a7, org.springframework.security.web.authentication.logout.LogoutFilter@3e789d6a, com.zlogcompras.config.JwtAuthenticationFilter@3ab26e1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0b2be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79adf7d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556f4718, org.springframework.security.web.session.SessionManagementFilter@5800b228, org.springframework.security.web.access.ExceptionTranslationFilter@2163a8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3c1a8e4e]] (1/1)
2025-08-13T04:24:26.028-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:24:26.028-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:24:26.028-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:24:26.028-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:24:26.028-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:24:26.028-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:24:26.030-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:24:26.032-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:24:26.032-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:24:26.033-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:24:26.033-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:24:26.033-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA2OTg2NSwiZXhwIjoxNzU1MTU2MjY1fQ.uSBVY2qWEfJNLackJPg4k8QBGEJ2MAeEBcqGl8a73Hc
2025-08-13T04:24:26.034-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T04:24:26.035-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:24:26.035-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:24:26.040-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:24:26.042-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:24:26.043-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:24:26.044-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:24:26.047-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T04:24:26.047-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:24:26.049-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T04:24:26.049-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:24:26.049-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:24:26.049-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:24:26.049-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:24:26.050-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:24:26.050-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:24:26.050-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:24:26.050-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:24:26.051-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:24:26.051-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:24:26.051-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:24:26.051-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:24:26.052-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:24:26.052-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:24:26.053-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:24:26.053-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1832701103<open>)] for JPA transaction
2025-08-13T04:24:26.054-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@56b7fca7]
2025-08-13T04:24:26.058-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:24:26.063-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:24:26.063-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1832701103<open>)]
2025-08-13T04:24:26.065-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1832701103<open>)] after transaction
2025-08-13T04:24:26.065-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:24:26.066-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@29dea31f, com.zlogcompras.model.Produto@15d6c2c8, com.zlogcompras.model.Produto@f3849fb, com.zlogcompras.model.Produto@362929c4, com.zlogcompras.model.Produto@6ab3b245, com.zlogcompras.model.Produto@4950fd59, com.zlogcompras.model.Produto@4ea1219, com.zlogcompras.model.Produto@7bf26c49, com.zlogcompras.model.Produto@c24c8e8, com.zlogcompras.model.Produto@42504600, com.zlogcompras.model.Produto@16fefe89, com.zlogcompras.model.Produto@7e06483b]]
2025-08-13T04:24:26.066-03:00 TRACE 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:24:26.067-03:00 DEBUG 18708 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:28:38.702-03:00  INFO 17280 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Starting ZlogComprasApplicationTests using Java 21.0.8 with PID 17280 (started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-13T04:28:38.703-03:00 DEBUG 17280 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-13T04:28:38.704-03:00  INFO 17280 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : The following 1 profile is active: "test"
2025-08-13T04:28:38.730-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0
2025-08-13T04:28:52.214-03:00 DEBUG 17280 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-13T04:28:52.634-03:00  INFO 17280 --- [zlog_compras] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-13T04:28:52.694-03:00  WARN 17280 --- [zlog_compras] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-13T04:28:53.884-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-08-13T04:28:53.884-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-08-13T04:28:53.884-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-08-13T04:28:53.884-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-08-13T04:28:53.884-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-08-13T04:28:53.884-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-08-13T04:28:53.884-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-08-13T04:28:53.884-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-08-13T04:28:53.884-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-08-13T04:28:53.884-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-08-13T04:28:53.884-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-08-13T04:28:53.884-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-08-13T04:28:53.884-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-08-13T04:28:53.884-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-08-13T04:28:53.894-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table estoque (
        quantidade integer not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        data_ultima_entrada timestamp(6),
        data_ultima_saida timestamp(6),
        id bigint generated by default as identity,
        produto_id bigint not null,
        version bigint,
        localizacao varchar(255),
        observacoes varchar(255),
        primary key (id)
    )
2025-08-13T04:28:53.908-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table fornecedores (
        id bigint generated by default as identity,
        version bigint,
        telefone varchar(15),
        cnpj varchar(18) not null unique,
        contato varchar(255),
        email varchar(255) unique,
        endereco varchar(255) not null,
        razao_social varchar(255) not null,
        primary key (id)
    )
2025-08-13T04:28:53.908-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_orcamento (
        preco_unitario_cotado numeric(12,2) not null,
        quantidade numeric(10,3) not null,
        id bigint generated by default as identity,
        orcamento_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida_produto varchar(20),
        codigo_produto varchar(50),
        nome_produto varchar(255) not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-08-13T04:28:53.908-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_pedido_compra (
        preco_unitario numeric(12,2) not null,
        quantidade integer not null,
        subtotal numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida varchar(50),
        codigo_produto varchar(100),
        observacoes varchar(500),
        nome_produto varchar(255),
        primary key (id)
    )
2025-08-13T04:28:53.908-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_solicitacao_compra (
        quantidade numeric(10,3) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        produto_id bigint not null,
        solicitacao_compra_id bigint not null,
        version bigint,
        descricao_adicional varchar(255),
        status enum ('AGUARDANDO_ORCAMENTO','APROVADO','CANCELADO','COMPRADO','EM_COMPRA','ORCAMENTO_RECEBIDO','PENDENTE','REJEITADO') not null,
        primary key (id)
    )
2025-08-13T04:28:53.916-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table movimentacoes_estoque (
        quantidade numeric(10,3) not null,
        data_movimentacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        codigo_material varchar(255) not null,
        referencia varchar(255),
        tipo_movimentacao varchar(255) not null,
        primary key (id)
    )
2025-08-13T04:28:53.917-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table notas_fiscais (
        data_emissao date not null,
        valor_total numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        version bigint,
        numero_nota_fiscal varchar(255) not null unique,
        primary key (id)
    )
2025-08-13T04:28:53.918-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table orcamentos (
        data_cotacao date not null,
        valor_total numeric(12,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        fornecedor_id bigint not null,
        id bigint generated by default as identity,
        solicitacao_compra_id bigint not null,
        version bigint,
        condicoes_pagamento varchar(255),
        numero_orcamento varchar(255) not null,
        observacoes varchar(255),
        prazo_entrega varchar(255),
        status enum ('ABERTO','AGUARDANDO_APROVACAO','APROVADO','CANCELADO','CONCLUIDO','COTADO','PEDIDO_GERADO','PENDENTE','RECUSADO','REJEITADO') not null,
        primary key (id)
    )
2025-08-13T04:28:53.919-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table pedidos_compra (
        data_pedido date,
        valor_total numeric(38,2),
        fornecedor_id bigint,
        id bigint generated by default as identity,
        orcamento_id bigint unique,
        observacoes varchar(255),
        status enum ('AGUARDANDO_APROVACAO','AGUARDANDO_ENVIO','APROVADO','CANCELADO','CONCLUIDO','ENVIADO','FINALIZADO','PENDENTE','RECEBIDO_PARCIALMENTE','RECEBIDO_TOTALMENTE','RECUSADO','REJEITADO_PELO_FORNECEDOR'),
        primary key (id)
    )
2025-08-13T04:28:53.921-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table produtos (
        estoque integer not null,
        preco_unitario numeric(10,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        categoria varchar(50) not null,
        codigo varchar(50) not null unique,
        codigo_produto varchar(50) not null unique,
        descricao varchar(255),
        nome varchar(255),
        unidade_medida varchar(255) not null,
        primary key (id)
    )
2025-08-13T04:28:53.924-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table roles (
        id bigint generated by default as identity,
        name varchar(255) not null unique,
        primary key (id)
    )
2025-08-13T04:28:53.926-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table solicitacoes_compra (
        data_solicitacao date not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        descricao varchar(255),
        solicitante varchar(255) not null,
        status enum ('ABERTA','AGUARDANDO_PARECER','CANCELADA','CONCLUIDA','EM_ANDAMENTO','ORCAMENTO_APROVADO','PEDIDO_GERADO','PENDENTE','REJEITADO','SUSPENSO') not null,
        primary key (id)
    )
2025-08-13T04:28:53.927-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table user_roles (
        role_id bigint not null,
        user_id bigint not null,
        primary key (role_id, user_id)
    )
2025-08-13T04:28:53.928-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table users (
        enabled boolean not null,
        id bigint generated by default as identity,
        password varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-08-13T04:28:53.929-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists estoque 
       add constraint FKmonotpf9w7pfuomk89nqxgeq1 
       foreign key (produto_id) 
       references produtos
2025-08-13T04:28:53.941-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKqlfm2lrgelma3n8kwabcvw9qh 
       foreign key (orcamento_id) 
       references orcamentos
2025-08-13T04:28:53.943-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKbc0qr2yj9stqdgavwvoohki0m 
       foreign key (produto_id) 
       references produtos
2025-08-13T04:28:53.951-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FK8p88mt761a5vacmlhrc68148b 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-08-13T04:28:53.954-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FKrv4ebgf6fdlg2v3b6dcbep8dn 
       foreign key (produto_id) 
       references produtos
2025-08-13T04:28:53.958-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FKntep08q88crstb33ej6npyul5 
       foreign key (produto_id) 
       references produtos
2025-08-13T04:28:53.961-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FK19xietjd5tfpljngdy8daw06x 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-08-13T04:28:53.964-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists notas_fiscais 
       add constraint FKe4e784ip50emjknglqkpkovg4 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-08-13T04:28:53.964-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FKntj4otux0et5xc0cm2lgq3uey 
       foreign key (fornecedor_id) 
       references fornecedores
2025-08-13T04:28:53.966-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FK5bj47al0ogq18q5ge2roy9e53 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-08-13T04:28:53.968-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FKan3yv2vk5m3gbphqf4f6yxj4j 
       foreign key (fornecedor_id) 
       references fornecedores
2025-08-13T04:28:53.971-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FK5f0lurv407qu48ns0sdhky4du 
       foreign key (orcamento_id) 
       references orcamentos
2025-08-13T04:28:53.972-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-08-13T04:28:53.977-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-08-13T04:28:53.984-03:00  INFO 17280 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T04:28:54.054-03:00 DEBUG 17280 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-13T04:28:54.088-03:00 DEBUG 17280 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-13T04:28:54.117-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.170-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.234-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.291-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-13T04:28:54.295-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-13T04:28:54.300-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.384-03:00 TRACE 17280 --- [zlog_compras] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@3b6f7ab3}
2025-08-13T04:28:54.424-03:00  INFO 17280 --- [zlog_compras] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-13T04:28:54.424-03:00  WARN 17280 --- [zlog_compras] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-13T04:28:54.424-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.424-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.434-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-13T04:28:54.435-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-13T04:28:54.435-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.451-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.464-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.467-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-13T04:28:54.468-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-13T04:28:54.468-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.476-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-13T04:28:54.477-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-13T04:28:54.477-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.484-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.485-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.487-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-13T04:28:54.488-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-13T04:28:54.488-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.944-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.950-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.954-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-13T04:28:54.954-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-13T04:28:54.954-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.969-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.987-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.989-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T04:28:54.990-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T04:28:54.990-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.993-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-13T04:28:54.993-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-13T04:28:54.993-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.994-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-13T04:28:54.994-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-13T04:28:54.994-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.995-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T04:28:54.996-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T04:28:54.996-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.997-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-13T04:28:54.998-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-13T04:28:54.998-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.999-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-13T04:28:54.999-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-13T04:28:54.999-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:54.999-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T04:28:54.999-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T04:28:55.004-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.004-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.004-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.015-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.015-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.031-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-13T04:28:55.031-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-13T04:28:55.031-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.034-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-13T04:28:55.034-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-13T04:28:55.034-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.034-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-13T04:28:55.034-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-13T04:28:55.034-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.044-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.047-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.054-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-13T04:28:55.054-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-13T04:28:55.054-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.054-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-13T04:28:55.054-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-13T04:28:55.054-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.054-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-13T04:28:55.054-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-13T04:28:55.054-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.064-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.064-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.069-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T04:28:55.069-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T04:28:55.069-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.104-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.104-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.110-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T04:28:55.110-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T04:28:55.110-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.110-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T04:28:55.114-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T04:28:55.114-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.114-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T04:28:55.114-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T04:28:55.114-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:55.454-03:00 TRACE 17280 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-08-13T04:28:55.464-03:00 TRACE 17280 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
2025-08-13T04:28:55.469-03:00 TRACE 17280 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
2025-08-13T04:28:55.474-03:00 TRACE 17280 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos]}: listarOrcamentos()
2025-08-13T04:28:55.477-03:00 TRACE 17280 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
2025-08-13T04:28:55.484-03:00 TRACE 17280 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
2025-08-13T04:28:55.484-03:00 TRACE 17280 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos]}: criar(Produto)
	{GET [/api/produtos/{id}]}: buscarPorId(Long)
	{GET [/api/produtos]}: listarTodos()
2025-08-13T04:28:55.484-03:00 TRACE 17280 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
2025-08-13T04:28:55.484-03:00 TRACE 17280 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-13T04:28:55.514-03:00 TRACE 17280 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-08-13T04:28:55.516-03:00 TRACE 17280 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-13T04:28:55.518-03:00 TRACE 17280 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-13T04:28:55.524-03:00 DEBUG 17280 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-08-13T04:28:55.672-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-13T04:28:55.724-03:00  INFO 17280 --- [zlog_compras] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6dafe488, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71ebb8e1, org.springframework.security.web.context.SecurityContextHolderFilter@304a2c8a, org.springframework.security.web.header.HeaderWriterFilter@1d900d84, org.springframework.web.filter.CorsFilter@95aa79c, org.springframework.security.web.authentication.logout.LogoutFilter@58b472b4, com.zlogcompras.config.JwtAuthenticationFilter@647dcc5e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@adf9ab9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@486d9e4e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37a26221, org.springframework.security.web.session.SessionManagementFilter@6e9065e2, org.springframework.security.web.access.ExceptionTranslationFilter@66979fed, org.springframework.security.web.access.intercept.AuthorizationFilter@30090808]
2025-08-13T04:28:55.994-03:00 DEBUG 17280 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-13T04:28:56.039-03:00 DEBUG 17280 --- [zlog_compras] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-13T04:28:56.175-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:56.178-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:56.180-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T04:28:56.180-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T04:28:56.180-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:56.191-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:56.194-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:56.196-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-13T04:28:56.196-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-13T04:28:56.196-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:56.287-03:00  INFO 17280 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Started ZlogComprasApplicationTests in 18.012 seconds (process running for 22.294)
2025-08-13T04:28:56.304-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:56.504-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T04:28:56.512-03:00 TRACE 17280 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T04:28:56.532-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-08-13T04:28:56.534-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(2069896789<open>)] for JPA transaction
2025-08-13T04:28:56.537-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@9ef7fd8]
2025-08-13T04:28:56.561-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-08-13T04:28:56.563-03:00 TRACE 17280 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T04:28:56.582-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:28:56.584-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2069896789<open>)]
2025-08-13T04:28:56.584-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(2069896789<open>)] after transaction
2025-08-13T04:28:56.584-03:00 DEBUG 17280 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:28:56.584-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T04:28:56.584-03:00 TRACE 17280 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T04:28:56.584-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-08-13T04:28:56.594-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(11632488<open>)] for JPA transaction
2025-08-13T04:28:56.594-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5c5b68c7]
2025-08-13T04:28:56.594-03:00 DEBUG 17280 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-08-13T04:28:56.594-03:00 TRACE 17280 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T04:28:56.594-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:28:56.594-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(11632488<open>)]
2025-08-13T04:28:56.594-03:00 DEBUG 17280 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(11632488<open>)] after transaction
2025-08-13T04:28:56.657-03:00 DEBUG 17280 --- [zlog_compras] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0, started on Wed Aug 13 04:28:38 BRT 2025
2025-08-13T04:28:56.668-03:00  INFO 17280 --- [zlog_compras] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T04:28:56.669-03:00 DEBUG 17280 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-08-13T04:28:56.672-03:00 DEBUG 17280 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-08-13T04:28:56.674-03:00 DEBUG 17280 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-08-13T04:28:56.675-03:00 DEBUG 17280 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-08-13T04:28:56.675-03:00 DEBUG 17280 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-08-13T04:28:56.677-03:00 DEBUG 17280 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-08-13T04:28:56.677-03:00 DEBUG 17280 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-08-13T04:28:56.677-03:00 DEBUG 17280 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-08-13T04:28:56.677-03:00 DEBUG 17280 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-08-13T04:28:56.677-03:00 DEBUG 17280 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-08-13T04:28:56.680-03:00 DEBUG 17280 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-08-13T04:28:56.680-03:00 DEBUG 17280 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-08-13T04:28:56.680-03:00 DEBUG 17280 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-08-13T04:28:56.682-03:00 DEBUG 17280 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-08-13T04:28:59.874-03:00  INFO 13768 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 13768 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-13T04:28:59.876-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-13T04:28:59.876-03:00  INFO 13768 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-13T04:28:59.931-03:00  INFO 13768 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-13T04:28:59.932-03:00  INFO 13768 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-13T04:29:01.241-03:00  INFO 13768 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-13T04:29:01.345-03:00  INFO 13768 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 96 ms. Found 13 JPA repository interfaces.
2025-08-13T04:29:02.433-03:00  INFO 13768 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-13T04:29:02.454-03:00  INFO 13768 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-13T04:29:02.455-03:00  INFO 13768 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-08-13T04:29:02.537-03:00  INFO 13768 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-13T04:29:02.538-03:00  INFO 13768 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2605 ms
2025-08-13T04:29:02.702-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-13T04:29:02.744-03:00  INFO 13768 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-13T04:29:02.841-03:00  INFO 13768 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-08-13T04:29:02.909-03:00  INFO 13768 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-13T04:29:03.319-03:00  INFO 13768 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-13T04:29:03.369-03:00  INFO 13768 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-13T04:29:03.578-03:00  INFO 13768 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@707e2875
2025-08-13T04:29:03.581-03:00  INFO 13768 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-13T04:29:03.703-03:00  WARN 13768 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-13T04:29:04.996-03:00  INFO 13768 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-13T04:29:04.999-03:00  INFO 13768 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T04:29:05.049-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-13T04:29:05.071-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-13T04:29:05.108-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:05.153-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:05.235-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:05.288-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-13T04:29:05.292-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-13T04:29:05.295-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:05.427-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-08-13T04:29:05.496-03:00 TRACE 13768 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@737dc225}
2025-08-13T04:29:05.533-03:00  INFO 13768 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-13T04:29:05.534-03:00  WARN 13768 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-13T04:29:05.540-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:05.544-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:05.547-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-13T04:29:05.547-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-13T04:29:05.547-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:05.566-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:05.579-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:05.583-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-13T04:29:05.583-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-13T04:29:05.584-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:05.591-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-13T04:29:05.592-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-13T04:29:05.593-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:05.604-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:05.605-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:05.608-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-13T04:29:05.608-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-13T04:29:05.609-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.050-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.053-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.057-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-13T04:29:06.058-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-13T04:29:06.059-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.079-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.103-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.105-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-13T04:29:06.106-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-13T04:29:06.107-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.110-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T04:29:06.111-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T04:29:06.112-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.116-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T04:29:06.117-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T04:29:06.118-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.119-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-13T04:29:06.120-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-13T04:29:06.120-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.121-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-13T04:29:06.122-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-13T04:29:06.122-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.124-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T04:29:06.126-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T04:29:06.126-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.128-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-13T04:29:06.128-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-13T04:29:06.129-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.137-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.138-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.147-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.150-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.153-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-13T04:29:06.153-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-13T04:29:06.153-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.155-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-13T04:29:06.156-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-13T04:29:06.156-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.158-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-13T04:29:06.159-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-13T04:29:06.159-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.175-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.185-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.187-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-13T04:29:06.187-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-13T04:29:06.188-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.192-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-13T04:29:06.194-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-13T04:29:06.194-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.195-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-13T04:29:06.196-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-13T04:29:06.196-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.204-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.205-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.207-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T04:29:06.208-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T04:29:06.208-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.252-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.253-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.255-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T04:29:06.256-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T04:29:06.256-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.258-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T04:29:06.259-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T04:29:06.259-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.261-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T04:29:06.261-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T04:29:06.262-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:06.624-03:00 TRACE 13768 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-08-13T04:29:06.637-03:00 TRACE 13768 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
2025-08-13T04:29:06.647-03:00 TRACE 13768 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
2025-08-13T04:29:06.654-03:00 TRACE 13768 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
2025-08-13T04:29:06.658-03:00 TRACE 13768 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
2025-08-13T04:29:06.663-03:00 TRACE 13768 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-08-13T04:29:06.666-03:00 TRACE 13768 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos]}: criar(Produto)
	{GET [/api/produtos/{id}]}: buscarPorId(Long)
	{GET [/api/produtos]}: listarTodos()
2025-08-13T04:29:06.673-03:00 TRACE 13768 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-08-13T04:29:06.679-03:00 TRACE 13768 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-13T04:29:06.700-03:00 TRACE 13768 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-08-13T04:29:06.704-03:00 TRACE 13768 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-13T04:29:06.706-03:00 TRACE 13768 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-13T04:29:06.709-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-08-13T04:29:06.821-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-13T04:29:06.880-03:00  INFO 13768 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5098a247, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6be2bec8, org.springframework.security.web.context.SecurityContextHolderFilter@3c41369c, org.springframework.security.web.header.HeaderWriterFilter@26840b47, org.springframework.web.filter.CorsFilter@480086c8, org.springframework.security.web.authentication.logout.LogoutFilter@7e501f53, com.zlogcompras.config.JwtAuthenticationFilter@32ed2d11, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41074b47, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@33915959, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67753266, org.springframework.security.web.session.SessionManagementFilter@40f2aa18, org.springframework.security.web.access.ExceptionTranslationFilter@6b7b2b1a, org.springframework.security.web.access.intercept.AuthorizationFilter@433f0fcb]
2025-08-13T04:29:07.017-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-13T04:29:07.058-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-13T04:29:07.228-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:07.232-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:07.237-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-13T04:29:07.238-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-13T04:29:07.239-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:07.248-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:07.252-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:07.255-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T04:29:07.255-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T04:29:07.256-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:07.373-03:00  INFO 13768 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-13T04:29:07.439-03:00  INFO 13768 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-13T04:29:07.453-03:00  INFO 13768 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 8.158 seconds (process running for 9.095)
2025-08-13T04:29:07.465-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:07.609-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T04:29:07.616-03:00 TRACE 13768 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T04:29:07.665-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:07.667-03:00 DEBUG 13768 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T04:29:07.668-03:00 TRACE 13768 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T04:29:07.798-03:00  INFO 13768 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-08-13T04:29:07.814-03:00  INFO 13768 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T04:29:07.819-03:00  INFO 13768 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-13T04:29:07.828-03:00  INFO 13768 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-13T04:29:29.501-03:00  INFO 14248 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 14248 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-13T04:29:29.502-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-13T04:29:29.504-03:00  INFO 14248 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-13T04:29:29.565-03:00  INFO 14248 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-13T04:29:29.565-03:00  INFO 14248 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-13T04:29:30.356-03:00  INFO 14248 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-13T04:29:30.434-03:00  INFO 14248 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72 ms. Found 13 JPA repository interfaces.
2025-08-13T04:29:31.014-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-13T04:29:31.031-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-13T04:29:31.032-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-08-13T04:29:31.084-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-13T04:29:31.084-03:00  INFO 14248 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1519 ms
2025-08-13T04:29:31.215-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-13T04:29:31.235-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-13T04:29:31.274-03:00  INFO 14248 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-08-13T04:29:31.304-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-13T04:29:31.526-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-13T04:29:31.554-03:00  INFO 14248 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-13T04:29:31.724-03:00  INFO 14248 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@21b232a8
2025-08-13T04:29:31.724-03:00  INFO 14248 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-13T04:29:31.765-03:00  WARN 14248 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-13T04:29:32.784-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-13T04:29:32.784-03:00  INFO 14248 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T04:29:32.815-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-13T04:29:32.826-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-13T04:29:32.848-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:32.874-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:32.928-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:32.958-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-13T04:29:32.960-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-13T04:29:32.964-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.048-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-08-13T04:29:33.084-03:00 TRACE 14248 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@2d0d5c24}
2025-08-13T04:29:33.105-03:00  INFO 14248 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-13T04:29:33.105-03:00  WARN 14248 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-13T04:29:33.114-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.118-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.119-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-13T04:29:33.121-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-13T04:29:33.121-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.132-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.142-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.144-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-13T04:29:33.145-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-13T04:29:33.145-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.151-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-13T04:29:33.152-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-13T04:29:33.152-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.164-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.165-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.167-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-13T04:29:33.167-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-13T04:29:33.168-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.458-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.464-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.464-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-13T04:29:33.464-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-13T04:29:33.464-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.484-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.497-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.499-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-13T04:29:33.500-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-13T04:29:33.500-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.501-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T04:29:33.502-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T04:29:33.502-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.504-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T04:29:33.504-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T04:29:33.504-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.507-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-13T04:29:33.507-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-13T04:29:33.507-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.508-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-13T04:29:33.509-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-13T04:29:33.509-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.510-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-13T04:29:33.511-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-13T04:29:33.511-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.513-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T04:29:33.513-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T04:29:33.514-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.518-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.518-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.525-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.526-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.528-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-13T04:29:33.529-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-13T04:29:33.529-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.530-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-13T04:29:33.530-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-13T04:29:33.530-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.534-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-13T04:29:33.535-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-13T04:29:33.535-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.540-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.551-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.552-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-13T04:29:33.552-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-13T04:29:33.553-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.556-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-13T04:29:33.557-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-13T04:29:33.557-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.559-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-13T04:29:33.560-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-13T04:29:33.560-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.566-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.568-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.568-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T04:29:33.569-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T04:29:33.569-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.604-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.604-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.604-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T04:29:33.604-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T04:29:33.604-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.604-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T04:29:33.604-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T04:29:33.604-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.604-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T04:29:33.604-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T04:29:33.604-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:33.815-03:00 TRACE 14248 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-08-13T04:29:33.824-03:00 TRACE 14248 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-08-13T04:29:33.831-03:00 TRACE 14248 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-08-13T04:29:33.835-03:00 TRACE 14248 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
2025-08-13T04:29:33.838-03:00 TRACE 14248 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
2025-08-13T04:29:33.838-03:00 TRACE 14248 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-08-13T04:29:33.843-03:00 TRACE 14248 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos]}: criar(Produto)
	{GET [/api/produtos/{id}]}: buscarPorId(Long)
	{GET [/api/produtos]}: listarTodos()
2025-08-13T04:29:33.845-03:00 TRACE 14248 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-08-13T04:29:33.850-03:00 TRACE 14248 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-13T04:29:33.855-03:00 TRACE 14248 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-08-13T04:29:33.862-03:00 TRACE 14248 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-13T04:29:33.863-03:00 TRACE 14248 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-13T04:29:33.867-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-08-13T04:29:33.934-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-13T04:29:33.974-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]
2025-08-13T04:29:34.049-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-13T04:29:34.084-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-13T04:29:34.214-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:34.219-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:34.219-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-13T04:29:34.219-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-13T04:29:34.219-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:34.226-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:34.227-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:34.227-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T04:29:34.231-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T04:29:34.231-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:34.298-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-13T04:29:34.324-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-13T04:29:34.337-03:00  INFO 14248 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 5.191 seconds (process running for 5.623)
2025-08-13T04:29:34.349-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:34.504-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T04:29:34.519-03:00 TRACE 14248 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T04:29:34.534-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:29:34.536-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T04:29:34.537-03:00 TRACE 14248 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T04:30:19.194-03:00  INFO 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-13T04:30:19.194-03:00  INFO 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-13T04:30:19.194-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-08-13T04:30:19.194-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-08-13T04:30:19.194-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-08-13T04:30:19.194-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@44dbbde4
2025-08-13T04:30:19.194-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6b2158e
2025-08-13T04:30:19.194-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-13T04:30:19.194-03:00  INFO 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-08-13T04:30:19.254-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:30:19.254-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:30:19.254-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:30:19.254-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:30:19.263-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:30:19.264-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:30:19.268-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:30:19.289-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:30:19.299-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:30:19.299-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:30:19.299-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:30:19.299-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:30:19.299-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:30:19.301-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:30:19.301-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:30:19.306-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:30:19.306-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:30:19.306-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:30:19.306-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:30:19.306-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:30:19.308-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:30:19.310-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:30:19.310-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:30:19.312-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:30:19.314-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:30:19.315-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:30:19.315-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:30:19.315-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:30:19.315-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e30caa17b0@45631bb2
2025-08-13T04:30:19.315-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:30:19.315-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:30:19.315-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:30:19.324-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:30:19.505-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:30:19.514-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:30:19.709-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:30:19.714-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:30:19.714-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:30:19.806-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:30:19.814-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:30:19.984-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:30:19.984-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:30:19.984-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:30:19.984-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:30:19.995-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:30:19.996-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:30:20.246-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:30:20.246-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MDIyMCwiZXhwIjoxNzU1MTU2NjIwfQ.bMmo6SZf7ois8OkaC3GnW5GOyyvppkXVvTTbYmnNljo)]
2025-08-13T04:30:20.254-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:30:20.254-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:30:20.275-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:30:20.276-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:30:20.276-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:30:20.276-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:30:20.277-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:30:20.277-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:30:20.277-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:30:20.278-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:30:20.282-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:30:20.283-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:30:20.284-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:30:20.285-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:30:20.285-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:30:20.285-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:30:20.285-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:30:20.287-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:30:20.287-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:30:20.287-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:30:20.287-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:30:20.287-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:30:20.287-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MDIyMCwiZXhwIjoxNzU1MTU2NjIwfQ.bMmo6SZf7ois8OkaC3GnW5GOyyvppkXVvTTbYmnNljo
2025-08-13T04:30:20.344-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T04:30:20.344-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:30:20.344-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:30:20.344-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:30:20.344-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:30:20.344-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:30:20.344-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:30:20.344-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T04:30:20.344-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:30:20.356-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T04:30:20.356-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:30:20.356-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:30:20.356-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:30:20.356-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:30:20.356-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:30:20.356-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:30:20.360-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:30:20.360-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:30:20.360-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:30:20.360-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:30:20.360-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:30:20.360-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:30:20.360-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:30:20.360-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:30:20.376-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:30:20.376-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1574806072<open>)] for JPA transaction
2025-08-13T04:30:20.392-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@34ea164c]
2025-08-13T04:30:20.408-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:30:20.424-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:30:20.434-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1574806072<open>)]
2025-08-13T04:30:20.438-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1574806072<open>)] after transaction
2025-08-13T04:30:20.440-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:30:20.440-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@6f7be22d, com.zlogcompras.model.Produto@12aa1be8, com.zlogcompras.model.Produto@64f7d8ce, com.zlogcompras.model.Produto@714d3789, com.zlogcompras.model.Produto@4197d907, com.zlogcompras.model.Produto@320ef86, com.zlogcompras.model.Produto@59cb7684, com.zlogcompras.model.Produto@4122e34b, com.zlogcompras.model.Produto@3e024589, com.zlogcompras.model.Produto@3a5ad110, com.zlogcompras.model.Produto@38a7ef89, com.zlogcompras.model.Produto@6e496b6d]]
2025-08-13T04:30:20.464-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:30:20.464-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:31:50.387-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:31:50.388-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:31:50.389-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:31:50.389-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:31:50.389-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:31:50.390-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:31:50.390-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:31:50.391-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:31:50.394-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:31:50.394-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:31:50.394-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:31:50.394-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:31:50.396-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:31:50.396-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:31:50.396-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:31:50.397-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:31:50.397-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:31:50.397-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:31:50.398-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:31:50.398-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:31:50.398-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:31:50.399-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:31:50.399-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:31:50.399-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:31:50.400-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:31:50.400-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:31:50.400-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:31:50.400-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:31:50.401-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e30caa17b0@45631bb2
2025-08-13T04:31:50.401-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:31:50.401-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:31:50.402-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:31:50.402-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:31:50.404-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:31:50.405-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:31:50.405-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:31:50.409-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:31:50.410-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:31:50.413-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:31:50.414-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:31:50.600-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:31:50.601-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:31:50.602-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:31:50.603-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:31:50.605-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:31:50.606-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:31:50.612-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:31:50.613-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MDMxMCwiZXhwIjoxNzU1MTU2NzEwfQ.pWLOBjoYnHmIIk6glUOfmwcwCrw3mPiUgTxfwQFRADE)]
2025-08-13T04:31:50.614-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:31:50.615-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:31:50.628-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:31:50.628-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:31:50.629-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:31:50.629-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:31:50.629-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:31:50.629-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:31:50.629-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:31:50.630-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:31:50.633-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:31:50.633-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:31:50.634-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:31:50.634-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:31:50.634-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:31:50.634-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:31:50.635-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:31:50.635-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:31:50.635-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:31:50.635-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:31:50.636-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:31:50.636-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:31:50.636-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MDMxMCwiZXhwIjoxNzU1MTU2NzEwfQ.pWLOBjoYnHmIIk6glUOfmwcwCrw3mPiUgTxfwQFRADE
2025-08-13T04:31:50.637-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T04:31:50.637-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:31:50.637-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:31:50.639-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:31:50.640-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:31:50.644-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:31:50.645-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:31:50.646-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T04:31:50.647-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:31:50.648-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T04:31:50.648-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:31:50.649-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:31:50.650-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:31:50.650-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:31:50.650-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:31:50.650-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:31:50.651-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:31:50.651-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:31:50.651-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:31:50.651-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:31:50.652-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:31:50.652-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:31:50.652-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:31:50.652-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:31:50.653-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:31:50.653-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(520896165<open>)] for JPA transaction
2025-08-13T04:31:50.653-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@446d6b57]
2025-08-13T04:31:50.656-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:31:50.661-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:31:50.662-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(520896165<open>)]
2025-08-13T04:31:50.664-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(520896165<open>)] after transaction
2025-08-13T04:31:50.666-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:31:50.666-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@3ba297f5, com.zlogcompras.model.Produto@3fdbeb35, com.zlogcompras.model.Produto@270c5bc2, com.zlogcompras.model.Produto@51d80511, com.zlogcompras.model.Produto@7e6a3de0, com.zlogcompras.model.Produto@1e88f35b, com.zlogcompras.model.Produto@5b9f6903, com.zlogcompras.model.Produto@4a7e0fec, com.zlogcompras.model.Produto@65d4ae7e, com.zlogcompras.model.Produto@3c9f8bb4, com.zlogcompras.model.Produto@1c683a55, com.zlogcompras.model.Produto@2653475b]]
2025-08-13T04:31:50.668-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:31:50.669-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:34:35.353-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:34:35.355-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:34:35.357-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:34:35.357-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:34:35.358-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:34:35.358-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:34:35.358-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:34:35.363-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:34:35.369-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:34:35.369-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:34:35.369-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:34:35.370-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:34:35.370-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:34:35.370-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:34:35.370-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:34:35.373-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:34:35.373-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:34:35.373-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:34:35.373-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:34:35.374-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:34:35.374-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:34:35.375-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:34:35.375-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:34:35.375-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:34:35.375-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:34:35.375-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:34:35.375-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:34:35.377-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:34:35.377-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e30caa17b0@45631bb2
2025-08-13T04:34:35.377-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:34:35.377-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:34:35.379-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:34:35.380-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:34:35.386-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:34:35.388-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:34:35.390-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:34:35.409-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:34:35.415-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:34:35.423-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:34:35.423-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:34:35.592-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:34:35.593-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:34:35.596-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:34:35.597-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:34:35.600-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:34:35.602-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:34:35.613-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:34:35.613-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MDQ3NSwiZXhwIjoxNzU1MTU2ODc1fQ.OtoFlouoazMXl4KgUdz5X47bob17r9kKK80UVgms-y4)]
2025-08-13T04:34:35.616-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:34:35.617-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:34:35.632-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:34:35.632-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:34:35.632-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:34:35.632-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:34:35.633-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:34:35.633-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:34:35.633-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:34:35.634-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:34:35.636-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:34:35.637-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:34:35.637-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:34:35.637-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:34:35.637-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:34:35.638-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:34:35.638-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:34:35.639-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:34:35.639-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:34:35.640-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:34:35.640-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:34:35.640-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:34:35.641-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MDQ3NSwiZXhwIjoxNzU1MTU2ODc1fQ.OtoFlouoazMXl4KgUdz5X47bob17r9kKK80UVgms-y4
2025-08-13T04:34:35.642-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T04:34:35.642-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:34:35.643-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:34:35.645-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:34:35.646-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:34:35.649-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:34:35.650-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:34:35.652-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T04:34:35.652-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:34:35.655-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T04:34:35.656-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:34:35.656-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:34:35.656-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:34:35.656-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:34:35.657-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:34:35.657-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:34:35.657-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:34:35.657-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:34:35.657-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:34:35.658-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:34:35.658-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:34:35.658-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:34:35.658-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:34:35.658-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:34:35.660-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:34:35.660-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1029911548<open>)] for JPA transaction
2025-08-13T04:34:35.661-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@76a10e24]
2025-08-13T04:34:35.663-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:34:35.669-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:34:35.670-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1029911548<open>)]
2025-08-13T04:34:35.671-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1029911548<open>)] after transaction
2025-08-13T04:34:35.672-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:34:35.672-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@889fd3d, com.zlogcompras.model.Produto@7a73eae1, com.zlogcompras.model.Produto@1abc79ce, com.zlogcompras.model.Produto@f64e16d, com.zlogcompras.model.Produto@48c385a9, com.zlogcompras.model.Produto@2d824ab2, com.zlogcompras.model.Produto@540934c5, com.zlogcompras.model.Produto@7ccec8a0, com.zlogcompras.model.Produto@2874e45d, com.zlogcompras.model.Produto@179cec3b, com.zlogcompras.model.Produto@aae5d11, com.zlogcompras.model.Produto@2f0f2c]]
2025-08-13T04:34:35.673-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:34:35.674-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:36:42.514-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:36:42.514-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:36:42.514-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:36:42.514-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:36:42.514-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:36:42.514-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:36:42.514-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:36:42.526-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:36:42.543-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:36:42.548-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:36:42.548-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:36:42.548-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:36:42.549-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:36:42.549-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:36:42.549-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:36:42.550-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:36:42.550-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:36:42.550-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:36:42.550-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:36:42.551-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:36:42.551-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:36:42.551-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:36:42.551-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:36:42.551-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:36:42.552-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:36:42.552-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:36:42.552-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:36:42.552-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:36:42.552-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e30caa17b0@45631bb2
2025-08-13T04:36:42.553-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:36:42.553-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:36:42.553-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:36:42.554-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:36:42.583-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:36:42.584-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:36:42.586-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:36:42.604-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:36:42.611-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:36:42.628-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:36:42.629-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:36:42.724-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:36:42.724-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:36:42.726-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:36:42.726-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:36:42.728-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:36:42.728-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:36:42.734-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:36:42.734-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MDYwMiwiZXhwIjoxNzU1MTU3MDAyfQ.616-AJ7_Gl8gVjnfzbaRH4Sf2ztUI60fe8aG8aby6s8)]
2025-08-13T04:36:42.736-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:36:42.737-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:38:32.840-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:38:32.843-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:38:32.843-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:38:32.843-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:38:32.844-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:38:32.845-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:38:32.845-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:38:32.846-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:38:32.857-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:38:32.858-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:38:32.858-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:38:32.858-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:38:32.858-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:38:32.858-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:38:32.858-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:38:32.858-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:38:32.858-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:38:32.858-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:38:32.858-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:38:32.858-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:38:32.858-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MDYwMiwiZXhwIjoxNzU1MTU3MDAyfQ.616-AJ7_Gl8gVjnfzbaRH4Sf2ztUI60fe8aG8aby6s8
2025-08-13T04:38:32.866-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T04:38:32.866-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:38:32.867-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:38:32.871-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:38:32.873-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:38:32.877-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:38:32.878-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:38:32.881-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T04:38:32.881-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:38:32.882-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T04:38:32.883-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:38:32.883-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:38:32.883-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:38:32.884-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:38:32.884-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:38:32.885-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:38:32.885-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:38:32.885-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:38:32.885-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:38:32.885-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:38:32.886-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:38:32.886-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:38:32.886-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:38:32.886-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:38:32.890-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:38:32.892-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1321954719<open>)] for JPA transaction
2025-08-13T04:38:32.897-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@40888e27]
2025-08-13T04:38:32.902-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:38:32.914-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:38:32.914-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1321954719<open>)]
2025-08-13T04:38:32.919-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1321954719<open>)] after transaction
2025-08-13T04:38:32.921-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:38:32.923-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@1f5ef65, com.zlogcompras.model.Produto@58a8ea5c, com.zlogcompras.model.Produto@aac769c, com.zlogcompras.model.Produto@6633511e, com.zlogcompras.model.Produto@4893047a, com.zlogcompras.model.Produto@5776ed3e, com.zlogcompras.model.Produto@3e8779da, com.zlogcompras.model.Produto@424064b5, com.zlogcompras.model.Produto@12a00853, com.zlogcompras.model.Produto@72df0824, com.zlogcompras.model.Produto@7793e60c, com.zlogcompras.model.Produto@36b74187]]
2025-08-13T04:38:32.929-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:38:32.930-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:39:13.322-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:39:13.322-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:39:13.322-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:39:13.322-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:39:13.322-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:39:13.322-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:39:13.322-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:39:13.324-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:39:13.327-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:39:13.327-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:39:13.327-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:39:13.328-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:39:13.328-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:39:13.328-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:39:13.328-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:39:13.331-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:39:13.331-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:39:13.332-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:39:13.332-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:39:13.332-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:39:13.332-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:39:13.332-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:39:13.334-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:39:13.336-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:39:13.336-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:39:13.336-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:39:13.336-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:39:13.336-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:39:13.339-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e30caa17b0@45631bb2
2025-08-13T04:39:13.339-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:39:13.339-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:39:13.341-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:39:13.342-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:39:13.346-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:39:13.346-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:39:13.347-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:39:13.362-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:39:13.364-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:39:13.367-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:39:13.367-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:39:13.464-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:39:13.464-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:39:13.464-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:39:13.464-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:39:13.464-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:39:13.471-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:39:13.473-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:39:13.474-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MDc1MywiZXhwIjoxNzU1MTU3MTUzfQ.eCROUndlHvcXEOMsxdeMG2yeXQ3BKTAqxH0VmqZKIdY)]
2025-08-13T04:39:13.474-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:39:13.475-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:39:13.490-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:39:13.491-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:39:13.491-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:39:13.491-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:39:13.491-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:39:13.491-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:39:13.491-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:39:13.492-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:39:13.499-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:39:13.499-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:39:13.499-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:39:13.500-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:39:13.500-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:39:13.500-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:39:13.500-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:39:13.501-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:39:13.501-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:39:13.501-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:39:13.502-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:39:13.502-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:39:13.502-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MDc1MywiZXhwIjoxNzU1MTU3MTUzfQ.eCROUndlHvcXEOMsxdeMG2yeXQ3BKTAqxH0VmqZKIdY
2025-08-13T04:39:13.505-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T04:39:13.506-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:39:13.506-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:39:13.509-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:39:13.510-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:39:13.512-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:39:13.512-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:39:13.514-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T04:39:13.514-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:39:13.517-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T04:39:13.517-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:39:13.517-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:39:13.517-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:39:13.517-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:39:13.518-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:39:13.518-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:39:13.518-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:39:13.518-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:39:13.518-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:39:13.519-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:39:13.519-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:39:13.519-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:39:13.519-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:39:13.520-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:39:13.521-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:39:13.521-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(2133767898<open>)] for JPA transaction
2025-08-13T04:39:13.522-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4a2c3529]
2025-08-13T04:39:13.524-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:39:13.528-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:39:13.528-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2133767898<open>)]
2025-08-13T04:39:13.529-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(2133767898<open>)] after transaction
2025-08-13T04:39:13.530-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:39:13.531-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@5bfe292d, com.zlogcompras.model.Produto@7b282861, com.zlogcompras.model.Produto@1469ec19, com.zlogcompras.model.Produto@284d3723, com.zlogcompras.model.Produto@2d0c446, com.zlogcompras.model.Produto@38018f5d, com.zlogcompras.model.Produto@6353b560, com.zlogcompras.model.Produto@22e67206, com.zlogcompras.model.Produto@269060e8, com.zlogcompras.model.Produto@125f7800, com.zlogcompras.model.Produto@6cd9279e, com.zlogcompras.model.Produto@7d3e0e41]]
2025-08-13T04:39:13.532-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:39:13.533-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:39:38.623-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:39:38.625-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:39:38.627-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:39:38.628-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:39:38.628-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:39:38.628-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:39:38.628-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:39:38.633-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:39:38.639-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:39:38.643-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:39:38.646-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:39:38.649-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:39:38.653-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:39:38.655-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:39:38.658-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:39:38.661-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:39:38.662-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:39:38.662-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:39:38.662-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:39:38.664-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:39:38.664-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MDc1MywiZXhwIjoxNzU1MTU3MTUzfQ.eCROUndlHvcXEOMsxdeMG2yeXQ3BKTAqxH0VmqZKIdY
2025-08-13T04:39:38.667-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T04:39:38.669-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:39:38.671-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:39:38.679-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:39:38.683-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:39:38.684-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:39:38.686-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:39:38.686-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T04:39:38.686-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:39:38.686-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T04:39:38.686-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:39:38.686-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:39:38.686-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:39:38.686-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:39:38.686-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:39:38.686-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:39:38.686-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:39:38.686-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:39:38.686-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:39:38.686-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:39:38.686-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:39:38.686-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:39:38.694-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:39:38.694-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:39:38.694-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:39:38.694-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(2042092989<open>)] for JPA transaction
2025-08-13T04:39:38.694-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@28500302]
2025-08-13T04:39:38.700-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:39:38.709-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:39:38.709-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2042092989<open>)]
2025-08-13T04:39:38.713-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(2042092989<open>)] after transaction
2025-08-13T04:39:38.713-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:39:38.714-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@264eebae, com.zlogcompras.model.Produto@6183f339, com.zlogcompras.model.Produto@2379ed15, com.zlogcompras.model.Produto@fc41534, com.zlogcompras.model.Produto@5e868cf9, com.zlogcompras.model.Produto@2062b62b, com.zlogcompras.model.Produto@4c9fe677, com.zlogcompras.model.Produto@635d2765, com.zlogcompras.model.Produto@9568eb3, com.zlogcompras.model.Produto@3cb0a25c, com.zlogcompras.model.Produto@f2f47e3, com.zlogcompras.model.Produto@5c33f6c]]
2025-08-13T04:39:38.714-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:39:38.717-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:41:46.981-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:41:46.982-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:41:46.982-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:41:46.982-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:41:46.983-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:41:46.983-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:41:46.983-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:41:46.987-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:41:47.004-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:41:47.004-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:41:47.004-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:41:47.004-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:41:47.004-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:41:47.004-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:41:47.004-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:41:47.004-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:41:47.004-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:41:47.011-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:41:47.011-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:41:47.011-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:41:47.011-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:41:47.012-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:41:47.013-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:41:47.013-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:41:47.013-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:41:47.013-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:41:47.013-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:41:47.014-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:41:47.014-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e30caa17b0@45631bb2
2025-08-13T04:41:47.015-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:41:47.015-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:41:47.015-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:41:47.015-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:41:47.015-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:41:47.015-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:41:47.015-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:41:47.028-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:41:47.028-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:41:47.034-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:41:47.034-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:41:47.243-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:41:47.245-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:41:47.247-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:41:47.247-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:41:47.250-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:41:47.250-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:41:47.254-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:41:47.254-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MDkwNywiZXhwIjoxNzU1MTU3MzA3fQ.4UgxNq4oTFbQs0Mr95yjCQzITMWnwB7RGCD9Vj2oNsA)]
2025-08-13T04:41:47.254-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:41:47.254-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:41:47.273-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:41:47.275-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:41:47.275-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:41:47.275-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:41:47.275-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:41:47.275-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:41:47.276-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:41:47.276-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:41:47.278-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:41:47.281-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:41:47.281-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:41:47.281-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:41:47.281-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:41:47.282-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:41:47.282-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:41:47.282-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:41:47.283-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:41:47.283-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:41:47.283-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:41:47.283-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:41:47.283-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MDkwNywiZXhwIjoxNzU1MTU3MzA3fQ.4UgxNq4oTFbQs0Mr95yjCQzITMWnwB7RGCD9Vj2oNsA
2025-08-13T04:41:47.284-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T04:41:47.285-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:41:47.285-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:41:47.286-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:41:47.288-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:41:47.289-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:41:47.290-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:41:47.291-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T04:41:47.292-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:41:47.294-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T04:41:47.294-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:41:47.295-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:41:47.295-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:41:47.295-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:41:47.295-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:41:47.295-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:41:47.296-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:41:47.296-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:41:47.296-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:41:47.296-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:41:47.296-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:41:47.297-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:41:47.297-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:41:47.297-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:41:47.298-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:41:47.298-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1818568600<open>)] for JPA transaction
2025-08-13T04:41:47.299-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2853de0f]
2025-08-13T04:41:47.310-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:41:47.314-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:41:47.315-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1818568600<open>)]
2025-08-13T04:41:47.316-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1818568600<open>)] after transaction
2025-08-13T04:41:47.317-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:41:47.317-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@1caa5fcd, com.zlogcompras.model.Produto@29a99351, com.zlogcompras.model.Produto@58481925, com.zlogcompras.model.Produto@c296368, com.zlogcompras.model.Produto@42330117, com.zlogcompras.model.Produto@2765211b, com.zlogcompras.model.Produto@3f7c95e3, com.zlogcompras.model.Produto@78099347, com.zlogcompras.model.Produto@22e80ee8, com.zlogcompras.model.Produto@2c8b9e57, com.zlogcompras.model.Produto@7703c5a8, com.zlogcompras.model.Produto@4324f3a4]]
2025-08-13T04:41:47.318-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:41:47.318-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:44:26.294-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:44:26.306-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:44:26.306-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:44:26.306-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:44:26.306-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:44:26.306-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:44:26.306-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:44:26.306-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:44:26.317-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:44:26.317-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:44:26.317-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:44:26.317-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:44:26.317-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:44:26.317-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:44:26.317-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:44:26.317-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:44:26.317-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:44:26.317-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:44:26.317-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:44:26.320-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:44:26.320-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:44:26.320-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:44:26.320-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:44:26.321-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:44:26.322-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:44:26.322-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:44:26.322-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:44:26.322-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:44:26.322-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e30caa17b0@45631bb2
2025-08-13T04:44:26.322-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:44:26.322-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:44:26.322-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:44:26.324-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:44:26.324-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:44:26.324-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:44:26.324-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:44:26.336-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:44:26.336-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:44:26.344-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:44:26.344-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:44:26.490-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:44:26.490-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:44:26.494-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:44:26.494-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:44:26.501-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:44:26.503-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:44:26.514-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:44:26.514-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MTA2NiwiZXhwIjoxNzU1MTU3NDY2fQ.Fyu_0hdtrEg6THefLnzCAnFSC7fldDKnDRgfv3jGSPY)]
2025-08-13T04:44:26.514-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:44:26.514-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:44:26.559-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:44:26.566-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:44:26.566-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:44:26.572-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:44:26.572-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:44:26.574-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:44:26.574-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:44:26.574-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:44:26.609-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:44:26.609-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:44:26.609-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:44:26.609-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:44:26.609-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:44:26.609-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:44:26.609-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:44:26.609-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:44:26.609-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:44:26.609-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:44:26.609-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:44:26.614-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:44:26.614-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MTA2NiwiZXhwIjoxNzU1MTU3NDY2fQ.Fyu_0hdtrEg6THefLnzCAnFSC7fldDKnDRgfv3jGSPY
2025-08-13T04:44:26.624-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T04:44:26.624-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:44:26.624-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:44:26.624-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:44:26.634-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:44:26.638-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:44:26.638-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:44:26.638-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T04:44:26.638-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:44:26.638-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T04:44:26.638-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:44:26.638-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:44:26.638-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:44:26.638-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:44:26.638-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:44:26.644-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:44:26.644-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:44:26.644-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:44:26.644-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:44:26.644-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:44:26.644-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:44:26.644-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:44:26.644-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:44:26.644-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:44:26.649-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:44:26.649-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1704047672<open>)] for JPA transaction
2025-08-13T04:44:26.652-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5143f3bb]
2025-08-13T04:44:26.652-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:44:26.657-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:44:26.657-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1704047672<open>)]
2025-08-13T04:44:26.660-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1704047672<open>)] after transaction
2025-08-13T04:44:26.660-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:44:26.660-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@107f9732, com.zlogcompras.model.Produto@37793aed, com.zlogcompras.model.Produto@22dd8101, com.zlogcompras.model.Produto@2f38eb12, com.zlogcompras.model.Produto@43923fc0, com.zlogcompras.model.Produto@3dc2db0d, com.zlogcompras.model.Produto@7359803d, com.zlogcompras.model.Produto@1b51953f, com.zlogcompras.model.Produto@496fc5aa, com.zlogcompras.model.Produto@625e6539, com.zlogcompras.model.Produto@5db95927, com.zlogcompras.model.Produto@4ad6d7c2]]
2025-08-13T04:44:26.660-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:44:26.664-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:47:35.605-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:47:35.663-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:47:35.667-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:47:35.671-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:47:35.675-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:47:35.679-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:47:35.680-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:47:35.694-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:47:35.751-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:47:35.753-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:47:35.755-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:47:35.757-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:47:35.759-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:47:35.761-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:47:35.765-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:47:35.780-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:47:35.780-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:47:35.806-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:47:35.813-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:47:35.867-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:47:35.868-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:47:35.869-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:47:35.870-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:47:35.870-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:47:35.877-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:47:35.877-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:47:35.878-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:47:35.879-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:47:35.882-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e30caa17b0@45631bb2
2025-08-13T04:47:35.883-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:47:35.884-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:47:35.892-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:47:35.897-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:47:35.979-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:47:36.037-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:47:36.077-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:47:36.506-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:47:36.920-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:47:37.727-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:47:37.758-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:47:37.758-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:47:37.759-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:47:37.759-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:47:37.761-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:47:37.763-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:47:37.788-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:47:37.793-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:47:37.799-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:47:37.800-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:47:37.801-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:47:37.802-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:47:37.813-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:47:37.815-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:47:37.816-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:47:37.844-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:47:37.844-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:47:37.845-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:47:37.855-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:47:37.856-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e30caa17b0@45631bb2
2025-08-13T04:47:37.859-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:47:37.859-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:47:37.859-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:47:37.861-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:47:37.901-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:47:37.902-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:47:37.904-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:47:37.939-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:47:37.984-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:47:38.191-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:47:38.283-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:47:38.228-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:47:38.343-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:47:39.201-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:47:39.251-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:47:39.308-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:47:39.320-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:47:39.328-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:47:39.328-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:47:39.329-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:47:39.329-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:47:39.332-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:47:39.333-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:47:39.341-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:47:39.343-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:47:39.550-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:47:39.551-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MTI1OSwiZXhwIjoxNzU1MTU3NjU5fQ.1JPAy394jN2976de-SttDL9ngVgRsDIKyOPR5GmnW9g)]
2025-08-13T04:47:39.553-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:47:39.554-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:47:39.555-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:47:39.555-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:47:39.555-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:47:39.558-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:47:39.559-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:47:39.557-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:47:39.562-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MTI1OSwiZXhwIjoxNzU1MTU3NjU5fQ.1JPAy394jN2976de-SttDL9ngVgRsDIKyOPR5GmnW9g)]
2025-08-13T04:47:39.571-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:47:39.572-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:47:39.572-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:47:39.577-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:47:39.578-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:47:39.584-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:47:39.591-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:47:39.620-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:47:39.622-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:47:39.627-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:47:39.636-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:47:39.638-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:47:39.646-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:47:39.646-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:47:39.651-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:47:39.650-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:47:39.652-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:47:39.668-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:47:39.668-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:47:39.670-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:47:39.671-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:47:39.672-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:47:39.674-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:47:39.678-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:47:39.679-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e30caa17b0@45631bb2
2025-08-13T04:47:39.686-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:47:39.690-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:47:39.691-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:47:39.694-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:47:39.713-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4210d760, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a7616e, org.springframework.security.web.context.SecurityContextHolderFilter@77da1fef, org.springframework.security.web.header.HeaderWriterFilter@7b8e61d4, org.springframework.web.filter.CorsFilter@7dcdafd9, org.springframework.security.web.authentication.logout.LogoutFilter@279f609c, com.zlogcompras.config.JwtAuthenticationFilter@63a2a20a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4601b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60badff3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5018acaf, org.springframework.security.web.session.SessionManagementFilter@7497bf89, org.springframework.security.web.access.ExceptionTranslationFilter@2944b207, org.springframework.security.web.access.intercept.AuthorizationFilter@7c317e22]] (1/1)
2025-08-13T04:47:39.717-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:47:39.727-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:47:39.746-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:47:39.751-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:47:39.755-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:47:39.759-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:47:39.762-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:47:39.762-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:47:39.763-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:47:39.763-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:47:39.767-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:47:39.774-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:47:39.779-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:47:39.782-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:47:39.782-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:47:39.786-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:47:39.792-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:47:39.794-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:47:39.808-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:47:39.824-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MTI1OSwiZXhwIjoxNzU1MTU3NjU5fQ.1JPAy394jN2976de-SttDL9ngVgRsDIKyOPR5GmnW9g
2025-08-13T04:47:39.843-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T04:47:39.851-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:47:39.856-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:47:39.870-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:47:39.899-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:47:40.040-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:47:40.049-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:47:40.053-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T04:47:40.059-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:47:40.068-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T04:47:40.071-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:47:40.080-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:47:40.085-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:47:40.091-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:47:40.095-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:47:40.108-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:47:40.110-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:47:40.118-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:47:40.124-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:47:40.129-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:47:40.132-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:47:40.141-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:47:40.143-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:47:40.145-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:47:40.172-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:47:40.176-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(570800177<open>)] for JPA transaction
2025-08-13T04:47:40.202-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2ac5e42a]
2025-08-13T04:47:40.251-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:47:40.252-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:47:40.269-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:47:40.298-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:47:40.316-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:47:40.317-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:47:40.328-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:47:40.330-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(570800177<open>)]
2025-08-13T04:47:40.332-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:47:40.344-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(570800177<open>)] after transaction
2025-08-13T04:47:40.347-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:47:40.354-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@ed39a9c, com.zlogcompras.model.Produto@3e9bcd9d, com.zlogcompras.model.Produto@11ef87ff, com.zlogcompras.model.Produto@639fb0bf, com.zlogcompras.model.Produto@710ac12a, com.zlogcompras.model.Produto@111d0db3, com.zlogcompras.model.Produto@7ca0a010, com.zlogcompras.model.Produto@6224fd73, com.zlogcompras.model.Produto@4580738c, com.zlogcompras.model.Produto@3c099e1a, com.zlogcompras.model.Produto@45d009ab, com.zlogcompras.model.Produto@dabb07]]
2025-08-13T04:47:40.368-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:47:40.372-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:47:40.392-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MTI2MCwiZXhwIjoxNzU1MTU3NjYwfQ.-CfcHPhu_g7odEiN8cfz7QRdb5N2Qzt1jez06jXH0DE)]
2025-08-13T04:47:40.380-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:47:40.394-03:00 TRACE 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:47:40.417-03:00 DEBUG 14248 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:47:48.209-03:00  INFO 14248 --- [zlog_compras] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 123 class path changes (1 addition, 122 deletions, 0 modifications)
2025-08-13T04:47:49.241-03:00  INFO 14248 --- [zlog_compras] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T04:47:49.454-03:00  INFO 14248 --- [zlog_compras] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-13T04:47:49.704-03:00  INFO 14248 --- [zlog_compras] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-13T04:48:12.941-03:00  INFO 14248 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 14248 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-13T04:48:12.942-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-13T04:48:12.942-03:00  INFO 14248 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-13T04:48:13.465-03:00  INFO 14248 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-13T04:48:13.551-03:00  INFO 14248 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78 ms. Found 13 JPA repository interfaces.
2025-08-13T04:48:13.849-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-13T04:48:13.849-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-13T04:48:13.849-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-08-13T04:48:13.882-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-08-13T04:48:13.884-03:00  INFO 14248 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 939 ms
2025-08-13T04:48:14.020-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-13T04:48:14.021-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-13T04:48:14.044-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-13T04:48:14.132-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-13T04:48:14.139-03:00  INFO 14248 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-08-13T04:48:14.299-03:00  INFO 14248 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@66161fec
2025-08-13T04:48:14.302-03:00  INFO 14248 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-08-13T04:48:14.321-03:00  WARN 14248 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-13T04:48:16.548-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-13T04:48:16.551-03:00  INFO 14248 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T04:48:16.645-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-13T04:48:16.653-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-13T04:48:16.669-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:48:16.678-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:48:16.755-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:48:16.774-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-13T04:48:16.780-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-13T04:48:16.783-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:48:16.859-03:00 DEBUG 14248 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-08-13T04:48:16.894-03:00  WARN 14248 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authController': Resolution of declared constructors on bean Class [com.zlogcompras.controller.AuthController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@529ba643] failed
2025-08-13T04:48:16.899-03:00  INFO 14248 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T04:48:16.901-03:00  INFO 14248 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-08-13T04:48:16.940-03:00  INFO 14248 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-08-13T04:48:16.944-03:00  INFO 14248 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-08-13T04:48:17.010-03:00  INFO 14248 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-13T04:48:17.018-03:00 ERROR 14248 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authController': Resolution of declared constructors on bean Class [com.zlogcompras.controller.AuthController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@529ba643] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1296) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: java.lang.NoClassDefFoundError: AuthService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.8.jar:6.1.8]
	... 21 common frames omitted
Caused by: java.lang.ClassNotFoundException: AuthService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 25 common frames omitted

2025-08-13T04:58:37.538-03:00  INFO 19168 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 19168 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-08-13T04:58:37.540-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-08-13T04:58:37.541-03:00  INFO 19168 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-08-13T04:58:37.595-03:00  INFO 19168 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-13T04:58:37.596-03:00  INFO 19168 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-13T04:58:38.568-03:00  INFO 19168 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-13T04:58:38.678-03:00  INFO 19168 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 13 JPA repository interfaces.
2025-08-13T04:58:39.432-03:00  INFO 19168 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-13T04:58:39.448-03:00  INFO 19168 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-13T04:58:39.448-03:00  INFO 19168 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-08-13T04:58:39.505-03:00  INFO 19168 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-13T04:58:39.506-03:00  INFO 19168 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1909 ms
2025-08-13T04:58:39.654-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-08-13T04:58:39.673-03:00  INFO 19168 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-13T04:58:39.745-03:00  INFO 19168 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-08-13T04:58:39.785-03:00  INFO 19168 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-13T04:58:40.098-03:00  INFO 19168 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-13T04:58:40.132-03:00  INFO 19168 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-13T04:58:40.508-03:00  INFO 19168 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b668c8e
2025-08-13T04:58:40.508-03:00  INFO 19168 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-13T04:58:40.618-03:00  WARN 19168 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-13T04:58:41.880-03:00  INFO 19168 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-13T04:58:41.880-03:00  INFO 19168 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-13T04:58:41.915-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-08-13T04:58:41.932-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-08-13T04:58:41.961-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:41.992-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.052-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.097-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-08-13T04:58:42.101-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-08-13T04:58:42.105-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.202-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-08-13T04:58:42.248-03:00 TRACE 19168 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@75df153c}
2025-08-13T04:58:42.273-03:00  INFO 19168 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-13T04:58:42.278-03:00  WARN 19168 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-13T04:58:42.278-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.286-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.288-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-08-13T04:58:42.289-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-08-13T04:58:42.290-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.298-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.309-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.311-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-08-13T04:58:42.312-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-08-13T04:58:42.312-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.317-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-08-13T04:58:42.319-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-08-13T04:58:42.319-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.325-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.326-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.328-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-08-13T04:58:42.328-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-08-13T04:58:42.328-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.688-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.698-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.698-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-08-13T04:58:42.698-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-08-13T04:58:42.698-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.708-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.722-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.729-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T04:58:42.729-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-08-13T04:58:42.730-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.731-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T04:58:42.731-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-08-13T04:58:42.731-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.734-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-08-13T04:58:42.734-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-08-13T04:58:42.735-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.736-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-08-13T04:58:42.737-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-08-13T04:58:42.737-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.738-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T04:58:42.738-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-08-13T04:58:42.739-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.741-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-08-13T04:58:42.742-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-08-13T04:58:42.742-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.742-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-08-13T04:58:42.742-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-08-13T04:58:42.742-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.748-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.748-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.755-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.756-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.757-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-08-13T04:58:42.758-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-08-13T04:58:42.758-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.759-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-08-13T04:58:42.760-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-08-13T04:58:42.760-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.760-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-08-13T04:58:42.762-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-08-13T04:58:42.762-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.771-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.775-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.778-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-08-13T04:58:42.778-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-08-13T04:58:42.778-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.779-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-08-13T04:58:42.779-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-08-13T04:58:42.780-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.780-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-08-13T04:58:42.781-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-08-13T04:58:42.781-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.789-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.790-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.791-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T04:58:42.792-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-08-13T04:58:42.792-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.818-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.818-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.824-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T04:58:42.824-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-08-13T04:58:42.824-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.825-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T04:58:42.826-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-08-13T04:58:42.826-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:42.827-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T04:58:42.827-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-08-13T04:58:42.827-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:43.096-03:00 TRACE 19168 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-08-13T04:58:43.104-03:00 TRACE 19168 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
2025-08-13T04:58:43.114-03:00 TRACE 19168 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
2025-08-13T04:58:43.117-03:00 TRACE 19168 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
2025-08-13T04:58:43.120-03:00 TRACE 19168 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
2025-08-13T04:58:43.120-03:00 TRACE 19168 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-08-13T04:58:43.120-03:00 TRACE 19168 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{GET [/api/produtos/{id}]}: buscarPorId(Long)
	{GET [/api/produtos]}: listarTodos()
	{POST [/api/produtos]}: criar(Produto)
2025-08-13T04:58:43.127-03:00 TRACE 19168 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
2025-08-13T04:58:43.131-03:00 TRACE 19168 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-08-13T04:58:43.139-03:00 TRACE 19168 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-08-13T04:58:43.139-03:00 TRACE 19168 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-08-13T04:58:43.148-03:00 TRACE 19168 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-08-13T04:58:43.151-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 50 mappings in 'requestMappingHandlerMapping'
2025-08-13T04:58:43.228-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-13T04:58:43.267-03:00  INFO 19168 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@489adcf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aa7581, org.springframework.security.web.context.SecurityContextHolderFilter@2435e330, org.springframework.security.web.header.HeaderWriterFilter@19eec1cf, org.springframework.web.filter.CorsFilter@c629659, org.springframework.security.web.authentication.logout.LogoutFilter@4bb9f809, com.zlogcompras.config.JwtAuthenticationFilter@3e5794ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef651a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c569b82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fb2c91c, org.springframework.security.web.session.SessionManagementFilter@3f2f06b3, org.springframework.security.web.access.ExceptionTranslationFilter@3784ab26, org.springframework.security.web.access.intercept.AuthorizationFilter@4777170f]
2025-08-13T04:58:43.351-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-13T04:58:43.385-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-13T04:58:43.568-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:43.580-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:43.580-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T04:58:43.580-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-08-13T04:58:43.580-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:43.591-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:43.599-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:43.601-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-08-13T04:58:43.602-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-08-13T04:58:43.602-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:43.678-03:00  INFO 19168 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-08-13T04:58:43.718-03:00  INFO 19168 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-13T04:58:43.726-03:00  INFO 19168 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 6.703 seconds (process running for 7.222)
2025-08-13T04:58:43.737-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:43.858-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T04:58:43.870-03:00 TRACE 19168 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-08-13T04:58:43.919-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:58:43.919-03:00 DEBUG 19168 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-08-13T04:58:43.919-03:00 TRACE 19168 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-08-13T04:59:16.924-03:00  INFO 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-13T04:59:16.926-03:00  INFO 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-13T04:59:16.926-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-08-13T04:59:16.926-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-08-13T04:59:16.926-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-08-13T04:59:16.928-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5d51e23c
2025-08-13T04:59:16.928-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2994c618
2025-08-13T04:59:16.928-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-13T04:59:16.928-03:00  INFO 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-08-13T04:59:16.965-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@489adcf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aa7581, org.springframework.security.web.context.SecurityContextHolderFilter@2435e330, org.springframework.security.web.header.HeaderWriterFilter@19eec1cf, org.springframework.web.filter.CorsFilter@c629659, org.springframework.security.web.authentication.logout.LogoutFilter@4bb9f809, com.zlogcompras.config.JwtAuthenticationFilter@3e5794ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef651a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c569b82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fb2c91c, org.springframework.security.web.session.SessionManagementFilter@3f2f06b3, org.springframework.security.web.access.ExceptionTranslationFilter@3784ab26, org.springframework.security.web.access.intercept.AuthorizationFilter@4777170f]] (1/1)
2025-08-13T04:59:16.965-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:59:16.965-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:59:16.968-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:59:16.968-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:59:16.968-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:59:16.968-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:59:16.998-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:59:16.998-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@489adcf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aa7581, org.springframework.security.web.context.SecurityContextHolderFilter@2435e330, org.springframework.security.web.header.HeaderWriterFilter@19eec1cf, org.springframework.web.filter.CorsFilter@c629659, org.springframework.security.web.authentication.logout.LogoutFilter@4bb9f809, com.zlogcompras.config.JwtAuthenticationFilter@3e5794ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef651a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c569b82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fb2c91c, org.springframework.security.web.session.SessionManagementFilter@3f2f06b3, org.springframework.security.web.access.ExceptionTranslationFilter@3784ab26, org.springframework.security.web.access.intercept.AuthorizationFilter@4777170f]] (1/1)
2025-08-13T04:59:16.998-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:59:16.998-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:59:16.998-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:59:16.998-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:59:16.998-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:59:17.008-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:59:17.014-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:59:17.014-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:59:17.014-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:59:17.014-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:59:17.014-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:59:17.014-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:59:17.014-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:59:17.014-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:59:17.018-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:59:17.018-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:59:17.018-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:59:17.018-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:59:17.021-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:59:17.021-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001c781aa1e88@541044c9
2025-08-13T04:59:17.021-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:59:17.021-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:59:17.030-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:59:17.030-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:59:17.164-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-13T04:59:17.178-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:59:17.328-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:59:18.218-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:59:18.228-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T04:59:19.208-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:59:19.208-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T04:59:19.349-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:59:19.349-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:59:19.349-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:59:19.349-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T04:59:19.349-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:59:19.358-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T04:59:21.952-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@489adcf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aa7581, org.springframework.security.web.context.SecurityContextHolderFilter@2435e330, org.springframework.security.web.header.HeaderWriterFilter@19eec1cf, org.springframework.web.filter.CorsFilter@c629659, org.springframework.security.web.authentication.logout.LogoutFilter@4bb9f809, com.zlogcompras.config.JwtAuthenticationFilter@3e5794ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef651a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c569b82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fb2c91c, org.springframework.security.web.session.SessionManagementFilter@3f2f06b3, org.springframework.security.web.access.ExceptionTranslationFilter@3784ab26, org.springframework.security.web.access.intercept.AuthorizationFilter@4777170f]] (1/1)
2025-08-13T04:59:21.954-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:59:21.954-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:59:21.954-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:59:21.954-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:59:21.954-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:59:21.954-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:59:21.954-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:59:21.957-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:59:21.957-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:59:21.957-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:59:21.957-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:59:21.958-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:59:21.958-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:59:21.958-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:59:21.958-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:59:21.958-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:59:21.958-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:59:21.958-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:59:21.958-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:59:21.958-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001c781aa1e88@541044c9
2025-08-13T04:59:21.958-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:59:21.958-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:59:21.958-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:59:21.958-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:59:21.958-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=Marcio45672, password=123456)]
2025-08-13T04:59:21.958-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:59:21.958-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:59:21.958-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:59:21.958-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T04:59:21.958-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:59:21.958-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T04:59:22.100-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:59:22.100-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:59:22.106-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:59:22.108-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T04:59:22.108-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:59:22.108-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T04:59:24.661-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:59:24.661-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:59:24.663-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA3MTk2NCwiZXhwIjoxNzU1MTU4MzY0fQ.ZDwrZg1khlhpmQ7g3ECBZhSrZ3PC-zm0IRTBkouf3rM)]
2025-08-13T04:59:24.663-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA3MTk2NCwiZXhwIjoxNzU1MTU4MzY0fQ.ZDwrZg1khlhpmQ7g3ECBZhSrZ3PC-zm0IRTBkouf3rM)]
2025-08-13T04:59:24.669-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:59:24.669-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:59:24.677-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:59:24.677-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:59:24.713-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@489adcf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aa7581, org.springframework.security.web.context.SecurityContextHolderFilter@2435e330, org.springframework.security.web.header.HeaderWriterFilter@19eec1cf, org.springframework.web.filter.CorsFilter@c629659, org.springframework.security.web.authentication.logout.LogoutFilter@4bb9f809, com.zlogcompras.config.JwtAuthenticationFilter@3e5794ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef651a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c569b82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fb2c91c, org.springframework.security.web.session.SessionManagementFilter@3f2f06b3, org.springframework.security.web.access.ExceptionTranslationFilter@3784ab26, org.springframework.security.web.access.intercept.AuthorizationFilter@4777170f]] (1/1)
2025-08-13T04:59:24.714-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:59:24.715-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:59:24.715-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:59:24.715-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:59:24.715-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:59:24.715-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:59:24.717-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:59:24.722-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@489adcf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aa7581, org.springframework.security.web.context.SecurityContextHolderFilter@2435e330, org.springframework.security.web.header.HeaderWriterFilter@19eec1cf, org.springframework.web.filter.CorsFilter@c629659, org.springframework.security.web.authentication.logout.LogoutFilter@4bb9f809, com.zlogcompras.config.JwtAuthenticationFilter@3e5794ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef651a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c569b82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fb2c91c, org.springframework.security.web.session.SessionManagementFilter@3f2f06b3, org.springframework.security.web.access.ExceptionTranslationFilter@3784ab26, org.springframework.security.web.access.intercept.AuthorizationFilter@4777170f]] (1/1)
2025-08-13T04:59:24.722-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:59:24.722-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:59:24.722-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:59:24.722-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:59:24.722-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:59:24.724-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:59:24.724-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:59:24.724-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:59:24.724-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:59:24.725-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:59:24.725-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:59:24.725-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA3MTk2NCwiZXhwIjoxNzU1MTU4MzY0fQ.ZDwrZg1khlhpmQ7g3ECBZhSrZ3PC-zm0IRTBkouf3rM
2025-08-13T04:59:24.809-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-13T04:59:24.810-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:59:24.810-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:59:24.812-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:59:24.813-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T04:59:24.815-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:59:24.816-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T04:59:24.817-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-13T04:59:24.817-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:59:24.820-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-13T04:59:24.820-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:59:24.820-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:59:24.820-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:59:24.820-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:59:24.821-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:59:24.821-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:59:24.821-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:59:24.822-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:59:24.822-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:59:24.823-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:59:24.823-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:59:24.823-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:59:24.824-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:59:24.825-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:59:24.869-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:59:24.870-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1949646840<open>)] for JPA transaction
2025-08-13T04:59:24.903-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5e897b08]
2025-08-13T04:59:24.921-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:59:24.989-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:59:24.990-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1949646840<open>)]
2025-08-13T04:59:24.994-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1949646840<open>)] after transaction
2025-08-13T04:59:24.996-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:59:24.996-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@179464a2, com.zlogcompras.model.Produto@69051bcd, com.zlogcompras.model.Produto@1af3d428, com.zlogcompras.model.Produto@2bb390a6, com.zlogcompras.model.Produto@1f365006, com.zlogcompras.model.Produto@5e2cfb5e, com.zlogcompras.model.Produto@5afa2627, com.zlogcompras.model.Produto@6d7bbb7e, com.zlogcompras.model.Produto@406070b7, com.zlogcompras.model.Produto@792f85ee, com.zlogcompras.model.Produto@726f4ff2, com.zlogcompras.model.Produto@42ffaa8a]]
2025-08-13T04:59:25.007-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:59:25.008-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:59:46.539-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@489adcf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aa7581, org.springframework.security.web.context.SecurityContextHolderFilter@2435e330, org.springframework.security.web.header.HeaderWriterFilter@19eec1cf, org.springframework.web.filter.CorsFilter@c629659, org.springframework.security.web.authentication.logout.LogoutFilter@4bb9f809, com.zlogcompras.config.JwtAuthenticationFilter@3e5794ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef651a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c569b82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fb2c91c, org.springframework.security.web.session.SessionManagementFilter@3f2f06b3, org.springframework.security.web.access.ExceptionTranslationFilter@3784ab26, org.springframework.security.web.access.intercept.AuthorizationFilter@4777170f]] (1/1)
2025-08-13T04:59:46.540-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T04:59:46.540-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:59:46.540-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:59:46.540-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:59:46.540-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:59:46.540-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:59:46.541-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:59:46.543-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@489adcf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aa7581, org.springframework.security.web.context.SecurityContextHolderFilter@2435e330, org.springframework.security.web.header.HeaderWriterFilter@19eec1cf, org.springframework.web.filter.CorsFilter@c629659, org.springframework.security.web.authentication.logout.LogoutFilter@4bb9f809, com.zlogcompras.config.JwtAuthenticationFilter@3e5794ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef651a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c569b82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fb2c91c, org.springframework.security.web.session.SessionManagementFilter@3f2f06b3, org.springframework.security.web.access.ExceptionTranslationFilter@3784ab26, org.springframework.security.web.access.intercept.AuthorizationFilter@4777170f]] (1/1)
2025-08-13T04:59:46.543-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T04:59:46.543-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:59:46.543-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:59:46.543-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:59:46.543-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:59:46.543-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:59:46.548-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:59:46.548-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:59:46.548-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:59:46.548-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:59:46.548-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T04:59:46.548-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW80NTY3MiIsImlhdCI6MTc1NTA3MTk2NCwiZXhwIjoxNzU1MTU4MzY0fQ.ZDwrZg1khlhpmQ7g3ECBZhSrZ3PC-zm0IRTBkouf3rM
2025-08-13T04:59:46.550-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Username extraído do token: Marcio45672
2025-08-13T04:59:46.550-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:59:46.551-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:59:46.554-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:59:46.556-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Marcio45672]
2025-08-13T04:59:46.559-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:59:46.559-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-08-13T04:59:46.561-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: Marcio45672
2025-08-13T04:59:46.561-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T04:59:46.562-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Usuário Marcio45672 autenticado com sucesso no SecurityContext.
2025-08-13T04:59:46.563-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:59:46.563-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:59:46.563-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:59:46.563-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:59:46.564-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=Marcio45672, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T04:59:46.565-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T04:59:46.565-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:59:46.565-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:59:46.565-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T04:59:46.566-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T04:59:46.566-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T04:59:46.566-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T04:59:46.566-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T04:59:46.567-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T04:59:46.567-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T04:59:46.567-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(919173551<open>)] for JPA transaction
2025-08-13T04:59:46.568-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@63ffc045]
2025-08-13T04:59:46.570-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T04:59:46.575-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T04:59:46.576-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(919173551<open>)]
2025-08-13T04:59:46.577-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(919173551<open>)] after transaction
2025-08-13T04:59:46.578-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:59:46.579-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@4c876089, com.zlogcompras.model.Produto@431204b3, com.zlogcompras.model.Produto@7455abb5, com.zlogcompras.model.Produto@2be9a8ba, com.zlogcompras.model.Produto@5c1d1666, com.zlogcompras.model.Produto@ff9a6ca, com.zlogcompras.model.Produto@56a8ac83, com.zlogcompras.model.Produto@30e27294, com.zlogcompras.model.Produto@478ecc8, com.zlogcompras.model.Produto@4675c57b, com.zlogcompras.model.Produto@55aab582, com.zlogcompras.model.Produto@767f1b71]]
2025-08-13T04:59:46.580-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:59:46.582-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T04:59:59.834-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@489adcf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aa7581, org.springframework.security.web.context.SecurityContextHolderFilter@2435e330, org.springframework.security.web.header.HeaderWriterFilter@19eec1cf, org.springframework.web.filter.CorsFilter@c629659, org.springframework.security.web.authentication.logout.LogoutFilter@4bb9f809, com.zlogcompras.config.JwtAuthenticationFilter@3e5794ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef651a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c569b82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fb2c91c, org.springframework.security.web.session.SessionManagementFilter@3f2f06b3, org.springframework.security.web.access.ExceptionTranslationFilter@3784ab26, org.springframework.security.web.access.intercept.AuthorizationFilter@4777170f]] (1/1)
2025-08-13T04:59:59.835-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T04:59:59.835-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:59:59.836-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:59:59.836-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:59:59.837-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:59:59.837-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:59:59.838-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:59:59.842-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@489adcf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aa7581, org.springframework.security.web.context.SecurityContextHolderFilter@2435e330, org.springframework.security.web.header.HeaderWriterFilter@19eec1cf, org.springframework.web.filter.CorsFilter@c629659, org.springframework.security.web.authentication.logout.LogoutFilter@4bb9f809, com.zlogcompras.config.JwtAuthenticationFilter@3e5794ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef651a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c569b82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fb2c91c, org.springframework.security.web.session.SessionManagementFilter@3f2f06b3, org.springframework.security.web.access.ExceptionTranslationFilter@3784ab26, org.springframework.security.web.access.intercept.AuthorizationFilter@4777170f]] (1/1)
2025-08-13T04:59:59.843-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T04:59:59.843-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T04:59:59.843-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T04:59:59.843-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T04:59:59.844-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T04:59:59.844-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T04:59:59.846-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T04:59:59.847-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T04:59:59.848-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T04:59:59.848-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:59:59.848-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T04:59:59.848-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T04:59:59.848-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T04:59:59.848-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T04:59:59.848-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T04:59:59.848-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T04:59:59.848-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T04:59:59.848-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T04:59:59.848-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T04:59:59.848-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001c781aa1e88@541044c9
2025-08-13T04:59:59.848-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T04:59:59.848-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T04:59:59.848-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T04:59:59.848-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T04:59:59.848-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=KakaPereira, password=12345678)]
2025-08-13T04:59:59.848-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T04:59:59.848-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:59:59.848-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:59:59.848-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:59:59.858-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:59:59.858-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:59:59.985-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T04:59:59.985-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T04:59:59.988-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T04:59:59.988-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T04:59:59.990-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T04:59:59.990-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T04:59:59.990-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T04:59:59.990-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MTk5OSwiZXhwIjoxNzU1MTU4Mzk5fQ.Kl3WnBvWQNDBnNQwPkOBErj1RbnVNF8TWlkUJCgrFto)]
2025-08-13T04:59:59.990-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T04:59:59.990-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T05:00:00.014-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@489adcf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aa7581, org.springframework.security.web.context.SecurityContextHolderFilter@2435e330, org.springframework.security.web.header.HeaderWriterFilter@19eec1cf, org.springframework.web.filter.CorsFilter@c629659, org.springframework.security.web.authentication.logout.LogoutFilter@4bb9f809, com.zlogcompras.config.JwtAuthenticationFilter@3e5794ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef651a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c569b82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fb2c91c, org.springframework.security.web.session.SessionManagementFilter@3f2f06b3, org.springframework.security.web.access.ExceptionTranslationFilter@3784ab26, org.springframework.security.web.access.intercept.AuthorizationFilter@4777170f]] (1/1)
2025-08-13T05:00:00.014-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T05:00:00.016-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T05:00:00.016-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T05:00:00.018-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T05:00:00.018-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T05:00:00.020-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T05:00:00.020-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T05:00:00.026-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@489adcf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aa7581, org.springframework.security.web.context.SecurityContextHolderFilter@2435e330, org.springframework.security.web.header.HeaderWriterFilter@19eec1cf, org.springframework.web.filter.CorsFilter@c629659, org.springframework.security.web.authentication.logout.LogoutFilter@4bb9f809, com.zlogcompras.config.JwtAuthenticationFilter@3e5794ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef651a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c569b82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fb2c91c, org.springframework.security.web.session.SessionManagementFilter@3f2f06b3, org.springframework.security.web.access.ExceptionTranslationFilter@3784ab26, org.springframework.security.web.access.intercept.AuthorizationFilter@4777170f]] (1/1)
2025-08-13T05:00:00.027-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T05:00:00.027-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T05:00:00.027-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T05:00:00.027-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T05:00:00.028-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T05:00:00.030-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T05:00:00.031-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T05:00:00.031-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T05:00:00.031-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T05:00:00.031-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T05:00:00.031-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T05:00:00.031-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJLYWthUGVyZWlyYSIsImlhdCI6MTc1NTA3MTk5OSwiZXhwIjoxNzU1MTU4Mzk5fQ.Kl3WnBvWQNDBnNQwPkOBErj1RbnVNF8TWlkUJCgrFto
2025-08-13T05:00:00.032-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Username extraído do token: KakaPereira
2025-08-13T05:00:00.032-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T05:00:00.034-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T05:00:00.037-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T05:00:00.039-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [KakaPereira]
2025-08-13T05:00:00.043-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T05:00:00.044-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-08-13T05:00:00.047-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: KakaPereira
2025-08-13T05:00:00.047-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T05:00:00.050-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Usuário KakaPereira autenticado com sucesso no SecurityContext.
2025-08-13T05:00:00.050-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T05:00:00.050-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T05:00:00.050-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T05:00:00.051-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T05:00:00.051-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=KakaPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T05:00:00.051-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T05:00:00.051-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T05:00:00.051-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T05:00:00.051-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T05:00:00.052-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T05:00:00.052-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T05:00:00.052-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T05:00:00.052-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T05:00:00.053-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T05:00:00.053-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T05:00:00.054-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1038707668<open>)] for JPA transaction
2025-08-13T05:00:00.055-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7dda1abc]
2025-08-13T05:00:00.056-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T05:00:00.060-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T05:00:00.061-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1038707668<open>)]
2025-08-13T05:00:00.062-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1038707668<open>)] after transaction
2025-08-13T05:00:00.063-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T05:00:00.064-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@ee39216, com.zlogcompras.model.Produto@7115b67d, com.zlogcompras.model.Produto@3e24389, com.zlogcompras.model.Produto@3a6ecb37, com.zlogcompras.model.Produto@288f8d4e, com.zlogcompras.model.Produto@74f5707c, com.zlogcompras.model.Produto@651a9b60, com.zlogcompras.model.Produto@29e1c387, com.zlogcompras.model.Produto@7d50de08, com.zlogcompras.model.Produto@2279374e, com.zlogcompras.model.Produto@138969fa, com.zlogcompras.model.Produto@34536df7]]
2025-08-13T05:00:00.064-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T05:00:00.064-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T05:01:18.654-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@489adcf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aa7581, org.springframework.security.web.context.SecurityContextHolderFilter@2435e330, org.springframework.security.web.header.HeaderWriterFilter@19eec1cf, org.springframework.web.filter.CorsFilter@c629659, org.springframework.security.web.authentication.logout.LogoutFilter@4bb9f809, com.zlogcompras.config.JwtAuthenticationFilter@3e5794ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef651a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c569b82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fb2c91c, org.springframework.security.web.session.SessionManagementFilter@3f2f06b3, org.springframework.security.web.access.ExceptionTranslationFilter@3784ab26, org.springframework.security.web.access.intercept.AuthorizationFilter@4777170f]] (1/1)
2025-08-13T05:01:18.655-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2025-08-13T05:01:18.655-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T05:01:18.655-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T05:01:18.656-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T05:01:18.656-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T05:01:18.657-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T05:01:18.658-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T05:01:18.662-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@489adcf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aa7581, org.springframework.security.web.context.SecurityContextHolderFilter@2435e330, org.springframework.security.web.header.HeaderWriterFilter@19eec1cf, org.springframework.web.filter.CorsFilter@c629659, org.springframework.security.web.authentication.logout.LogoutFilter@4bb9f809, com.zlogcompras.config.JwtAuthenticationFilter@3e5794ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef651a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c569b82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fb2c91c, org.springframework.security.web.session.SessionManagementFilter@3f2f06b3, org.springframework.security.web.access.ExceptionTranslationFilter@3784ab26, org.springframework.security.web.access.intercept.AuthorizationFilter@4777170f]] (1/1)
2025-08-13T05:01:18.662-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-08-13T05:01:18.663-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T05:01:18.663-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T05:01:18.663-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T05:01:18.663-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T05:01:18.664-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T05:01:18.664-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T05:01:18.665-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T05:01:18.665-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T05:01:18.665-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T05:01:18.666-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T05:01:18.666-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T05:01:18.666-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T05:01:18.667-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T05:01:18.667-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T05:01:18.667-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-08-13T05:01:18.668-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T05:01:18.668-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T05:01:18.668-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-08-13T05:01:18.669-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001c781aa1e88@541044c9
2025-08-13T05:01:18.669-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-08-13T05:01:18.669-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Should not filter (exact match): /api/auth/login
2025-08-13T05:01:18.670-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-08-13T05:01:18.671-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-08-13T05:01:18.674-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=PillarPereira, password=12345678)]
2025-08-13T05:01:18.674-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-08-13T05:01:18.674-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T05:01:18.677-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T05:01:18.678-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [PillarPereira]
2025-08-13T05:01:18.678-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T05:01:18.678-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-08-13T05:01:18.828-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-08-13T05:01:18.828-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T05:01:18.828-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T05:01:18.828-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [PillarPereira]
2025-08-13T05:01:18.828-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T05:01:18.828-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-08-13T05:01:18.835-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T05:01:18.838-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJQaWxsYXJQZXJlaXJhIiwiaWF0IjoxNzU1MDcyMDc4LCJleHAiOjE3NTUxNTg0Nzh9.4AP-Hb-XIhfBo87fhpx_ib3Te2ajvHVNlWujYFhZsbE)]
2025-08-13T05:01:18.838-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T05:01:18.838-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-08-13T05:01:18.854-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@489adcf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aa7581, org.springframework.security.web.context.SecurityContextHolderFilter@2435e330, org.springframework.security.web.header.HeaderWriterFilter@19eec1cf, org.springframework.web.filter.CorsFilter@c629659, org.springframework.security.web.authentication.logout.LogoutFilter@4bb9f809, com.zlogcompras.config.JwtAuthenticationFilter@3e5794ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef651a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c569b82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fb2c91c, org.springframework.security.web.session.SessionManagementFilter@3f2f06b3, org.springframework.security.web.access.ExceptionTranslationFilter@3784ab26, org.springframework.security.web.access.intercept.AuthorizationFilter@4777170f]] (1/1)
2025-08-13T05:01:18.855-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/produtos
2025-08-13T05:01:18.855-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T05:01:18.855-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T05:01:18.855-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T05:01:18.856-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T05:01:18.857-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T05:01:18.858-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T05:01:18.866-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@489adcf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aa7581, org.springframework.security.web.context.SecurityContextHolderFilter@2435e330, org.springframework.security.web.header.HeaderWriterFilter@19eec1cf, org.springframework.web.filter.CorsFilter@c629659, org.springframework.security.web.authentication.logout.LogoutFilter@4bb9f809, com.zlogcompras.config.JwtAuthenticationFilter@3e5794ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef651a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c569b82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fb2c91c, org.springframework.security.web.session.SessionManagementFilter@3f2f06b3, org.springframework.security.web.access.ExceptionTranslationFilter@3784ab26, org.springframework.security.web.access.intercept.AuthorizationFilter@4777170f]] (1/1)
2025-08-13T05:01:18.867-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-08-13T05:01:18.867-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-08-13T05:01:18.867-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-08-13T05:01:18.867-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-08-13T05:01:18.867-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-08-13T05:01:18.868-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-08-13T05:01:18.869-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-08-13T05:01:18.869-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-08-13T05:01:18.869-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-08-13T05:01:18.869-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T05:01:18.870-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-08-13T05:01:18.870-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJQaWxsYXJQZXJlaXJhIiwiaWF0IjoxNzU1MDcyMDc4LCJleHAiOjE3NTUxNTg0Nzh9.4AP-Hb-XIhfBo87fhpx_ib3Te2ajvHVNlWujYFhZsbE
2025-08-13T05:01:18.871-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Username extraído do token: PillarPereira
2025-08-13T05:01:18.871-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-08-13T05:01:18.871-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-08-13T05:01:18.873-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-08-13T05:01:18.873-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [PillarPereira]
2025-08-13T05:01:18.875-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-13T05:01:18.875-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-08-13T05:01:18.878-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: PillarPereira
2025-08-13T05:01:18.878-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-08-13T05:01:18.879-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Usuário PillarPereira autenticado com sucesso no SecurityContext.
2025-08-13T05:01:18.879-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-08-13T05:01:18.880-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-08-13T05:01:18.880-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-08-13T05:01:18.880-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-08-13T05:01:18.880-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=PillarPereira, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-08-13T05:01:18.880-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-08-13T05:01:18.881-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-08-13T05:01:18.881-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-08-13T05:01:18.881-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-08-13T05:01:18.881-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-08-13T05:01:18.881-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-08-13T05:01:18.882-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Should filter: /api/produtos
2025-08-13T05:01:18.882-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-08-13T05:01:18.882-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodos()
2025-08-13T05:01:18.883-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-13T05:01:18.883-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(597412157<open>)] for JPA transaction
2025-08-13T05:01:18.884-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3ea734dd]
2025-08-13T05:01:18.885-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-08-13T05:01:18.890-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-08-13T05:01:18.890-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(597412157<open>)]
2025-08-13T05:01:18.891-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(597412157<open>)] after transaction
2025-08-13T05:01:18.891-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-13T05:01:18.892-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@356a4a5d, com.zlogcompras.model.Produto@7d9a0e6c, com.zlogcompras.model.Produto@5403292c, com.zlogcompras.model.Produto@3eb7fc65, com.zlogcompras.model.Produto@59e8714c, com.zlogcompras.model.Produto@74aced73, com.zlogcompras.model.Produto@39abe083, com.zlogcompras.model.Produto@38fe6707, com.zlogcompras.model.Produto@22061345, com.zlogcompras.model.Produto@31d2b503, com.zlogcompras.model.Produto@571bf442, com.zlogcompras.model.Produto@1c1677f9]]
2025-08-13T05:01:18.894-03:00 TRACE 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-08-13T05:01:18.894-03:00 DEBUG 19168 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
