2025-07-28T01:25:06.271-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 4920 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T01:25:06.272-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T01:25:06.272-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T01:25:06.356-03:00  INFO 4920 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28T01:25:06.371-03:00  INFO 4920 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28T01:25:07.805-03:00  INFO 4920 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T01:25:07.889-03:00  INFO 4920 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 76 ms. Found 13 JPA repository interfaces.
2025-07-28T01:25:08.570-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T01:25:08.573-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T01:25:08.586-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T01:25:08.645-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T01:25:08.645-03:00  INFO 4920 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2273 ms
2025-07-28T01:25:08.772-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T01:25:08.806-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T01:25:08.893-03:00  INFO 4920 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-07-28T01:25:08.942-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T01:25:09.258-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T01:25:09.294-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-28T01:25:09.779-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@30565354
2025-07-28T01:25:09.779-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-28T01:25:09.894-03:00  WARN 4920 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T01:25:11.100-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T01:25:11.116-03:00  INFO 4920 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T01:25:11.145-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T01:25:11.166-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T01:25:11.189-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.222-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.277-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.322-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T01:25:11.322-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T01:25:11.339-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.440-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T01:25:11.490-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@1fa8171e}
2025-07-28T01:25:11.521-03:00  INFO 4920 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T01:25:11.522-03:00  WARN 4920 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T01:25:11.526-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.532-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.535-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T01:25:11.535-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T01:25:11.536-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.548-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.557-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.561-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T01:25:11.562-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T01:25:11.562-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.565-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T01:25:11.565-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T01:25:11.565-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.574-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.575-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.578-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T01:25:11.579-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T01:25:11.579-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.951-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.961-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.961-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T01:25:11.961-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T01:25:11.961-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.977-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:11.995-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.001-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T01:25:12.001-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T01:25:12.001-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.002-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T01:25:12.003-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T01:25:12.003-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.007-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T01:25:12.007-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T01:25:12.007-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.010-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T01:25:12.010-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T01:25:12.011-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.012-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T01:25:12.012-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T01:25:12.013-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.015-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T01:25:12.015-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T01:25:12.015-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.016-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T01:25:12.016-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T01:25:12.016-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.024-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.026-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.026-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.026-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.035-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T01:25:12.036-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T01:25:12.036-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.037-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T01:25:12.038-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T01:25:12.039-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.040-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T01:25:12.041-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T01:25:12.041-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.049-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.056-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.058-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T01:25:12.058-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T01:25:12.058-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.059-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T01:25:12.059-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T01:25:12.059-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.065-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T01:25:12.065-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T01:25:12.066-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.070-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.073-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.074-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T01:25:12.075-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T01:25:12.075-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.099-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.105-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.107-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T01:25:12.108-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T01:25:12.108-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.109-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T01:25:12.110-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T01:25:12.110-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.112-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T01:25:12.112-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T01:25:12.113-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.391-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-07-28T01:25:12.400-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
2025-07-28T01:25:12.406-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-07-28T01:25:12.410-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
2025-07-28T01:25:12.414-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T01:25:12.414-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T01:25:12.419-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
2025-07-28T01:25:12.422-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
2025-07-28T01:25:12.430-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T01:25:12.442-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T01:25:12.445-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T01:25:12.447-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T01:25:12.448-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T01:25:12.524-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T01:25:12.555-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@314185ea, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52e34d6e, org.springframework.security.web.context.SecurityContextHolderFilter@7fd25d25, org.springframework.security.web.header.HeaderWriterFilter@30778496, org.springframework.web.filter.CorsFilter@4886629b, org.springframework.security.web.authentication.logout.LogoutFilter@58e16ae, com.zlogcompras.config.JwtAuthenticationFilter@7b7507c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3aa7cc20, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32653ede, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66d11a2b, org.springframework.security.web.session.SessionManagementFilter@3530087b, org.springframework.security.web.access.ExceptionTranslationFilter@264e8d2e, org.springframework.security.web.access.intercept.AuthorizationFilter@7fc87b3]
2025-07-28T01:25:12.647-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T01:25:12.689-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T01:25:12.852-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.868-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.868-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T01:25:12.868-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T01:25:12.868-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.880-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.884-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.885-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T01:25:12.886-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T01:25:12.886-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:12.956-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T01:25:12.989-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T01:25:12.989-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 7.161 seconds (process running for 7.705)
2025-07-28T01:25:13.007-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:13.138-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T01:25:13.138-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T01:25:13.190-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:25:13.190-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T01:25:13.190-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T01:45:02.801-03:00  INFO 4920 --- [zlog_compras] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-28T01:45:02.895-03:00  INFO 4920 --- [zlog_compras] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T01:45:02.918-03:00  INFO 4920 --- [zlog_compras] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-28T01:45:02.958-03:00  INFO 4920 --- [zlog_compras] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-28T01:45:03.375-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 4920 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T01:45:03.375-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T01:45:03.384-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T01:45:03.805-03:00  INFO 4920 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T01:45:03.866-03:00  INFO 4920 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 13 JPA repository interfaces.
2025-07-28T01:45:04.037-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T01:45:04.039-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T01:45:04.040-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T01:45:04.060-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T01:45:04.060-03:00  INFO 4920 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 674 ms
2025-07-28T01:45:04.104-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T01:45:04.104-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T01:45:04.107-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T01:45:04.122-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T01:45:04.124-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-28T01:45:04.238-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3a10b5f3
2025-07-28T01:45:04.238-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-28T01:45:04.240-03:00  WARN 4920 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T01:45:04.526-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T01:45:04.526-03:00  INFO 4920 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T01:45:04.549-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T01:45:04.551-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T01:45:04.554-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.557-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.565-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.568-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T01:45:04.568-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T01:45:04.568-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.579-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T01:45:04.595-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@29171f9e}
2025-07-28T01:45:04.599-03:00  INFO 4920 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T01:45:04.599-03:00  WARN 4920 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T01:45:04.604-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.606-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.612-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T01:45:04.613-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T01:45:04.613-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.622-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.627-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.628-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T01:45:04.629-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T01:45:04.629-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.630-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T01:45:04.631-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T01:45:04.631-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.638-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.639-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.640-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T01:45:04.641-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T01:45:04.641-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.708-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.710-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.711-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T01:45:04.712-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T01:45:04.712-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.725-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.736-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.738-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T01:45:04.739-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T01:45:04.739-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.740-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T01:45:04.740-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T01:45:04.741-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.742-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T01:45:04.742-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T01:45:04.743-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.744-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T01:45:04.744-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T01:45:04.745-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.745-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T01:45:04.747-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T01:45:04.747-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.748-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T01:45:04.748-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T01:45:04.748-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.750-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T01:45:04.750-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T01:45:04.750-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.756-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.756-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.761-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.762-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.764-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T01:45:04.764-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T01:45:04.764-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.765-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T01:45:04.766-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T01:45:04.766-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.767-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T01:45:04.767-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T01:45:04.767-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.775-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.780-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.781-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T01:45:04.782-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T01:45:04.782-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.784-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T01:45:04.784-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T01:45:04.785-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.786-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T01:45:04.787-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T01:45:04.787-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.791-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.792-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.793-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T01:45:04.794-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T01:45:04.794-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.819-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.820-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.822-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T01:45:04.822-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T01:45:04.823-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.824-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T01:45:04.824-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T01:45:04.824-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.825-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T01:45:04.825-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T01:45:04.826-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:04.913-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-07-28T01:45:04.916-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
2025-07-28T01:45:04.919-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-07-28T01:45:04.924-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
2025-07-28T01:45:04.928-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T01:45:04.931-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T01:45:04.933-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
2025-07-28T01:45:04.934-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
2025-07-28T01:45:04.936-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T01:45:04.941-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T01:45:04.944-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T01:45:04.945-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T01:45:04.947-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T01:45:05.011-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T01:45:05.035-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7dbddadc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64a46f93, org.springframework.security.web.context.SecurityContextHolderFilter@6ad669c4, org.springframework.security.web.header.HeaderWriterFilter@7aed7fdf, org.springframework.web.filter.CorsFilter@12a11ca2, org.springframework.security.web.authentication.logout.LogoutFilter@775eab26, com.zlogcompras.config.JwtAuthenticationFilter@1ca02733, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41d36ca5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50d1f0c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe80399, org.springframework.security.web.session.SessionManagementFilter@63f8ffd0, org.springframework.security.web.access.ExceptionTranslationFilter@7d5ade8d, org.springframework.security.web.access.intercept.AuthorizationFilter@7fb84996]
2025-07-28T01:45:05.078-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T01:45:05.084-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T01:45:05.136-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:05.139-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:05.140-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T01:45:05.141-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T01:45:05.141-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:05.188-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:05.206-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:05.208-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T01:45:05.210-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T01:45:05.210-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:05.254-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T01:45:05.267-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T01:45:05.273-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 1.932 seconds (process running for 1199.978)
2025-07-28T01:45:05.274-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:05.304-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T01:45:05.304-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T01:45:05.348-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:05.349-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T01:45:05.370-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T01:45:05.377-03:00  INFO 4920 --- [zlog_compras] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-28T01:45:09.795-03:00  INFO 4920 --- [zlog_compras] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-28T01:45:09.804-03:00  INFO 4920 --- [zlog_compras] [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T01:45:09.806-03:00  INFO 4920 --- [zlog_compras] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-28T01:45:09.810-03:00  INFO 4920 --- [zlog_compras] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-28T01:45:09.888-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 4920 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T01:45:09.888-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T01:45:09.888-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T01:45:10.102-03:00  INFO 4920 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T01:45:10.125-03:00  INFO 4920 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 13 JPA repository interfaces.
2025-07-28T01:45:10.241-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T01:45:10.241-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T01:45:10.241-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T01:45:10.255-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T01:45:10.255-03:00  INFO 4920 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 365 ms
2025-07-28T01:45:10.295-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T01:45:10.295-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T01:45:10.298-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T01:45:10.300-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T01:45:10.305-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-07-28T01:45:10.311-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@664fad5
2025-07-28T01:45:10.312-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-07-28T01:45:10.313-03:00  WARN 4920 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T01:45:10.492-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T01:45:10.493-03:00  INFO 4920 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T01:45:10.513-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T01:45:10.515-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T01:45:10.518-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.524-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.526-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T01:45:10.526-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T01:45:10.526-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.536-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T01:45:10.547-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@2e26a58c}
2025-07-28T01:45:10.550-03:00  INFO 4920 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T01:45:10.550-03:00  WARN 4920 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T01:45:10.554-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.557-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.558-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T01:45:10.558-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T01:45:10.559-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.569-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.573-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.574-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T01:45:10.575-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T01:45:10.575-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.576-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T01:45:10.576-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T01:45:10.576-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.580-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.581-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.583-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T01:45:10.583-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T01:45:10.583-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.629-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.632-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.633-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T01:45:10.635-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T01:45:10.635-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.643-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.652-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.654-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T01:45:10.655-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T01:45:10.655-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.656-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T01:45:10.656-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T01:45:10.656-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.657-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T01:45:10.657-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T01:45:10.658-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.659-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T01:45:10.659-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T01:45:10.659-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.660-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T01:45:10.661-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T01:45:10.661-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.662-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T01:45:10.662-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T01:45:10.662-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.663-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T01:45:10.663-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T01:45:10.663-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.668-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.670-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.674-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.675-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.676-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T01:45:10.676-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T01:45:10.676-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.677-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T01:45:10.678-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T01:45:10.678-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.679-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T01:45:10.679-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T01:45:10.679-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.687-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.691-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.692-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T01:45:10.693-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T01:45:10.693-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.694-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T01:45:10.695-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T01:45:10.695-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.696-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T01:45:10.696-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T01:45:10.696-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.700-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.701-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.702-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T01:45:10.702-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T01:45:10.704-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.727-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.728-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.730-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T01:45:10.731-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T01:45:10.731-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.732-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T01:45:10.732-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T01:45:10.733-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.734-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T01:45:10.735-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T01:45:10.735-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.794-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-07-28T01:45:10.796-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
2025-07-28T01:45:10.798-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-07-28T01:45:10.800-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
2025-07-28T01:45:10.803-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T01:45:10.805-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T01:45:10.807-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
2025-07-28T01:45:10.808-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
2025-07-28T01:45:10.810-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T01:45:10.812-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T01:45:10.813-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T01:45:10.814-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T01:45:10.814-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T01:45:10.838-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T01:45:10.848-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30e1a7f4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aa0ac8b, org.springframework.security.web.context.SecurityContextHolderFilter@2a651c8f, org.springframework.security.web.header.HeaderWriterFilter@2134d9, org.springframework.web.filter.CorsFilter@515caa8f, org.springframework.security.web.authentication.logout.LogoutFilter@5dbafe35, com.zlogcompras.config.JwtAuthenticationFilter@38dc5de5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59784f83, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50762f89, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58566b, org.springframework.security.web.session.SessionManagementFilter@5eaa2d5b, org.springframework.security.web.access.ExceptionTranslationFilter@182d6868, org.springframework.security.web.access.intercept.AuthorizationFilter@274ec36c]
2025-07-28T01:45:10.868-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T01:45:10.873-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T01:45:10.895-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.897-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.899-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T01:45:10.899-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T01:45:10.899-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.903-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.905-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.906-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T01:45:10.907-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T01:45:10.907-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.922-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T01:45:10.932-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T01:45:10.936-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 1.069 seconds (process running for 1205.641)
2025-07-28T01:45:10.938-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.962-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T01:45:10.964-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T01:45:10.966-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:10.968-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T01:45:10.968-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T01:45:10.970-03:00  INFO 4920 --- [zlog_compras] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-28T01:45:17.520-03:00  INFO 4920 --- [zlog_compras] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-28T01:45:17.531-03:00  INFO 4920 --- [zlog_compras] [Thread-11] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T01:45:17.532-03:00  INFO 4920 --- [zlog_compras] [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-07-28T01:45:17.535-03:00  INFO 4920 --- [zlog_compras] [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-07-28T01:45:17.601-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 4920 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T01:45:17.602-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T01:45:17.603-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T01:45:17.760-03:00  INFO 4920 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T01:45:17.783-03:00  INFO 4920 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 13 JPA repository interfaces.
2025-07-28T01:45:17.886-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T01:45:17.886-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T01:45:17.886-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T01:45:17.903-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T01:45:17.903-03:00  INFO 4920 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 299 ms
2025-07-28T01:45:17.934-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T01:45:17.934-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T01:45:17.936-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T01:45:17.941-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T01:45:17.942-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-07-28T01:45:17.948-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@674978cc
2025-07-28T01:45:17.948-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-07-28T01:45:17.950-03:00  WARN 4920 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T01:45:18.116-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T01:45:18.116-03:00  INFO 4920 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T01:45:18.151-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T01:45:18.152-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T01:45:18.153-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.159-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.161-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T01:45:18.161-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T01:45:18.162-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.171-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T01:45:18.184-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@6f2acde5}
2025-07-28T01:45:18.187-03:00  INFO 4920 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T01:45:18.187-03:00  WARN 4920 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T01:45:18.190-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.193-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.194-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T01:45:18.195-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T01:45:18.195-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.203-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.207-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.208-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T01:45:18.209-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T01:45:18.209-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.210-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T01:45:18.210-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T01:45:18.210-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.214-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.215-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.217-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T01:45:18.218-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T01:45:18.218-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.258-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.262-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.262-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T01:45:18.263-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T01:45:18.263-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.272-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.281-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.284-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T01:45:18.284-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T01:45:18.284-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.284-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T01:45:18.284-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T01:45:18.284-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.286-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T01:45:18.287-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T01:45:18.287-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.288-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T01:45:18.288-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T01:45:18.288-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.289-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T01:45:18.289-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T01:45:18.289-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.290-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T01:45:18.290-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T01:45:18.291-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.291-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T01:45:18.292-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T01:45:18.292-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.297-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.297-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.301-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.302-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.303-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T01:45:18.304-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T01:45:18.304-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.304-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T01:45:18.306-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T01:45:18.306-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.306-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T01:45:18.307-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T01:45:18.307-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.313-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.316-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.318-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T01:45:18.319-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T01:45:18.319-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.320-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T01:45:18.321-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T01:45:18.321-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.322-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T01:45:18.322-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T01:45:18.323-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.328-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.329-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.329-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T01:45:18.330-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T01:45:18.330-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.350-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.351-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.352-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T01:45:18.353-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T01:45:18.353-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.354-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T01:45:18.354-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T01:45:18.354-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.356-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T01:45:18.356-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T01:45:18.356-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.410-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-07-28T01:45:18.412-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
2025-07-28T01:45:18.414-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-07-28T01:45:18.416-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
2025-07-28T01:45:18.418-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T01:45:18.421-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T01:45:18.422-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
2025-07-28T01:45:18.422-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
2025-07-28T01:45:18.426-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T01:45:18.426-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T01:45:18.426-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T01:45:18.429-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T01:45:18.430-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T01:45:18.454-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T01:45:18.461-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c1ce474, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8563797, org.springframework.security.web.context.SecurityContextHolderFilter@7339cec3, org.springframework.security.web.header.HeaderWriterFilter@170035b0, org.springframework.web.filter.CorsFilter@500e0a6c, org.springframework.security.web.authentication.logout.LogoutFilter@6fad6c6c, com.zlogcompras.config.JwtAuthenticationFilter@47eeddc1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f1153ff, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19aa4a18, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48c92e17, org.springframework.security.web.session.SessionManagementFilter@3e3eb017, org.springframework.security.web.access.ExceptionTranslationFilter@3d68279c, org.springframework.security.web.access.intercept.AuthorizationFilter@2117290b]
2025-07-28T01:45:18.481-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T01:45:18.485-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T01:45:18.511-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.512-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.513-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T01:45:18.514-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T01:45:18.514-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.519-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.520-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.522-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T01:45:18.522-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T01:45:18.522-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.537-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T01:45:18.545-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T01:45:18.549-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 0.966 seconds (process running for 1213.255)
2025-07-28T01:45:18.551-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.574-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T01:45:18.575-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T01:45:18.578-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:18.580-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T01:45:18.581-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T01:45:18.583-03:00  INFO 4920 --- [zlog_compras] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-28T01:45:26.236-03:00  INFO 4920 --- [zlog_compras] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-28T01:45:26.249-03:00  INFO 4920 --- [zlog_compras] [Thread-15] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T01:45:26.249-03:00  INFO 4920 --- [zlog_compras] [Thread-15] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-07-28T01:45:26.253-03:00  INFO 4920 --- [zlog_compras] [Thread-15] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-07-28T01:45:26.316-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 4920 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T01:45:26.316-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T01:45:26.316-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T01:45:26.515-03:00  INFO 4920 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T01:45:26.543-03:00  INFO 4920 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 13 JPA repository interfaces.
2025-07-28T01:45:26.635-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T01:45:26.635-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T01:45:26.635-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T01:45:26.656-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T01:45:26.656-03:00  INFO 4920 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 340 ms
2025-07-28T01:45:26.694-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T01:45:26.695-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T01:45:26.698-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T01:45:26.704-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T01:45:26.706-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-07-28T01:45:26.720-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1869c70f
2025-07-28T01:45:26.720-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-07-28T01:45:26.722-03:00  WARN 4920 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T01:45:26.885-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T01:45:26.885-03:00  INFO 4920 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T01:45:26.901-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T01:45:26.903-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T01:45:26.906-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:26.910-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:26.912-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T01:45:26.913-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T01:45:26.914-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:26.923-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T01:45:26.935-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@58686376}
2025-07-28T01:45:26.937-03:00  INFO 4920 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T01:45:26.937-03:00  WARN 4920 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T01:45:26.940-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:26.943-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:26.945-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T01:45:26.945-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T01:45:26.945-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:26.952-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:26.955-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:26.957-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T01:45:26.958-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T01:45:26.958-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:26.959-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T01:45:26.960-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T01:45:26.960-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:26.964-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:26.964-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:26.966-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T01:45:26.966-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T01:45:26.966-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.005-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.008-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.009-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T01:45:27.010-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T01:45:27.010-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.020-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.027-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.028-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T01:45:27.029-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T01:45:27.029-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.030-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T01:45:27.030-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T01:45:27.030-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.032-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T01:45:27.033-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T01:45:27.033-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.035-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T01:45:27.035-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T01:45:27.035-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.036-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T01:45:27.037-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T01:45:27.037-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.038-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T01:45:27.038-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T01:45:27.039-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.040-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T01:45:27.040-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T01:45:27.040-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.044-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.046-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.051-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.052-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.053-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T01:45:27.054-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T01:45:27.054-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.055-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T01:45:27.055-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T01:45:27.055-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.056-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T01:45:27.057-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T01:45:27.057-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.070-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.073-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.074-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T01:45:27.074-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T01:45:27.075-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.075-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T01:45:27.076-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T01:45:27.076-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.077-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T01:45:27.078-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T01:45:27.078-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.083-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.083-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.084-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T01:45:27.085-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T01:45:27.086-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.106-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.107-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.108-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T01:45:27.109-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T01:45:27.109-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.110-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T01:45:27.110-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T01:45:27.110-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.111-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T01:45:27.111-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T01:45:27.111-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.156-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-07-28T01:45:27.166-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
2025-07-28T01:45:27.168-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-07-28T01:45:27.170-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
2025-07-28T01:45:27.173-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T01:45:27.174-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T01:45:27.176-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
2025-07-28T01:45:27.178-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
2025-07-28T01:45:27.180-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T01:45:27.181-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T01:45:27.183-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T01:45:27.184-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T01:45:27.185-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T01:45:27.207-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T01:45:27.214-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@60cb8bad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@409c4b95, org.springframework.security.web.context.SecurityContextHolderFilter@1af41705, org.springframework.security.web.header.HeaderWriterFilter@201bbbb, org.springframework.web.filter.CorsFilter@1305f211, org.springframework.security.web.authentication.logout.LogoutFilter@5b2f7b0a, com.zlogcompras.config.JwtAuthenticationFilter@25727c4f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b9571e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c6df48, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@730be47, org.springframework.security.web.session.SessionManagementFilter@6e71617a, org.springframework.security.web.access.ExceptionTranslationFilter@7e5de5bc, org.springframework.security.web.access.intercept.AuthorizationFilter@491ba759]
2025-07-28T01:45:27.233-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T01:45:27.237-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T01:45:27.258-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.259-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.263-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T01:45:27.263-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T01:45:27.263-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.270-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.271-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.273-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T01:45:27.273-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T01:45:27.273-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.289-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T01:45:27.298-03:00  INFO 4920 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T01:45:27.301-03:00  INFO 4920 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 0.997 seconds (process running for 1222.006)
2025-07-28T01:45:27.302-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.326-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T01:45:27.327-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T01:45:27.332-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:45:27.334-03:00 DEBUG 4920 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T01:45:27.334-03:00 TRACE 4920 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T01:45:27.336-03:00  INFO 4920 --- [zlog_compras] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-28T01:56:51.712-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 14044 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T01:56:51.714-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T01:56:51.715-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T01:56:51.778-03:00  INFO 14044 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28T01:56:51.778-03:00  INFO 14044 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28T01:56:52.820-03:00  INFO 14044 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T01:56:52.920-03:00  INFO 14044 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 88 ms. Found 13 JPA repository interfaces.
2025-07-28T01:56:53.664-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T01:56:53.680-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T01:56:53.680-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T01:56:53.735-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T01:56:53.740-03:00  INFO 14044 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1962 ms
2025-07-28T01:56:53.873-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T01:56:53.896-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T01:56:53.982-03:00  INFO 14044 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-07-28T01:56:54.022-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T01:56:54.373-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T01:56:54.402-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-28T01:56:54.615-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4da62de6
2025-07-28T01:56:54.620-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-28T01:56:54.730-03:00  WARN 14044 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T01:56:55.930-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T01:56:55.940-03:00  INFO 14044 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T01:56:55.971-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T01:56:55.980-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T01:56:56.003-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.030-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.086-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.130-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T01:56:56.130-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T01:56:56.136-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.232-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T01:56:56.272-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@60bf05c5}
2025-07-28T01:56:56.291-03:00  INFO 14044 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T01:56:56.291-03:00  WARN 14044 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T01:56:56.302-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.305-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.308-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T01:56:56.309-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T01:56:56.309-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.320-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.329-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.331-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T01:56:56.332-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T01:56:56.332-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.337-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T01:56:56.338-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T01:56:56.338-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.345-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.345-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.347-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T01:56:56.348-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T01:56:56.348-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.714-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.720-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.720-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T01:56:56.720-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T01:56:56.720-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.738-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.743-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.751-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T01:56:56.751-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T01:56:56.751-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.754-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T01:56:56.755-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T01:56:56.755-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.756-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T01:56:56.757-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T01:56:56.758-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.758-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T01:56:56.760-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T01:56:56.760-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.762-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T01:56:56.762-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T01:56:56.762-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.764-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T01:56:56.764-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T01:56:56.764-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.764-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T01:56:56.764-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T01:56:56.764-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.772-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.774-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.780-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.780-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.783-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T01:56:56.785-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T01:56:56.785-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.796-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T01:56:56.803-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T01:56:56.819-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.830-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T01:56:56.832-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T01:56:56.832-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.850-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.855-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.858-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T01:56:56.859-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T01:56:56.859-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.860-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T01:56:56.860-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T01:56:56.860-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.862-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T01:56:56.862-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T01:56:56.862-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.870-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.870-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.872-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T01:56:56.873-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T01:56:56.873-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.896-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.900-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.900-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T01:56:56.901-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T01:56:56.901-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.902-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T01:56:56.902-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T01:56:56.903-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:56.904-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T01:56:56.904-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T01:56:56.904-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:57.170-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-07-28T01:56:57.178-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques]}: listarTodosEstoques()
2025-07-28T01:56:57.183-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
2025-07-28T01:56:57.186-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos]}: listarOrcamentos()
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
2025-07-28T01:56:57.192-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
2025-07-28T01:56:57.195-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T01:56:57.196-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
2025-07-28T01:56:57.200-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
2025-07-28T01:56:57.202-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T01:56:57.222-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T01:56:57.225-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T01:56:57.228-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T01:56:57.229-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T01:56:57.300-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T01:56:57.340-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1fae9c63, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13f1e834, org.springframework.security.web.context.SecurityContextHolderFilter@24150ba9, org.springframework.security.web.header.HeaderWriterFilter@53623c1e, org.springframework.web.filter.CorsFilter@3c213bc1, org.springframework.security.web.authentication.logout.LogoutFilter@ccecbe6, com.zlogcompras.config.JwtAuthenticationFilter@1f84dea3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b95092b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@376ef181, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f719075, org.springframework.security.web.session.SessionManagementFilter@7acaee9c, org.springframework.security.web.access.ExceptionTranslationFilter@4a5a869, org.springframework.security.web.access.intercept.AuthorizationFilter@30778496]
2025-07-28T01:56:57.430-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T01:56:57.474-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T01:56:57.640-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:57.640-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:57.640-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T01:56:57.640-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T01:56:57.640-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:57.654-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:57.656-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:57.656-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T01:56:57.656-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T01:56:57.656-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:57.720-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T01:56:57.770-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T01:56:57.780-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 6.537 seconds (process running for 7.043)
2025-07-28T01:56:57.787-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:57.950-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T01:56:57.960-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T01:56:57.990-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T01:56:57.990-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1331560399<open>)] for JPA transaction
2025-07-28T01:56:58.002-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@309bb04c]
2025-07-28T01:56:58.025-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name) 
    values
        (?)
2025-07-28T01:56:58.028-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T01:56:58.102-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T01:56:58.102-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1331560399<open>)]
2025-07-28T01:56:58.118-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1331560399<open>)] after transaction
2025-07-28T01:56:58.119-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:56:58.121-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T01:56:58.122-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T01:56:58.123-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T01:56:58.123-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(296898512<open>)] for JPA transaction
2025-07-28T01:56:58.123-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@23a953af]
2025-07-28T01:56:58.123-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name) 
    values
        (?)
2025-07-28T01:56:58.123-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T01:56:58.128-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T01:56:58.128-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(296898512<open>)]
2025-07-28T01:56:58.133-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(296898512<open>)] after transaction
2025-07-28T01:57:36.416-03:00  INFO 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28T01:57:36.416-03:00  INFO 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-28T01:57:36.417-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-07-28T01:57:36.417-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-07-28T01:57:36.418-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-07-28T01:57:36.422-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@553f2055
2025-07-28T01:57:36.423-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@22e1f4f1
2025-07-28T01:57:36.424-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-28T01:57:36.425-03:00  INFO 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-07-28T01:57:36.456-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1fae9c63, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13f1e834, org.springframework.security.web.context.SecurityContextHolderFilter@24150ba9, org.springframework.security.web.header.HeaderWriterFilter@53623c1e, org.springframework.web.filter.CorsFilter@3c213bc1, org.springframework.security.web.authentication.logout.LogoutFilter@ccecbe6, com.zlogcompras.config.JwtAuthenticationFilter@1f84dea3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b95092b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@376ef181, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f719075, org.springframework.security.web.session.SessionManagementFilter@7acaee9c, org.springframework.security.web.access.ExceptionTranslationFilter@4a5a869, org.springframework.security.web.access.intercept.AuthorizationFilter@30778496]] (1/1)
2025-07-28T01:57:36.457-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-initializer.js
2025-07-28T01:57:36.459-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T01:57:36.460-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T01:57:36.464-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T01:57:36.466-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T01:57:36.468-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T01:57:36.470-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T01:57:36.470-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T01:57:36.471-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T01:57:36.471-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /swagger-ui/swagger-initializer.js
2025-07-28T01:57:36.471-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Cabeçalho Authorization ausente ou inválido. Passando para o próximo filtro.
2025-07-28T01:57:36.472-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T01:57:36.473-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T01:57:36.475-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T01:57:36.476-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T01:57:36.476-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T01:57:36.477-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T01:57:36.478-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T01:57:36.478-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T01:57:36.479-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /swagger-ui/swagger-initializer.js
2025-07-28T01:57:36.481-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /swagger-ui/swagger-initializer.js using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000018b84a9f188@2040417
2025-07-28T01:57:36.482-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-initializer.js
2025-07-28T01:57:36.485-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-28T01:57:36.493-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-28T01:57:36.577-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T01:57:36.581-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T01:57:36.775-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1fae9c63, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13f1e834, org.springframework.security.web.context.SecurityContextHolderFilter@24150ba9, org.springframework.security.web.header.HeaderWriterFilter@53623c1e, org.springframework.web.filter.CorsFilter@3c213bc1, org.springframework.security.web.authentication.logout.LogoutFilter@ccecbe6, com.zlogcompras.config.JwtAuthenticationFilter@1f84dea3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b95092b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@376ef181, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f719075, org.springframework.security.web.session.SessionManagementFilter@7acaee9c, org.springframework.security.web.access.ExceptionTranslationFilter@4a5a869, org.springframework.security.web.access.intercept.AuthorizationFilter@30778496]] (1/1)
2025-07-28T01:57:36.780-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /v3/api-docs/swagger-config
2025-07-28T01:57:36.781-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T01:57:36.781-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T01:57:36.782-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T01:57:36.784-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T01:57:36.784-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T01:57:36.785-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T01:57:36.785-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T01:57:36.786-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T01:57:36.786-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /v3/api-docs/swagger-config
2025-07-28T01:57:36.786-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Cabeçalho Authorization ausente ou inválido. Passando para o próximo filtro.
2025-07-28T01:57:36.786-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T01:57:36.787-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T01:57:36.793-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T01:57:36.794-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T01:57:36.794-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T01:57:36.794-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T01:57:36.796-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T01:57:36.796-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T01:57:36.796-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /v3/api-docs/swagger-config
2025-07-28T01:57:36.796-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /v3/api-docs/swagger-config using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000018b84a9f188@2040417
2025-07-28T01:57:36.797-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /v3/api-docs/swagger-config
2025-07-28T01:57:36.797-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/v3/api-docs/swagger-config", parameters={}
2025-07-28T01:57:36.797-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-28T01:57:36.817-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json]
2025-07-28T01:57:36.819-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-07-28T01:57:36.826-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T01:57:36.828-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T01:57:36.838-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1fae9c63, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13f1e834, org.springframework.security.web.context.SecurityContextHolderFilter@24150ba9, org.springframework.security.web.header.HeaderWriterFilter@53623c1e, org.springframework.web.filter.CorsFilter@3c213bc1, org.springframework.security.web.authentication.logout.LogoutFilter@ccecbe6, com.zlogcompras.config.JwtAuthenticationFilter@1f84dea3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b95092b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@376ef181, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f719075, org.springframework.security.web.session.SessionManagementFilter@7acaee9c, org.springframework.security.web.access.ExceptionTranslationFilter@4a5a869, org.springframework.security.web.access.intercept.AuthorizationFilter@30778496]] (1/1)
2025-07-28T01:57:36.838-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /v3/api-docs
2025-07-28T01:57:36.839-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T01:57:36.839-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T01:57:36.839-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T01:57:36.839-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T01:57:36.839-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T01:57:36.840-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T01:57:36.840-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T01:57:36.840-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T01:57:36.840-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /v3/api-docs
2025-07-28T01:57:36.840-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Cabeçalho Authorization ausente ou inválido. Passando para o próximo filtro.
2025-07-28T01:57:36.840-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T01:57:36.841-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T01:57:36.841-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T01:57:36.841-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T01:57:36.841-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T01:57:36.841-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T01:57:36.842-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T01:57:36.842-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T01:57:36.842-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /v3/api-docs
2025-07-28T01:57:36.842-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /v3/api-docs using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000018b84a9f188@2040417
2025-07-28T01:57:36.843-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /v3/api-docs
2025-07-28T01:57:36.843-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/v3/api-docs", parameters={}
2025-07-28T01:57:36.843-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-28T01:57:38.256-03:00  INFO 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 1391 ms
2025-07-28T01:57:38.281-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-28T01:57:38.286-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-28T01:57:38.286-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T01:57:38.289-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T01:58:42.057-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1fae9c63, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13f1e834, org.springframework.security.web.context.SecurityContextHolderFilter@24150ba9, org.springframework.security.web.header.HeaderWriterFilter@53623c1e, org.springframework.web.filter.CorsFilter@3c213bc1, org.springframework.security.web.authentication.logout.LogoutFilter@ccecbe6, com.zlogcompras.config.JwtAuthenticationFilter@1f84dea3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b95092b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@376ef181, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f719075, org.springframework.security.web.session.SessionManagementFilter@7acaee9c, org.springframework.security.web.access.ExceptionTranslationFilter@4a5a869, org.springframework.security.web.access.intercept.AuthorizationFilter@30778496]] (1/1)
2025-07-28T01:58:42.058-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/register
2025-07-28T01:58:42.059-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T01:58:42.059-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T01:58:42.059-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T01:58:42.059-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T01:58:42.060-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T01:58:42.060-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T01:58:42.060-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T01:58:42.060-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T01:58:42.061-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/auth/register
2025-07-28T01:58:42.061-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Cabeçalho Authorization ausente ou inválido. Passando para o próximo filtro.
2025-07-28T01:58:42.061-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T01:58:42.061-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T01:58:42.062-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T01:58:42.062-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T01:58:42.062-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T01:58:42.062-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T01:58:42.062-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T01:58:42.063-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T01:58:42.063-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/register
2025-07-28T01:58:42.063-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/register using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000018b84a9f188@2040417
2025-07-28T01:58:42.063-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/register
2025-07-28T01:58:42.063-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/register", parameters={}
2025-07-28T01:58:42.065-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#registerUser(RegisterRequestDTO)
2025-07-28T01:58:43.031-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RegisterRequestDTO{username='MarcioSouza', password='[PROTECTED]'}]
2025-07-28T01:58:43.038-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:58:43.048-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T01:58:43.051-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T01:58:43.211-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:58:43.212-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T01:58:43.214-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T01:58:43.222-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T01:58:43.223-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1974542907<open>)] for JPA transaction
2025-07-28T01:58:43.223-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@660f6294]
2025-07-28T01:58:43.244-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        users
        (enabled, password, username) 
    values
        (?, ?, ?)
2025-07-28T01:58:43.245-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BOOLEAN) <- [true]
2025-07-28T01:58:43.246-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [$2a$10$i6c8UJh.mfZJMVY5aeN52O2DlbErKwvcnm.d50O7009fyIRERSYbm]
2025-07-28T01:58:43.246-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [MarcioSouza]
2025-07-28T01:58:43.261-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T01:58:43.262-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1974542907<open>)]
2025-07-28T01:58:43.275-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-07-28T01:58:43.276-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T01:58:43.276-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (2:BIGINT) <- [1]
2025-07-28T01:58:43.351-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1974542907<open>)] after transaction
2025-07-28T01:58:43.357-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-28T01:58:43.358-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Usuário registrado com sucesso!"]
2025-07-28T01:58:43.359-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T01:58:43.360-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T01:59:26.511-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1fae9c63, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13f1e834, org.springframework.security.web.context.SecurityContextHolderFilter@24150ba9, org.springframework.security.web.header.HeaderWriterFilter@53623c1e, org.springframework.web.filter.CorsFilter@3c213bc1, org.springframework.security.web.authentication.logout.LogoutFilter@ccecbe6, com.zlogcompras.config.JwtAuthenticationFilter@1f84dea3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b95092b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@376ef181, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f719075, org.springframework.security.web.session.SessionManagementFilter@7acaee9c, org.springframework.security.web.access.ExceptionTranslationFilter@4a5a869, org.springframework.security.web.access.intercept.AuthorizationFilter@30778496]] (1/1)
2025-07-28T01:59:26.511-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-07-28T01:59:26.511-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T01:59:26.512-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T01:59:26.512-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T01:59:26.512-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T01:59:26.512-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T01:59:26.513-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T01:59:26.513-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T01:59:26.513-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T01:59:26.513-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/auth/login
2025-07-28T01:59:26.514-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Cabeçalho Authorization ausente ou inválido. Passando para o próximo filtro.
2025-07-28T01:59:26.514-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T01:59:26.514-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T01:59:26.514-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T01:59:26.514-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T01:59:26.515-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T01:59:26.515-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T01:59:26.515-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T01:59:26.515-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T01:59:26.516-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-07-28T01:59:26.516-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000018b84a9f188@2040417
2025-07-28T01:59:26.516-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-07-28T01:59:26.516-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-07-28T01:59:26.517-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-07-28T01:59:26.523-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=MarcioSouza, password=12345678)]
2025-07-28T01:59:26.524-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-07-28T01:59:26.670-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:59:26.674-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T01:59:26.675-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T01:59:26.691-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T01:59:26.693-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T01:59:26.875-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-07-28T01:59:26.876-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T01:59:26.878-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T01:59:26.879-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T01:59:26.881-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T01:59:26.882-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T01:59:27.064-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T01:59:27.066-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3ODc2NywiZXhwIjoxNzUzNzY1MTY3fQ.tbw3hjCC5CxcUlqzDsMi2XBz8SZq_t7lwU-h0nAbnAI)]
2025-07-28T01:59:27.067-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T01:59:27.068-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T02:08:39.955-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1fae9c63, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13f1e834, org.springframework.security.web.context.SecurityContextHolderFilter@24150ba9, org.springframework.security.web.header.HeaderWriterFilter@53623c1e, org.springframework.web.filter.CorsFilter@3c213bc1, org.springframework.security.web.authentication.logout.LogoutFilter@ccecbe6, com.zlogcompras.config.JwtAuthenticationFilter@1f84dea3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b95092b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@376ef181, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f719075, org.springframework.security.web.session.SessionManagementFilter@7acaee9c, org.springframework.security.web.access.ExceptionTranslationFilter@4a5a869, org.springframework.security.web.access.intercept.AuthorizationFilter@30778496]] (1/1)
2025-07-28T02:08:39.956-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/produtos
2025-07-28T02:08:39.956-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T02:08:39.956-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T02:08:39.956-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T02:08:39.956-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T02:08:39.957-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T02:08:39.957-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T02:08:39.957-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T02:08:39.957-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T02:08:39.957-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-07-28T02:08:39.957-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3ODc2NywiZXhwIjoxNzUzNzY1MTY3fQ.tbw3hjCC5CxcUlqzDsMi2XBz8SZq_t7lwU-h0nAbnAI
2025-07-28T02:08:40.022-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T02:08:40.022-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T02:08:40.023-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:08:40.027-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T02:08:40.029-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T02:08:40.033-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T02:08:40.034-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T02:08:40.037-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T02:08:40.037-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T02:08:40.040-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T02:08:40.040-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T02:08:40.041-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T02:08:40.041-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T02:08:40.041-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T02:08:40.042-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T02:08:40.042-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T02:08:40.042-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T02:08:40.043-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T02:08:40.043-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/produtos
2025-07-28T02:08:40.044-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_USER, ROLE_ADMIN]]
2025-07-28T02:08:40.045-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/produtos
2025-07-28T02:08:40.046-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/produtos", parameters={}
2025-07-28T02:08:40.047-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#criarProduto(ProdutoRequestDTO)
2025-07-28T02:08:40.055-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.zlogcompras.model.dto.ProdutoRequestDTO@3434dfac]
2025-07-28T02:08:40.135-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProdutoService.criarProduto]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T02:08:40.135-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(74135966<open>)] for JPA transaction
2025-07-28T02:08:40.136-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@263a4eb4]
2025-07-28T02:08:40.138-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(74135966<open>)] for JPA transaction
2025-07-28T02:08:40.138-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T02:08:40.210-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        produtos
        (categoria, codigo, codigo_produto, data_atualizacao, data_criacao, descricao, estoque, nome, preco_unitario, unidade_medida, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T02:08:40.213-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [null]
2025-07-28T02:08:40.214-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [PROD001]
2025-07-28T02:08:40.214-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [null]
2025-07-28T02:08:40.214-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-07-28T02:08:40.207060]
2025-07-28T02:08:40.215-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (5:TIMESTAMP) <- [2025-07-28T02:08:40.207060]
2025-07-28T02:08:40.224-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Monitor LED Dell UltraSharp U2721DE com resolução QHD]
2025-07-28T02:08:40.224-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [null]
2025-07-28T02:08:40.224-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [Monitor Dell 27 polegadas]
2025-07-28T02:08:40.226-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (9:NUMERIC) <- [1899.99]
2025-07-28T02:08:40.226-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (10:VARCHAR) <- [UN]
2025-07-28T02:08:40.226-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (11:BIGINT) <- [0]
2025-07-28T02:08:40.305-03:00  WARN 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-07-28T02:08:40.305-03:00 ERROR 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'categoria' cannot be null
2025-07-28T02:08:40.311-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2025-07-28T02:08:40.311-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(74135966<open>)] rollback-only
2025-07-28T02:08:40.316-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2025-07-28T02:08:40.317-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(74135966<open>)]
2025-07-28T02:08:40.320-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(74135966<open>)] after transaction
2025-07-28T02:08:40.323-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.DataIntegrityViolationException: could not execute statement [Column 'categoria' cannot be null] [insert into produtos (categoria,codigo,codigo_produto,data_atualizacao,data_criacao,descricao,estoque,nome,preco_unitario,unidade_medida,version) values (?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into produtos (categoria,codigo,codigo_produto,data_atualizacao,data_criacao,descricao,estoque,nome,preco_unitario,unidade_medida,version) values (?,?,?,?,?,?,?,?,?,?,?)]; constraint [null]
2025-07-28T02:08:40.323-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T02:08:40.324-03:00 ERROR 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute statement [Column 'categoria' cannot be null] [insert into produtos (categoria,codigo,codigo_produto,data_atualizacao,data_criacao,descricao,estoque,nome,preco_unitario,unidade_medida,version) values (?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into produtos (categoria,codigo,codigo_produto,data_atualizacao,data_criacao,descricao,estoque,nome,preco_unitario,unidade_medida,version) values (?,?,?,?,?,?,?,?,?,?,?)]; constraint [null]] with root cause

java.sql.SQLIntegrityConstraintViolationException: Column 'categoria' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:113) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:938) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1106) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1045) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1369) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1030) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319) ~[spring-orm-6.1.8.jar:6.1.8]
	at jdk.proxy4/jdk.proxy4.$Proxy152.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:628) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.1.8.jar:6.1.8]
	at jdk.proxy4/jdk.proxy4.$Proxy165.save(Unknown Source) ~[na:na]
	at com.zlogcompras.service.ProdutoService.criarProduto(ProdutoService.java:52) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.8.jar:6.1.8]
	at com.zlogcompras.service.ProdutoService$$SpringCGLIB$$0.criarProduto(<generated>) ~[classes/:na]
	at com.zlogcompras.controller.ProdutoController.criarProduto(ProdutoController.java:33) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-28T02:08:40.356-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T02:08:40.356-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1fae9c63, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13f1e834, org.springframework.security.web.context.SecurityContextHolderFilter@24150ba9, org.springframework.security.web.header.HeaderWriterFilter@53623c1e, org.springframework.web.filter.CorsFilter@3c213bc1, org.springframework.security.web.authentication.logout.LogoutFilter@ccecbe6, com.zlogcompras.config.JwtAuthenticationFilter@1f84dea3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b95092b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@376ef181, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f719075, org.springframework.security.web.session.SessionManagementFilter@7acaee9c, org.springframework.security.web.access.ExceptionTranslationFilter@4a5a869, org.springframework.security.web.access.intercept.AuthorizationFilter@30778496]] (1/1)
2025-07-28T02:08:40.357-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-07-28T02:08:40.357-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T02:08:40.357-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T02:08:40.358-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T02:08:40.358-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T02:08:40.358-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T02:08:40.358-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T02:08:40.359-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T02:08:40.359-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T02:08:40.359-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T02:08:40.359-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T02:08:40.359-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T02:08:40.360-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T02:08:40.360-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T02:08:40.360-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T02:08:40.360-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /error
2025-07-28T02:08:40.362-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000018b84a9f188@2040417
2025-07-28T02:08:40.362-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /error
2025-07-28T02:08:40.363-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2025-07-28T02:08:40.363-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T02:08:40.363-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T02:08:40.369-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T02:08:40.371-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 02:08:40 BRT 2025, status=500, error=Internal Server Error, trace=org.springframework.dao.DataIntegrityViolationException: could not execute statement [Column 'categoria' cannot be null] [insert into produtos (categoria,codigo,codigo_produto,data_atualizacao,data_criacao,descricao,estoque,nome,preco_unitario,unidade_medida,version) values (?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into produtos (categoria,codigo,codigo_produto,data_atualizacao,data_criacao,descricao,estoque,nome,preco_unitario,unidade_medida,version) values (?,?,?,?,?,?,?,?,?,?,?)]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy165.save(Unknown Source)
	at com.zlogcompras.service.ProdutoService.criarProduto(ProdutoService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.zlogcompras.service.ProdutoService$$SpringCGLIB$$0.criarProduto(<generated>)
	at com.zlogcompras.controller.ProdutoController.criarProduto(ProdutoController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Column 'categoria' cannot be null] [insert into produtos (categoria,codigo,codigo_produto,data_atualizacao,data_criacao,descricao,estoque,nome,preco_unitario,unidade_medida,version) values (?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319)
	at jdk.proxy4/jdk.proxy4.$Proxy152.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:628)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 123 more
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'categoria' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:113)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:938)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1106)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1045)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1369)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1030)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 170 more
, message=could not execute statement [Column 'categoria' cannot be null] [insert into produtos (categoria,codigo,codigo_produto,data_atualizacao,data_criacao,descricao,estoque,nome,preco_unitario,unidade_medida,version) values (?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into produtos (categoria,codigo,codigo_produto,data_atualizacao,data_criacao,descricao,estoque,nome,preco_unitario,unidade_medida,version) values (?,?,?,?,?,?,?,?,?,?,?)]; constraint [null], path=/api/produtos}]
2025-07-28T02:08:40.386-03:00 DEBUG 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-07-28T02:08:40.387-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T02:08:40.387-03:00 TRACE 14044 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T02:16:02.657-03:00  INFO 14044 --- [zlog_compras] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 1 deletion, 1 modification)
2025-07-28T02:16:03.459-03:00  INFO 14044 --- [zlog_compras] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T02:16:03.537-03:00  INFO 14044 --- [zlog_compras] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-28T02:16:03.628-03:00  INFO 14044 --- [zlog_compras] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-28T02:16:04.208-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 14044 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T02:16:04.208-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T02:16:04.208-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T02:16:04.722-03:00  INFO 14044 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T02:16:04.775-03:00  INFO 14044 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 13 JPA repository interfaces.
2025-07-28T02:16:05.077-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T02:16:05.079-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T02:16:05.079-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T02:16:05.103-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T02:16:05.104-03:00  INFO 14044 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 896 ms
2025-07-28T02:16:05.146-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T02:16:05.147-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T02:16:05.149-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T02:16:05.163-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T02:16:05.165-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-28T02:16:05.344-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@290341a2
2025-07-28T02:16:05.344-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-28T02:16:05.350-03:00  WARN 14044 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T02:16:05.749-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T02:16:05.751-03:00  INFO 14044 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T02:16:05.770-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T02:16:05.772-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T02:16:05.775-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.776-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.784-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.787-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T02:16:05.787-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T02:16:05.788-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.800-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T02:16:05.819-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@39b7e41a}
2025-07-28T02:16:05.821-03:00  INFO 14044 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T02:16:05.821-03:00  WARN 14044 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T02:16:05.824-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.827-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.828-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T02:16:05.829-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T02:16:05.829-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.838-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.843-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.845-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T02:16:05.845-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T02:16:05.845-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.846-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T02:16:05.847-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T02:16:05.847-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.852-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.852-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.854-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T02:16:05.854-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T02:16:05.854-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.933-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.938-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.940-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T02:16:05.940-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T02:16:05.941-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:05.970-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.014-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.018-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T02:16:06.019-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T02:16:06.019-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.021-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T02:16:06.022-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T02:16:06.022-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.024-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T02:16:06.024-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T02:16:06.024-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.026-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T02:16:06.027-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T02:16:06.027-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.029-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T02:16:06.030-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T02:16:06.031-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.033-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T02:16:06.033-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T02:16:06.033-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.033-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T02:16:06.033-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T02:16:06.033-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.049-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.050-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.059-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.060-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.062-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T02:16:06.063-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T02:16:06.063-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.064-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T02:16:06.065-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T02:16:06.065-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.068-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T02:16:06.070-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T02:16:06.071-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.120-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.141-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.176-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T02:16:06.177-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T02:16:06.178-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.206-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T02:16:06.224-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T02:16:06.225-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.227-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T02:16:06.228-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T02:16:06.228-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.245-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.250-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.272-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T02:16:06.275-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T02:16:06.275-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.462-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.463-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.468-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T02:16:06.482-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T02:16:06.489-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.492-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T02:16:06.493-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T02:16:06.493-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.503-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T02:16:06.504-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T02:16:06.504-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:06.699-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-07-28T02:16:06.741-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques]}: listarTodosEstoques()
2025-07-28T02:16:06.755-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
2025-07-28T02:16:06.769-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos]}: listarOrcamentos()
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
2025-07-28T02:16:06.778-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
2025-07-28T02:16:06.792-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T02:16:06.808-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
2025-07-28T02:16:06.812-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
2025-07-28T02:16:06.823-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T02:16:06.835-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T02:16:06.840-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T02:16:06.845-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T02:16:06.848-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T02:16:06.918-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T02:16:06.942-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@75130f9e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a398f13, org.springframework.security.web.context.SecurityContextHolderFilter@2a3a00da, org.springframework.security.web.header.HeaderWriterFilter@1e104af8, org.springframework.web.filter.CorsFilter@401ad568, org.springframework.security.web.authentication.logout.LogoutFilter@35bf4b44, com.zlogcompras.config.JwtAuthenticationFilter@83f4f2e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5095edb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19529308, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1efec6bf, org.springframework.security.web.session.SessionManagementFilter@451b833a, org.springframework.security.web.access.ExceptionTranslationFilter@d644f01, org.springframework.security.web.access.intercept.AuthorizationFilter@76f519e5]
2025-07-28T02:16:07.085-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T02:16:07.108-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T02:16:07.216-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:07.220-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:07.224-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T02:16:07.224-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T02:16:07.226-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:07.239-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:07.248-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:07.251-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T02:16:07.253-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T02:16:07.253-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:07.326-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T02:16:07.355-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T02:16:07.369-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 3.232 seconds (process running for 1156.632)
2025-07-28T02:16:07.372-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:07.441-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T02:16:07.445-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T02:16:07.865-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:07.868-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T02:16:07.869-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T02:16:07.876-03:00  INFO 14044 --- [zlog_compras] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-28T02:16:08.835-03:00  INFO 14044 --- [zlog_compras] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (1 addition, 0 deletions, 1 modification)
2025-07-28T02:16:08.836-03:00  INFO 14044 --- [zlog_compras] [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T02:16:08.836-03:00  INFO 14044 --- [zlog_compras] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-28T02:16:08.851-03:00  INFO 14044 --- [zlog_compras] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-28T02:16:08.933-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 14044 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T02:16:08.933-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T02:16:08.933-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T02:16:09.185-03:00  INFO 14044 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T02:16:09.260-03:00  INFO 14044 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 13 JPA repository interfaces.
2025-07-28T02:16:09.398-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T02:16:09.398-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T02:16:09.398-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T02:16:09.448-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T02:16:09.448-03:00  INFO 14044 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 515 ms
2025-07-28T02:16:09.489-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T02:16:09.490-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T02:16:09.492-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T02:16:09.498-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T02:16:09.502-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-07-28T02:16:09.507-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1e55c5db
2025-07-28T02:16:09.507-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-07-28T02:16:09.508-03:00  WARN 14044 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T02:16:09.685-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T02:16:09.685-03:00  INFO 14044 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T02:16:09.715-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T02:16:09.716-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T02:16:09.718-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.725-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.727-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T02:16:09.728-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T02:16:09.728-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.742-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T02:16:09.755-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@7ba2d317}
2025-07-28T02:16:09.759-03:00  INFO 14044 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T02:16:09.759-03:00  WARN 14044 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T02:16:09.759-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.765-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.767-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T02:16:09.767-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T02:16:09.767-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.775-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.780-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.782-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T02:16:09.782-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T02:16:09.782-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.783-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T02:16:09.784-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T02:16:09.784-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.789-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.790-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.791-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T02:16:09.791-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T02:16:09.792-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.849-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.852-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.854-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T02:16:09.854-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T02:16:09.855-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.865-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.877-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.877-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T02:16:09.878-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T02:16:09.878-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.880-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T02:16:09.880-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T02:16:09.880-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.880-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T02:16:09.881-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T02:16:09.881-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.882-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T02:16:09.882-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T02:16:09.882-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.882-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T02:16:09.882-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T02:16:09.884-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.884-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T02:16:09.884-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T02:16:09.884-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.886-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T02:16:09.887-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T02:16:09.887-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.892-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.893-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.898-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.898-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.900-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T02:16:09.900-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T02:16:09.901-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.902-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T02:16:09.902-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T02:16:09.902-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.903-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T02:16:09.903-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T02:16:09.903-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.910-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.914-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.915-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T02:16:09.916-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T02:16:09.916-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.917-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T02:16:09.917-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T02:16:09.918-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.918-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T02:16:09.919-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T02:16:09.919-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.923-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.924-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.926-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T02:16:09.927-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T02:16:09.927-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.932-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.932-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.949-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T02:16:09.949-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T02:16:09.949-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.950-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T02:16:09.951-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T02:16:09.951-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:09.952-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T02:16:09.952-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T02:16:09.953-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:10.015-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-07-28T02:16:10.015-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques]}: listarTodosEstoques()
2025-07-28T02:16:10.015-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
2025-07-28T02:16:10.024-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos]}: listarOrcamentos()
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
2025-07-28T02:16:10.026-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
2025-07-28T02:16:10.028-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T02:16:10.029-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
2025-07-28T02:16:10.031-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
2025-07-28T02:16:10.032-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T02:16:10.035-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T02:16:10.037-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T02:16:10.037-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T02:16:10.038-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T02:16:10.074-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T02:16:10.098-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7071eb27, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1369b2e7, org.springframework.security.web.context.SecurityContextHolderFilter@85a4557, org.springframework.security.web.header.HeaderWriterFilter@31330708, org.springframework.web.filter.CorsFilter@541b6089, org.springframework.security.web.authentication.logout.LogoutFilter@2618bc62, com.zlogcompras.config.JwtAuthenticationFilter@5529c2f2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f11941b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16b3dfb6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a8d8490, org.springframework.security.web.session.SessionManagementFilter@1b2e28b6, org.springframework.security.web.access.ExceptionTranslationFilter@48dfe47b, org.springframework.security.web.access.intercept.AuthorizationFilter@1d5c768c]
2025-07-28T02:16:10.121-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T02:16:10.122-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T02:16:10.147-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:10.149-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:10.150-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T02:16:10.150-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T02:16:10.150-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:10.154-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:10.157-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:10.158-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T02:16:10.159-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T02:16:10.159-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:10.174-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T02:16:10.184-03:00  INFO 14044 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T02:16:10.187-03:00  INFO 14044 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 1.271 seconds (process running for 1159.45)
2025-07-28T02:16:10.189-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:10.212-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T02:16:10.214-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T02:16:10.217-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:16:10.218-03:00 DEBUG 14044 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T02:16:10.218-03:00 TRACE 14044 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T02:16:10.221-03:00  INFO 14044 --- [zlog_compras] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-28T02:16:59.066-03:00  INFO 16032 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Starting ZlogComprasApplicationTests using Java 21.0.8 with PID 16032 (started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T02:16:59.072-03:00 DEBUG 16032 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T02:16:59.074-03:00  INFO 16032 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : The following 1 profile is active: "test"
2025-07-28T02:16:59.139-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0
2025-07-28T02:17:04.141-03:00 DEBUG 16032 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T02:17:04.639-03:00  INFO 16032 --- [zlog_compras] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T02:17:04.752-03:00  WARN 16032 --- [zlog_compras] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T02:17:07.378-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-07-28T02:17:07.385-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-07-28T02:17:07.386-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-07-28T02:17:07.386-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-07-28T02:17:07.386-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-07-28T02:17:07.387-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-07-28T02:17:07.387-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-07-28T02:17:07.387-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-07-28T02:17:07.387-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-07-28T02:17:07.388-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-07-28T02:17:07.388-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-07-28T02:17:07.388-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-07-28T02:17:07.389-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-07-28T02:17:07.390-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-07-28T02:17:07.399-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table estoque (
        quantidade integer not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        data_ultima_entrada timestamp(6),
        data_ultima_saida timestamp(6),
        id bigint generated by default as identity,
        produto_id bigint not null,
        version bigint,
        localizacao varchar(255),
        observacoes varchar(255),
        primary key (id)
    )
2025-07-28T02:17:07.438-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table fornecedores (
        id bigint generated by default as identity,
        version bigint,
        telefone varchar(15),
        cnpj varchar(18) not null unique,
        contato varchar(255),
        email varchar(255) unique,
        endereco varchar(255) not null,
        razao_social varchar(255) not null,
        primary key (id)
    )
2025-07-28T02:17:07.456-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_orcamento (
        preco_unitario_cotado numeric(12,2) not null,
        quantidade numeric(10,3) not null,
        id bigint generated by default as identity,
        orcamento_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida_produto varchar(20),
        codigo_produto varchar(50),
        nome_produto varchar(255) not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-07-28T02:17:07.466-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_pedido_compra (
        preco_unitario numeric(12,2) not null,
        quantidade integer not null,
        subtotal numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida varchar(50),
        codigo_produto varchar(100),
        observacoes varchar(500),
        nome_produto varchar(255),
        primary key (id)
    )
2025-07-28T02:17:07.472-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_solicitacao_compra (
        quantidade numeric(10,3) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        produto_id bigint not null,
        solicitacao_compra_id bigint not null,
        version bigint,
        descricao_adicional varchar(255),
        status enum ('AGUARDANDO_ORCAMENTO','APROVADO','CANCELADO','COMPRADO','EM_COMPRA','ORCAMENTO_RECEBIDO','PENDENTE','REJEITADO') not null,
        primary key (id)
    )
2025-07-28T02:17:07.475-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table movimentacoes_estoque (
        quantidade numeric(10,3) not null,
        data_movimentacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        codigo_material varchar(255) not null,
        referencia varchar(255),
        tipo_movimentacao varchar(255) not null,
        primary key (id)
    )
2025-07-28T02:17:07.479-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table notas_fiscais (
        data_emissao date not null,
        valor_total numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        version bigint,
        numero_nota_fiscal varchar(255) not null unique,
        primary key (id)
    )
2025-07-28T02:17:07.486-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table orcamentos (
        data_cotacao date not null,
        valor_total numeric(12,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        fornecedor_id bigint not null,
        id bigint generated by default as identity,
        solicitacao_compra_id bigint not null,
        version bigint,
        condicoes_pagamento varchar(255),
        numero_orcamento varchar(255) not null,
        observacoes varchar(255),
        prazo_entrega varchar(255),
        status enum ('ABERTO','AGUARDANDO_APROVACAO','APROVADO','CANCELADO','CONCLUIDO','COTADO','PEDIDO_GERADO','PENDENTE','RECUSADO','REJEITADO') not null,
        primary key (id)
    )
2025-07-28T02:17:07.490-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table pedidos_compra (
        data_pedido date,
        valor_total numeric(38,2),
        fornecedor_id bigint,
        id bigint generated by default as identity,
        orcamento_id bigint unique,
        observacoes varchar(255),
        status enum ('AGUARDANDO_APROVACAO','AGUARDANDO_ENVIO','APROVADO','CANCELADO','CONCLUIDO','ENVIADO','FINALIZADO','PENDENTE','RECEBIDO_PARCIALMENTE','RECEBIDO_TOTALMENTE','RECUSADO','REJEITADO_PELO_FORNECEDOR'),
        primary key (id)
    )
2025-07-28T02:17:07.495-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table produtos (
        estoque integer not null,
        preco_unitario numeric(10,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        categoria varchar(50) not null,
        codigo varchar(50) not null unique,
        codigo_produto varchar(50) not null unique,
        descricao varchar(255),
        nome varchar(255),
        unidade_medida varchar(255) not null,
        primary key (id)
    )
2025-07-28T02:17:07.502-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table roles (
        id bigint generated by default as identity,
        name varchar(255) not null unique,
        primary key (id)
    )
2025-07-28T02:17:07.508-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table solicitacoes_compra (
        data_solicitacao date not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        descricao varchar(255),
        solicitante varchar(255) not null,
        status enum ('ABERTA','AGUARDANDO_PARECER','CANCELADA','CONCLUIDA','EM_ANDAMENTO','ORCAMENTO_APROVADO','PEDIDO_GERADO','PENDENTE','REJEITADO','SUSPENSO') not null,
        primary key (id)
    )
2025-07-28T02:17:07.510-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table user_roles (
        role_id bigint not null,
        user_id bigint not null,
        primary key (role_id, user_id)
    )
2025-07-28T02:17:07.512-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table users (
        enabled boolean not null,
        id bigint generated by default as identity,
        password varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-07-28T02:17:07.517-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists estoque 
       add constraint FKmonotpf9w7pfuomk89nqxgeq1 
       foreign key (produto_id) 
       references produtos
2025-07-28T02:17:07.594-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKqlfm2lrgelma3n8kwabcvw9qh 
       foreign key (orcamento_id) 
       references orcamentos
2025-07-28T02:17:07.611-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKbc0qr2yj9stqdgavwvoohki0m 
       foreign key (produto_id) 
       references produtos
2025-07-28T02:17:07.620-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FK8p88mt761a5vacmlhrc68148b 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-07-28T02:17:07.627-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FKrv4ebgf6fdlg2v3b6dcbep8dn 
       foreign key (produto_id) 
       references produtos
2025-07-28T02:17:07.631-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FKntep08q88crstb33ej6npyul5 
       foreign key (produto_id) 
       references produtos
2025-07-28T02:17:07.634-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FK19xietjd5tfpljngdy8daw06x 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-07-28T02:17:07.634-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists notas_fiscais 
       add constraint FKe4e784ip50emjknglqkpkovg4 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-07-28T02:17:07.654-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FKntj4otux0et5xc0cm2lgq3uey 
       foreign key (fornecedor_id) 
       references fornecedores
2025-07-28T02:17:07.663-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FK5bj47al0ogq18q5ge2roy9e53 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-07-28T02:17:07.671-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FKan3yv2vk5m3gbphqf4f6yxj4j 
       foreign key (fornecedor_id) 
       references fornecedores
2025-07-28T02:17:07.673-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FK5f0lurv407qu48ns0sdhky4du 
       foreign key (orcamento_id) 
       references orcamentos
2025-07-28T02:17:07.675-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-07-28T02:17:07.678-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-28T02:17:07.691-03:00  INFO 16032 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T02:17:07.907-03:00 DEBUG 16032 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T02:17:07.971-03:00 DEBUG 16032 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T02:17:08.062-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:08.162-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:08.499-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:08.597-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T02:17:08.602-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T02:17:08.608-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:08.808-03:00 TRACE 16032 --- [zlog_compras] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@11ed241c}
2025-07-28T02:17:08.887-03:00  INFO 16032 --- [zlog_compras] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T02:17:08.888-03:00  WARN 16032 --- [zlog_compras] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T02:17:08.906-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:08.909-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:08.912-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T02:17:08.913-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T02:17:08.913-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:08.955-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:08.976-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:08.981-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T02:17:08.981-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T02:17:08.982-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:08.997-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T02:17:08.997-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T02:17:08.998-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.028-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.029-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.040-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T02:17:09.041-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T02:17:09.041-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.730-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.737-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.744-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T02:17:09.745-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T02:17:09.745-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.766-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.795-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.801-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T02:17:09.802-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T02:17:09.803-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.805-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T02:17:09.805-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T02:17:09.806-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.810-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T02:17:09.810-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T02:17:09.811-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.814-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T02:17:09.815-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T02:17:09.816-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.819-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T02:17:09.820-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T02:17:09.820-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.822-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T02:17:09.824-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T02:17:09.824-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.826-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T02:17:09.827-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T02:17:09.827-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.853-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.854-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.867-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.868-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.871-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T02:17:09.871-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T02:17:09.871-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.873-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T02:17:09.874-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T02:17:09.874-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.875-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T02:17:09.876-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T02:17:09.876-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.892-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.905-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.907-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T02:17:09.907-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T02:17:09.907-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.909-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T02:17:09.911-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T02:17:09.912-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.917-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T02:17:09.918-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T02:17:09.919-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.932-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.934-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:09.936-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T02:17:09.936-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T02:17:09.936-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:10.008-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:10.010-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:10.015-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T02:17:10.017-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T02:17:10.018-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:10.021-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T02:17:10.021-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T02:17:10.021-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:10.023-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T02:17:10.025-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T02:17:10.025-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:10.618-03:00 TRACE 16032 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-07-28T02:17:10.632-03:00 TRACE 16032 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-07-28T02:17:10.640-03:00 TRACE 16032 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
2025-07-28T02:17:10.649-03:00 TRACE 16032 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos]}: listarOrcamentos()
2025-07-28T02:17:10.654-03:00 TRACE 16032 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T02:17:10.661-03:00 TRACE 16032 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T02:17:10.665-03:00 TRACE 16032 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{GET [/api/produtos]}: listarTodosProdutos()
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
2025-07-28T02:17:10.667-03:00 TRACE 16032 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
2025-07-28T02:17:10.674-03:00 TRACE 16032 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T02:17:10.698-03:00 TRACE 16032 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T02:17:10.702-03:00 TRACE 16032 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T02:17:10.702-03:00 TRACE 16032 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T02:17:10.706-03:00 DEBUG 16032 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T02:17:10.940-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T02:17:11.011-03:00  INFO 16032 --- [zlog_compras] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@77ffb5e9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@290ee844, org.springframework.security.web.context.SecurityContextHolderFilter@550d3cd7, org.springframework.security.web.header.HeaderWriterFilter@b13c600, org.springframework.web.filter.CorsFilter@65c58330, org.springframework.security.web.authentication.logout.LogoutFilter@947782d, com.zlogcompras.config.JwtAuthenticationFilter@6f5690f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@409e0e69, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19c4c24d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a1eef38, org.springframework.security.web.session.SessionManagementFilter@16d869de, org.springframework.security.web.access.ExceptionTranslationFilter@18e0c618, org.springframework.security.web.access.intercept.AuthorizationFilter@aca8cae]
2025-07-28T02:17:11.445-03:00 DEBUG 16032 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T02:17:11.595-03:00 DEBUG 16032 --- [zlog_compras] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T02:17:11.855-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:11.865-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:11.870-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T02:17:11.871-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T02:17:11.871-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:11.888-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:11.896-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:11.900-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T02:17:11.902-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T02:17:11.902-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:12.050-03:00  INFO 16032 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Started ZlogComprasApplicationTests in 13.883 seconds (process running for 21.345)
2025-07-28T02:17:12.075-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:12.342-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T02:17:12.342-03:00 TRACE 16032 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T02:17:12.362-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T02:17:12.362-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(930037222<open>)] for JPA transaction
2025-07-28T02:17:12.372-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@105a0846]
2025-07-28T02:17:12.398-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-07-28T02:17:12.400-03:00 TRACE 16032 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T02:17:12.412-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T02:17:12.419-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(930037222<open>)]
2025-07-28T02:17:12.424-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(930037222<open>)] after transaction
2025-07-28T02:17:12.424-03:00 DEBUG 16032 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:12.424-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T02:17:12.424-03:00 TRACE 16032 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T02:17:12.424-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T02:17:12.424-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1967522621<open>)] for JPA transaction
2025-07-28T02:17:12.424-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@d86a616]
2025-07-28T02:17:12.424-03:00 DEBUG 16032 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-07-28T02:17:12.424-03:00 TRACE 16032 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T02:17:12.432-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T02:17:12.432-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1967522621<open>)]
2025-07-28T02:17:12.432-03:00 DEBUG 16032 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1967522621<open>)] after transaction
2025-07-28T02:17:12.492-03:00 DEBUG 16032 --- [zlog_compras] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0, started on Mon Jul 28 02:16:59 BRT 2025
2025-07-28T02:17:12.501-03:00  INFO 16032 --- [zlog_compras] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T02:17:12.501-03:00 DEBUG 16032 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-07-28T02:17:12.504-03:00 DEBUG 16032 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-07-28T02:17:12.507-03:00 DEBUG 16032 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-07-28T02:17:12.507-03:00 DEBUG 16032 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-07-28T02:17:12.507-03:00 DEBUG 16032 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-07-28T02:17:12.509-03:00 DEBUG 16032 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-07-28T02:17:12.509-03:00 DEBUG 16032 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-07-28T02:17:12.509-03:00 DEBUG 16032 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-07-28T02:17:12.511-03:00 DEBUG 16032 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-07-28T02:17:12.512-03:00 DEBUG 16032 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-07-28T02:17:12.514-03:00 DEBUG 16032 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-07-28T02:17:12.514-03:00 DEBUG 16032 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-07-28T02:17:12.515-03:00 DEBUG 16032 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-07-28T02:17:12.516-03:00 DEBUG 16032 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-07-28T02:17:17.150-03:00  INFO 1480 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 1480 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T02:17:17.152-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T02:17:17.152-03:00  INFO 1480 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T02:17:17.237-03:00  INFO 1480 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28T02:17:17.237-03:00  INFO 1480 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28T02:17:18.908-03:00  INFO 1480 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T02:17:19.056-03:00  INFO 1480 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 134 ms. Found 13 JPA repository interfaces.
2025-07-28T02:17:20.178-03:00  INFO 1480 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T02:17:20.202-03:00  INFO 1480 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T02:17:20.202-03:00  INFO 1480 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T02:17:20.283-03:00  INFO 1480 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T02:17:20.284-03:00  INFO 1480 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3046 ms
2025-07-28T02:17:20.492-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T02:17:20.526-03:00  INFO 1480 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T02:17:20.612-03:00  INFO 1480 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-07-28T02:17:20.679-03:00  INFO 1480 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T02:17:21.102-03:00  INFO 1480 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T02:17:21.164-03:00  INFO 1480 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-28T02:17:21.366-03:00  INFO 1480 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36b61250
2025-07-28T02:17:21.373-03:00  INFO 1480 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-28T02:17:21.683-03:00  WARN 1480 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T02:17:23.406-03:00  INFO 1480 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T02:17:23.411-03:00  INFO 1480 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T02:17:23.445-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T02:17:23.467-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T02:17:23.506-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:23.568-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:23.689-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:23.732-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T02:17:23.743-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T02:17:23.748-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:23.889-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T02:17:23.963-03:00 TRACE 1480 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@4bc7e592}
2025-07-28T02:17:24.006-03:00  INFO 1480 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T02:17:24.006-03:00  WARN 1480 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T02:17:24.020-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.028-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.030-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T02:17:24.033-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T02:17:24.034-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.054-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.074-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.078-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T02:17:24.079-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T02:17:24.079-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.086-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T02:17:24.088-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T02:17:24.088-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.108-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.109-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.112-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T02:17:24.114-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T02:17:24.115-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.606-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.612-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.616-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T02:17:24.617-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T02:17:24.618-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.697-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.737-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.747-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T02:17:24.749-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T02:17:24.749-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.752-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T02:17:24.752-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T02:17:24.753-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.757-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T02:17:24.758-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T02:17:24.759-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.761-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T02:17:24.762-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T02:17:24.763-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.766-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T02:17:24.769-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T02:17:24.769-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.772-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T02:17:24.773-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T02:17:24.773-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.775-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T02:17:24.776-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T02:17:24.776-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.786-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.788-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.800-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.801-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.804-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T02:17:24.805-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T02:17:24.806-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.808-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T02:17:24.809-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T02:17:24.809-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.811-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T02:17:24.811-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T02:17:24.812-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.828-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.838-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.841-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T02:17:24.844-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T02:17:24.844-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.850-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T02:17:24.850-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T02:17:24.851-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.852-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T02:17:24.853-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T02:17:24.854-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.872-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.873-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.876-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T02:17:24.877-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T02:17:24.880-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.940-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.941-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.943-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T02:17:24.945-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T02:17:24.945-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.948-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T02:17:24.949-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T02:17:24.949-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:24.953-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T02:17:24.954-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T02:17:24.954-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:25.360-03:00 TRACE 1480 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-07-28T02:17:25.373-03:00 TRACE 1480 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
2025-07-28T02:17:25.391-03:00 TRACE 1480 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
2025-07-28T02:17:25.417-03:00 TRACE 1480 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
2025-07-28T02:17:25.426-03:00 TRACE 1480 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
2025-07-28T02:17:25.445-03:00 TRACE 1480 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
2025-07-28T02:17:25.454-03:00 TRACE 1480 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
2025-07-28T02:17:25.458-03:00 TRACE 1480 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
2025-07-28T02:17:25.468-03:00 TRACE 1480 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T02:17:25.491-03:00 TRACE 1480 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-07-28T02:17:25.496-03:00 TRACE 1480 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T02:17:25.500-03:00 TRACE 1480 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T02:17:25.507-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T02:17:25.629-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T02:17:25.699-03:00  INFO 1480 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f57a4c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@733c0d9f, org.springframework.security.web.context.SecurityContextHolderFilter@5ae4ef19, org.springframework.security.web.header.HeaderWriterFilter@42c9c53f, org.springframework.web.filter.CorsFilter@7508c181, org.springframework.security.web.authentication.logout.LogoutFilter@75fe0760, com.zlogcompras.config.JwtAuthenticationFilter@5ba70baa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31bb26c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@588c6b46, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d2845b, org.springframework.security.web.session.SessionManagementFilter@5cba5159, org.springframework.security.web.access.ExceptionTranslationFilter@82e0b2f, org.springframework.security.web.access.intercept.AuthorizationFilter@b6afbbe]
2025-07-28T02:17:25.832-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T02:17:25.872-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T02:17:26.049-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:26.054-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:26.056-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T02:17:26.057-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T02:17:26.057-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:26.064-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:26.075-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:26.079-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T02:17:26.079-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T02:17:26.080-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:26.192-03:00  INFO 1480 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T02:17:26.249-03:00  INFO 1480 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T02:17:26.267-03:00  INFO 1480 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 9.852 seconds (process running for 11.19)
2025-07-28T02:17:26.286-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:26.494-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T02:17:26.502-03:00 TRACE 1480 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T02:17:26.513-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:26.521-03:00 DEBUG 1480 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T02:17:26.522-03:00 TRACE 1480 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T02:17:26.804-03:00  INFO 1480 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-07-28T02:17:26.847-03:00  INFO 1480 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T02:17:26.858-03:00  INFO 1480 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-28T02:17:26.872-03:00  INFO 1480 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-28T02:17:44.993-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 21056 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T02:17:44.995-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T02:17:44.996-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T02:17:45.052-03:00  INFO 21056 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28T02:17:45.052-03:00  INFO 21056 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28T02:17:45.922-03:00  INFO 21056 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T02:17:46.007-03:00  INFO 21056 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75 ms. Found 13 JPA repository interfaces.
2025-07-28T02:17:46.636-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T02:17:46.649-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T02:17:46.651-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T02:17:46.700-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T02:17:46.701-03:00  INFO 21056 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1644 ms
2025-07-28T02:17:46.814-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T02:17:46.838-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T02:17:46.912-03:00  INFO 21056 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-07-28T02:17:46.946-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T02:17:47.232-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T02:17:47.259-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-28T02:17:47.413-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c41ab6f
2025-07-28T02:17:47.415-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-28T02:17:47.461-03:00  WARN 21056 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T02:17:48.477-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T02:17:48.483-03:00  INFO 21056 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T02:17:48.510-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T02:17:48.521-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T02:17:48.547-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:48.574-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:48.625-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:48.658-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T02:17:48.660-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T02:17:48.663-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:48.747-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T02:17:48.786-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@1cecea55}
2025-07-28T02:17:48.807-03:00  INFO 21056 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T02:17:48.808-03:00  WARN 21056 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T02:17:48.814-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:48.816-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:48.819-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T02:17:48.819-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T02:17:48.819-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:48.830-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:48.839-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:48.841-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T02:17:48.842-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T02:17:48.842-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:48.847-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T02:17:48.848-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T02:17:48.848-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:48.854-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:48.855-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:48.857-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T02:17:48.857-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T02:17:48.857-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.166-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.170-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.171-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T02:17:49.171-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T02:17:49.171-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.188-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.203-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.205-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T02:17:49.205-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T02:17:49.205-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.207-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T02:17:49.207-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T02:17:49.207-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.209-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T02:17:49.209-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T02:17:49.209-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.211-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T02:17:49.212-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T02:17:49.212-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.214-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T02:17:49.214-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T02:17:49.215-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.217-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T02:17:49.218-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T02:17:49.218-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.219-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T02:17:49.220-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T02:17:49.220-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.226-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.227-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.237-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.238-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.240-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T02:17:49.240-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T02:17:49.240-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.242-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T02:17:49.243-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T02:17:49.243-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.244-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T02:17:49.245-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T02:17:49.245-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.254-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.260-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.261-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T02:17:49.263-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T02:17:49.264-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.265-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T02:17:49.265-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T02:17:49.266-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.266-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T02:17:49.267-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T02:17:49.267-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.275-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.276-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.277-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T02:17:49.278-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T02:17:49.278-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.309-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.309-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.311-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T02:17:49.311-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T02:17:49.311-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.313-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T02:17:49.313-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T02:17:49.314-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.315-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T02:17:49.315-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T02:17:49.316-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:49.550-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-07-28T02:17:49.557-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-07-28T02:17:49.564-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-07-28T02:17:49.568-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
2025-07-28T02:17:49.571-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T02:17:49.574-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
2025-07-28T02:17:49.577-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{GET [/api/produtos]}: listarTodosProdutos()
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
2025-07-28T02:17:49.581-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
2025-07-28T02:17:49.586-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T02:17:49.598-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-07-28T02:17:49.602-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T02:17:49.604-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T02:17:49.606-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T02:17:49.689-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T02:17:49.734-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]
2025-07-28T02:17:49.843-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T02:17:49.883-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T02:17:50.047-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:50.050-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:50.051-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T02:17:50.053-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T02:17:50.053-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:50.058-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:50.061-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:50.063-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T02:17:50.064-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T02:17:50.065-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:50.138-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T02:17:50.168-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T02:17:50.176-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 5.774 seconds (process running for 6.368)
2025-07-28T02:17:50.185-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:50.301-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T02:17:50.309-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T02:17:50.321-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:17:50.323-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T02:17:50.325-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T02:18:28.550-03:00  INFO 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28T02:18:28.551-03:00  INFO 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-28T02:18:28.551-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-07-28T02:18:28.551-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-07-28T02:18:28.552-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-07-28T02:18:28.555-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@d4fd4b9
2025-07-28T02:18:28.556-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@23a62ccb
2025-07-28T02:18:28.557-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-28T02:18:28.557-03:00  INFO 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-07-28T02:18:28.599-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T02:18:28.600-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-07-28T02:18:28.601-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T02:18:28.601-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T02:18:28.606-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T02:18:28.609-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T02:18:28.614-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T02:18:28.628-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T02:18:28.628-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T02:18:28.629-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T02:18:28.629-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/auth/login
2025-07-28T02:18:28.630-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3ODc2NywiZXhwIjoxNzUzNzY1MTY3fQ.tbw3hjCC5CxcUlqzDsMi2XBz8SZq_t7lwU-h0nAbnAI
2025-07-28T02:18:28.908-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T02:18:28.909-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T02:18:28.910-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:18:28.918-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T02:18:28.920-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T02:18:29.022-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T02:18:29.023-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T02:18:29.076-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T02:18:29.076-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T02:18:29.079-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T02:18:29.080-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T02:18:29.080-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T02:18:29.082-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T02:18:29.084-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T02:18:29.084-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T02:18:29.085-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T02:18:29.085-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T02:18:29.085-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T02:18:29.088-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-07-28T02:18:29.089-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e32faa1ec8@167f676d
2025-07-28T02:18:29.090-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-07-28T02:18:29.094-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-07-28T02:18:29.097-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-07-28T02:18:29.178-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=MarcioSouza, password=12345678)]
2025-07-28T02:18:29.185-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-07-28T02:18:29.353-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:18:29.356-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T02:18:29.357-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T02:18:29.359-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T02:18:29.360-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T02:18:29.459-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-07-28T02:18:29.459-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:18:29.462-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T02:18:29.463-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T02:18:29.464-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T02:18:29.466-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T02:18:29.526-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T02:18:29.527-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs)]
2025-07-28T02:18:29.533-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T02:18:29.536-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T02:20:38.847-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T02:20:38.848-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/produtos
2025-07-28T02:20:38.848-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T02:20:38.848-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T02:20:38.849-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T02:20:38.849-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T02:20:38.849-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T02:20:38.849-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T02:20:38.850-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T02:20:38.850-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T02:20:38.850-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-07-28T02:20:38.850-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T02:20:38.854-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T02:20:38.875-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T02:20:38.876-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:20:38.879-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T02:20:38.881-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T02:20:38.888-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T02:20:38.889-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T02:20:38.890-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T02:20:38.890-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T02:20:38.891-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T02:20:38.891-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T02:20:38.893-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T02:20:38.893-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T02:20:38.893-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T02:20:38.893-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T02:20:38.894-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T02:20:38.894-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T02:20:38.894-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T02:20:38.894-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/produtos
2025-07-28T02:20:38.895-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-07-28T02:20:38.895-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/produtos
2025-07-28T02:20:38.895-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/produtos", parameters={}
2025-07-28T02:20:38.896-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#criarProduto(ProdutoRequestDTO)
2025-07-28T02:20:38.908-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.zlogcompras.model.dto.ProdutoRequestDTO@5581d861]
2025-07-28T02:20:38.957-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProdutoService.criarProduto]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T02:20:38.958-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(44779724<open>)] for JPA transaction
2025-07-28T02:20:38.968-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@585050d8]
2025-07-28T02:20:38.975-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(44779724<open>)] for JPA transaction
2025-07-28T02:20:38.976-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T02:20:39.054-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        produtos
        (categoria, codigo, codigo_produto, data_atualizacao, data_criacao, descricao, estoque, nome, preco_unitario, unidade_medida, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T02:20:39.057-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Eletrônicos]
2025-07-28T02:20:39.058-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [PROD001]
2025-07-28T02:20:39.059-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [SKU001]
2025-07-28T02:20:39.059-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-07-28T02:20:39.025457]
2025-07-28T02:20:39.060-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (5:TIMESTAMP) <- [2025-07-28T02:20:39.025457]
2025-07-28T02:20:39.060-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Monitor LED Dell UltraSharp U2721DE com resolução QHD]
2025-07-28T02:20:39.060-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [50]
2025-07-28T02:20:39.060-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [Monitor Dell 27 polegadas]
2025-07-28T02:20:39.061-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (9:NUMERIC) <- [1899.99]
2025-07-28T02:20:39.061-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (10:VARCHAR) <- [UN]
2025-07-28T02:20:39.063-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (11:BIGINT) <- [0]
2025-07-28T02:20:39.196-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T02:20:39.196-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(44779724<open>)]
2025-07-28T02:20:39.235-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(44779724<open>)] after transaction
2025-07-28T02:20:39.245-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T02:20:39.245-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.zlogcompras.model.Produto@75bcba94]
2025-07-28T02:20:39.255-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T02:20:39.257-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-07-28T02:28:36.963-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T02:28:36.964-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/produtos/lote
2025-07-28T02:28:36.964-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T02:28:36.964-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T02:28:36.965-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T02:28:36.965-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T02:28:36.965-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T02:28:36.988-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T02:28:36.988-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T02:28:36.989-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T02:28:36.989-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos/lote
2025-07-28T02:28:36.989-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T02:28:36.990-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T02:28:36.991-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T02:28:36.992-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:28:36.999-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T02:28:37.003-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T02:28:37.005-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T02:28:37.006-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T02:28:37.008-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T02:28:37.009-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T02:28:37.010-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T02:28:37.011-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T02:28:37.011-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T02:28:37.011-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T02:28:37.011-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T02:28:37.012-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T02:28:37.012-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T02:28:37.013-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T02:28:37.013-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T02:28:37.013-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/produtos/lote
2025-07-28T02:28:37.014-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/produtos/lote using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-07-28T02:28:37.014-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/produtos/lote
2025-07-28T02:28:37.014-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/produtos/lote", parameters={}
2025-07-28T02:28:37.014-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#criarMultiplosProdutos(List)
2025-07-28T02:28:37.020-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [[com.zlogcompras.model.dto.ProdutoRequestDTO@7fc237bc, com.zlogcompras.model.dto.ProdutoRequestDTO@2 (truncated)...]
2025-07-28T02:28:37.100-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProdutoService.criarMultiplosProdutos]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T02:28:37.100-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1749083326<open>)] for JPA transaction
2025-07-28T02:28:37.101-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@28acea31]
2025-07-28T02:28:37.101-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1749083326<open>)] for JPA transaction
2025-07-28T02:28:37.103-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T02:28:37.109-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        produtos
        (categoria, codigo, codigo_produto, data_atualizacao, data_criacao, descricao, estoque, nome, preco_unitario, unidade_medida, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T02:28:37.110-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Periféricos]
2025-07-28T02:28:37.111-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [PROD002]
2025-07-28T02:28:37.111-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [SKU002]
2025-07-28T02:28:37.111-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-07-28T02:28:37.105734]
2025-07-28T02:28:37.111-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (5:TIMESTAMP) <- [2025-07-28T02:28:37.105734]
2025-07-28T02:28:37.111-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Teclado gamer com switches azuis e iluminação RGB]
2025-07-28T02:28:37.113-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [200]
2025-07-28T02:28:37.113-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [Teclado Mecânico RGB]
2025-07-28T02:28:37.113-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (9:NUMERIC) <- [350.00]
2025-07-28T02:28:37.114-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (10:VARCHAR) <- [UN]
2025-07-28T02:28:37.114-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (11:BIGINT) <- [0]
2025-07-28T02:28:37.122-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        produtos
        (categoria, codigo, codigo_produto, data_atualizacao, data_criacao, descricao, estoque, nome, preco_unitario, unidade_medida, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T02:28:37.124-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Periféricos]
2025-07-28T02:28:37.124-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [PROD003]
2025-07-28T02:28:37.124-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [SKU003]
2025-07-28T02:28:37.125-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-07-28T02:28:37.122390300]
2025-07-28T02:28:37.125-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (5:TIMESTAMP) <- [2025-07-28T02:28:37.122390300]
2025-07-28T02:28:37.125-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Mouse óptico com design ergonômico e bateria de longa duração]
2025-07-28T02:28:37.125-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [250]
2025-07-28T02:28:37.125-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [Mouse Sem Fio Ergonômico]
2025-07-28T02:28:37.126-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (9:NUMERIC) <- [120.50]
2025-07-28T02:28:37.126-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (10:VARCHAR) <- [UN]
2025-07-28T02:28:37.126-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (11:BIGINT) <- [0]
2025-07-28T02:28:37.129-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        produtos
        (categoria, codigo, codigo_produto, data_atualizacao, data_criacao, descricao, estoque, nome, preco_unitario, unidade_medida, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T02:28:37.130-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Eletrônicos]
2025-07-28T02:28:37.130-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [PROD004]
2025-07-28T02:28:37.131-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [SKU004]
2025-07-28T02:28:37.131-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-07-28T02:28:37.128967300]
2025-07-28T02:28:37.131-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (5:TIMESTAMP) <- [2025-07-28T02:28:37.128967300]
2025-07-28T02:28:37.131-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Webcam para videoconferências com microfone embutido]
2025-07-28T02:28:37.133-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [100]
2025-07-28T02:28:37.133-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [Webcam Full HD]
2025-07-28T02:28:37.133-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (9:NUMERIC) <- [280.00]
2025-07-28T02:28:37.133-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (10:VARCHAR) <- [UN]
2025-07-28T02:28:37.134-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (11:BIGINT) <- [0]
2025-07-28T02:28:37.137-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        produtos
        (categoria, codigo, codigo_produto, data_atualizacao, data_criacao, descricao, estoque, nome, preco_unitario, unidade_medida, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T02:28:37.138-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Áudio]
2025-07-28T02:28:37.139-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [PROD005]
2025-07-28T02:28:37.139-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [SKU005]
2025-07-28T02:28:37.140-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-07-28T02:28:37.136398400]
2025-07-28T02:28:37.140-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (5:TIMESTAMP) <- [2025-07-28T02:28:37.136398400]
2025-07-28T02:28:37.140-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Fone de ouvido over-ear com cancelamento de ruído]
2025-07-28T02:28:37.140-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [180]
2025-07-28T02:28:37.141-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [Fone de Ouvido Bluetooth]
2025-07-28T02:28:37.141-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (9:NUMERIC) <- [450.00]
2025-07-28T02:28:37.141-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (10:VARCHAR) <- [UN]
2025-07-28T02:28:37.141-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (11:BIGINT) <- [0]
2025-07-28T02:28:37.144-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        produtos
        (categoria, codigo, codigo_produto, data_atualizacao, data_criacao, descricao, estoque, nome, preco_unitario, unidade_medida, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T02:28:37.145-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Componentes]
2025-07-28T02:28:37.145-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [PROD006]
2025-07-28T02:28:37.145-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [SKU006]
2025-07-28T02:28:37.146-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-07-28T02:28:37.142994500]
2025-07-28T02:28:37.146-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (5:TIMESTAMP) <- [2025-07-28T02:28:37.142994500]
2025-07-28T02:28:37.146-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Armazenamento de alta velocidade para notebooks e desktops]
2025-07-28T02:28:37.147-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [90]
2025-07-28T02:28:37.147-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [SSD 1TB NVMe]
2025-07-28T02:28:37.147-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (9:NUMERIC) <- [700.00]
2025-07-28T02:28:37.147-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (10:VARCHAR) <- [UN]
2025-07-28T02:28:37.147-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (11:BIGINT) <- [0]
2025-07-28T02:28:37.150-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        produtos
        (categoria, codigo, codigo_produto, data_atualizacao, data_criacao, descricao, estoque, nome, preco_unitario, unidade_medida, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T02:28:37.151-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Redes]
2025-07-28T02:28:37.153-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [PROD007]
2025-07-28T02:28:37.153-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [SKU007]
2025-07-28T02:28:37.153-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-07-28T02:28:37.150728300]
2025-07-28T02:28:37.153-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (5:TIMESTAMP) <- [2025-07-28T02:28:37.150728300]
2025-07-28T02:28:37.153-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Roteador dual-band para redes de alta performance]
2025-07-28T02:28:37.153-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [70]
2025-07-28T02:28:37.153-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [Roteador Wi-Fi 6]
2025-07-28T02:28:37.153-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (9:NUMERIC) <- [550.00]
2025-07-28T02:28:37.153-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (10:VARCHAR) <- [UN]
2025-07-28T02:28:37.153-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (11:BIGINT) <- [0]
2025-07-28T02:28:37.153-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        produtos
        (categoria, codigo, codigo_produto, data_atualizacao, data_criacao, descricao, estoque, nome, preco_unitario, unidade_medida, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T02:28:37.153-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Escritório]
2025-07-28T02:28:37.153-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [PROD008]
2025-07-28T02:28:37.153-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [SKU008]
2025-07-28T02:28:37.153-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-07-28T02:28:37.153374800]
2025-07-28T02:28:37.153-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (5:TIMESTAMP) <- [2025-07-28T02:28:37.153374800]
2025-07-28T02:28:37.153-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Impressora jato de tinta com scanner e copiadora]
2025-07-28T02:28:37.163-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [60]
2025-07-28T02:28:37.163-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [Impressora Multifuncional]
2025-07-28T02:28:37.164-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (9:NUMERIC) <- [600.00]
2025-07-28T02:28:37.164-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (10:VARCHAR) <- [UN]
2025-07-28T02:28:37.164-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (11:BIGINT) <- [0]
2025-07-28T02:28:37.186-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        produtos
        (categoria, codigo, codigo_produto, data_atualizacao, data_criacao, descricao, estoque, nome, preco_unitario, unidade_medida, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T02:28:37.188-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Acessórios]
2025-07-28T02:28:37.188-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [PROD009]
2025-07-28T02:28:37.189-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [SKU009]
2025-07-28T02:28:37.190-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-07-28T02:28:37.186568]
2025-07-28T02:28:37.190-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (5:TIMESTAMP) <- [2025-07-28T02:28:37.186568]
2025-07-28T02:28:37.191-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Cabo HDMI de alta velocidade para 4K/8K]
2025-07-28T02:28:37.191-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [300]
2025-07-28T02:28:37.191-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [Cabo HDMI 2.1]
2025-07-28T02:28:37.191-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (9:NUMERIC) <- [50.00]
2025-07-28T02:28:37.191-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (10:VARCHAR) <- [UN]
2025-07-28T02:28:37.193-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (11:BIGINT) <- [0]
2025-07-28T02:28:37.198-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        produtos
        (categoria, codigo, codigo_produto, data_atualizacao, data_criacao, descricao, estoque, nome, preco_unitario, unidade_medida, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T02:28:37.199-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Acessórios]
2025-07-28T02:28:37.199-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [PROD010]
2025-07-28T02:28:37.199-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [SKU010]
2025-07-28T02:28:37.200-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-07-28T02:28:37.197354]
2025-07-28T02:28:37.200-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (5:TIMESTAMP) <- [2025-07-28T02:28:37.197354]
2025-07-28T02:28:37.200-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Adaptador para conectar dispositivos USB-C a monitores HDMI]
2025-07-28T02:28:37.201-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [220]
2025-07-28T02:28:37.201-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [Adaptador USB-C para HDMI]
2025-07-28T02:28:37.201-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (9:NUMERIC) <- [80.00]
2025-07-28T02:28:37.201-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (10:VARCHAR) <- [UN]
2025-07-28T02:28:37.203-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (11:BIGINT) <- [0]
2025-07-28T02:28:37.205-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    insert 
    into
        produtos
        (categoria, codigo, codigo_produto, data_atualizacao, data_criacao, descricao, estoque, nome, preco_unitario, unidade_medida, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T02:28:37.207-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Eletrônicos]
2025-07-28T02:28:37.207-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [PROD011]
2025-07-28T02:28:37.208-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [SKU011]
2025-07-28T02:28:37.208-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-07-28T02:28:37.205869500]
2025-07-28T02:28:37.209-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (5:TIMESTAMP) <- [2025-07-28T02:28:37.205869500]
2025-07-28T02:28:37.210-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Monitor Full HD com tela curva e alta taxa de atualização]
2025-07-28T02:28:37.210-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [100]
2025-07-28T02:28:37.211-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [Monitor LED 27 polegadas]
2025-07-28T02:28:37.211-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (9:NUMERIC) <- [1200.00]
2025-07-28T02:28:37.211-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (10:VARCHAR) <- [UN]
2025-07-28T02:28:37.213-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (11:BIGINT) <- [0]
2025-07-28T02:28:37.215-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T02:28:37.215-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1749083326<open>)]
2025-07-28T02:28:37.236-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1749083326<open>)] after transaction
2025-07-28T02:28:37.240-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T02:28:37.241-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@69d692fc, com.zlogcompras.model.Produto@2cf40b6b, com.zlogcompras.model.Produto@3dee23af, com.zlogcompras.model.Produto@7c69b644, com.zlogcompras.model.Produto@4c5bb02f, com.zlogcompras.model.Produto@219faa3f, com.zlogcompras.model.Produto@20e148f, com.zlogcompras.model.Produto@5320e804, com.zlogcompras.model.Produto@4160de48, com.zlogcompras.model.Produto@7d05f1cc]]
2025-07-28T02:28:37.243-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T02:28:37.245-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-07-28T02:29:17.981-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T02:29:17.981-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-07-28T02:29:17.983-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T02:29:17.983-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T02:29:17.983-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T02:29:17.983-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T02:29:17.984-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T02:29:17.984-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T02:29:17.984-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T02:29:17.984-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T02:29:17.984-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-07-28T02:29:17.985-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T02:29:17.986-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T02:29:17.986-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T02:29:17.987-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:29:17.997-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T02:29:18.011-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T02:29:18.015-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T02:29:18.016-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T02:29:18.018-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T02:29:18.018-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T02:29:18.022-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T02:29:18.026-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T02:29:18.026-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T02:29:18.026-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T02:29:18.026-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T02:29:18.026-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T02:29:18.027-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T02:29:18.027-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T02:29:18.027-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T02:29:18.027-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-07-28T02:29:18.027-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-07-28T02:29:18.028-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-07-28T02:29:18.028-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-07-28T02:29:18.028-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-07-28T02:29:18.029-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-28T02:29:18.030-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(462998353<open>)] for JPA transaction
2025-07-28T02:29:18.064-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1342c6a8]
2025-07-28T02:29:18.076-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-07-28T02:29:18.091-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T02:29:18.091-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(462998353<open>)]
2025-07-28T02:29:18.094-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(462998353<open>)] after transaction
2025-07-28T02:29:18.096-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T02:29:18.097-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@1b9178cb, com.zlogcompras.model.Produto@288b9bee, com.zlogcompras.model.Produto@777fb095, com.zlogcompras.model.Produto@72d0cc97, com.zlogcompras.model.Produto@6217a526, com.zlogcompras.model.Produto@16371661, com.zlogcompras.model.Produto@1c46f72a, com.zlogcompras.model.Produto@68862441, com.zlogcompras.model.Produto@376792e2, com.zlogcompras.model.Produto@194d0e71, com.zlogcompras.model.Produto@321945d5]]
2025-07-28T02:29:18.099-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T02:29:18.101-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T02:29:44.427-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T02:29:44.428-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos/2
2025-07-28T02:29:44.428-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T02:29:44.429-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T02:29:44.429-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T02:29:44.429-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T02:29:44.429-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T02:29:44.430-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T02:29:44.430-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T02:29:44.430-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T02:29:44.431-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos/2
2025-07-28T02:29:44.431-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T02:29:44.433-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T02:29:44.433-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T02:29:44.433-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:29:44.435-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T02:29:44.438-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T02:29:44.439-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T02:29:44.441-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T02:29:44.444-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T02:29:44.444-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T02:29:44.445-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T02:29:44.445-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T02:29:44.446-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T02:29:44.446-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T02:29:44.446-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T02:29:44.446-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T02:29:44.446-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T02:29:44.448-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T02:29:44.448-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T02:29:44.448-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos/2
2025-07-28T02:29:44.448-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos/2 using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-07-28T02:29:44.449-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos/2
2025-07-28T02:29:44.449-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos/2", parameters={}
2025-07-28T02:29:44.449-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#buscarProdutoPorId(Long)
2025-07-28T02:29:44.451-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-28T02:29:44.451-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1869903564<open>)] for JPA transaction
2025-07-28T02:29:44.453-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4d0db396]
2025-07-28T02:29:44.464-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T02:29:44.465-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T02:29:44.467-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T02:29:44.467-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1869903564<open>)]
2025-07-28T02:29:44.469-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1869903564<open>)] after transaction
2025-07-28T02:29:44.469-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T02:29:44.470-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.zlogcompras.model.Produto@61a1f282]
2025-07-28T02:29:44.471-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T02:29:44.471-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T02:46:52.073-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T02:46:52.075-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos/3
2025-07-28T02:46:52.076-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T02:46:52.076-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T02:46:52.076-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T02:46:52.076-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T02:46:52.076-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T02:46:52.076-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T02:46:52.076-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T02:46:52.076-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T02:46:52.076-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos/3
2025-07-28T02:46:52.076-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T02:46:52.076-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T02:46:52.076-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T02:46:52.076-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:46:52.085-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T02:46:52.087-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T02:46:52.091-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T02:46:52.092-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T02:46:52.094-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T02:46:52.094-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T02:46:52.095-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T02:46:52.095-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T02:46:52.096-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T02:46:52.096-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T02:46:52.096-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T02:46:52.096-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T02:46:52.097-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T02:46:52.097-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T02:46:52.098-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T02:46:52.098-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos/3
2025-07-28T02:46:52.098-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos/3 using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-07-28T02:46:52.100-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos/3
2025-07-28T02:46:52.100-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos/3", parameters={}
2025-07-28T02:46:52.102-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#buscarProdutoPorId(Long)
2025-07-28T02:46:52.108-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-28T02:46:52.109-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(526131995<open>)] for JPA transaction
2025-07-28T02:46:52.110-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@9afc271]
2025-07-28T02:46:52.111-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T02:46:52.113-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T02:46:52.117-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T02:46:52.117-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(526131995<open>)]
2025-07-28T02:46:52.118-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(526131995<open>)] after transaction
2025-07-28T02:46:52.119-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T02:46:52.121-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.zlogcompras.model.Produto@6c2fa4f2]
2025-07-28T02:46:52.122-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T02:46:52.125-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T02:49:16.258-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T02:49:16.259-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /api/produtos/3
2025-07-28T02:49:16.260-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T02:49:16.260-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T02:49:16.260-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T02:49:16.260-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T02:49:16.260-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T02:49:16.266-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T02:49:16.267-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T02:49:16.267-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T02:49:16.267-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos/3
2025-07-28T02:49:16.267-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T02:49:16.268-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T02:49:16.268-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T02:49:16.269-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:49:16.271-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T02:49:16.272-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T02:49:16.282-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T02:49:16.282-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T02:49:16.288-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T02:49:16.289-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T02:49:16.290-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T02:49:16.291-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T02:49:16.291-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T02:49:16.291-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T02:49:16.291-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T02:49:16.291-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T02:49:16.292-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T02:49:16.292-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T02:49:16.292-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T02:49:16.292-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/produtos/3
2025-07-28T02:49:16.292-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/produtos/3 using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-07-28T02:49:16.292-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /api/produtos/3
2025-07-28T02:49:16.293-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/api/produtos/3", parameters={}
2025-07-28T02:49:16.295-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#atualizarProduto(Long, ProdutoRequestDTO)
2025-07-28T02:49:16.307-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.method.HandlerMethod             : Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<com.zlogcompras.model.Produto> com.zlogcompras.controller.ProdutoController.atualizarProduto(java.lang.Long,com.zlogcompras.model.dto.ProdutoRequestDTO): JSON parse error: Cannot construct instance of `com.zlogcompras.model.dto.ProdutoRequestDTO` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('codigo')
2025-07-28T02:49:16.315-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T02:49:16.317-03:00  WARN 21056 --- [zlog_compras] [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.zlogcompras.model.dto.ProdutoRequestDTO` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('codigo')]
2025-07-28T02:49:16.318-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-07-28T02:49:16.345-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T02:49:16.346-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T02:49:16.346-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-07-28T02:49:16.347-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T02:49:16.347-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T02:49:16.347-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T02:49:16.347-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T02:49:16.348-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T02:49:16.348-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T02:49:16.348-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T02:49:16.348-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T02:49:16.349-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T02:49:16.349-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T02:49:16.350-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T02:49:16.350-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T02:49:16.350-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T02:49:16.351-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T02:49:16.351-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing PUT /error
2025-07-28T02:49:16.351-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e32faa1ec8@167f676d
2025-07-28T02:49:16.351-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-07-28T02:49:16.351-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-07-28T02:49:16.352-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T02:49:16.352-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T02:49:16.366-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T02:49:16.367-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 02:49:16 BRT 2025, status=400, error=Bad Request, trace=org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.zlogcompras.model.dto.ProdutoRequestDTO` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('codigo')
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:406)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:354)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:184)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:161)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:135)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:224)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:178)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.zlogcompras.model.dto.ProdutoRequestDTO` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('codigo')
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 3]
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1754)
	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1379)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer._deserializeFromString(StdDeserializer.java:311)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromString(BeanDeserializerBase.java:1588)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:197)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2125)
	at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1501)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:395)
	... 104 more
, message=JSON parse error: Cannot construct instance of `com.zlogcompras.model.dto.ProdutoRequestDTO` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('codigo'), path=/api/produtos/3}]
2025-07-28T02:49:16.385-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 400
2025-07-28T02:49:16.385-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T02:49:16.386-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T02:51:05.782-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T02:51:05.782-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing PUT /api/produtos/3
2025-07-28T02:51:05.782-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T02:51:05.784-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T02:51:05.784-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T02:51:05.784-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T02:51:05.785-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T02:51:05.785-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T02:51:05.785-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T02:51:05.785-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T02:51:05.785-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos/3
2025-07-28T02:51:05.785-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T02:51:05.786-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T02:51:05.787-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T02:51:05.787-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:51:05.789-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T02:51:05.791-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T02:51:05.793-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T02:51:05.794-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T02:51:05.796-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T02:51:05.797-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T02:51:05.797-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T02:51:05.799-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T02:51:05.799-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T02:51:05.799-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T02:51:05.800-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T02:51:05.800-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T02:51:05.800-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T02:51:05.800-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T02:51:05.800-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T02:51:05.801-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/produtos/3
2025-07-28T02:51:05.801-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/produtos/3 using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-07-28T02:51:05.801-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured PUT /api/produtos/3
2025-07-28T02:51:05.802-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : PUT "/api/produtos/3", parameters={}
2025-07-28T02:51:05.802-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#atualizarProduto(Long, ProdutoRequestDTO)
2025-07-28T02:51:05.803-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.method.HandlerMethod             : Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<com.zlogcompras.model.Produto> com.zlogcompras.controller.ProdutoController.atualizarProduto(java.lang.Long,com.zlogcompras.model.dto.ProdutoRequestDTO): JSON parse error: Cannot construct instance of `com.zlogcompras.model.dto.ProdutoRequestDTO` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('codigoProduto')
2025-07-28T02:51:05.803-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T02:51:05.804-03:00  WARN 21056 --- [zlog_compras] [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.zlogcompras.model.dto.ProdutoRequestDTO` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('codigoProduto')]
2025-07-28T02:51:05.804-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-07-28T02:51:05.805-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T02:51:05.806-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T02:51:05.806-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-07-28T02:51:05.807-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T02:51:05.807-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T02:51:05.807-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T02:51:05.807-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T02:51:05.808-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T02:51:05.808-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T02:51:05.808-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T02:51:05.808-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T02:51:05.808-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T02:51:05.808-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T02:51:05.809-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T02:51:05.809-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T02:51:05.809-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T02:51:05.809-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T02:51:05.810-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing PUT /error
2025-07-28T02:51:05.810-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e32faa1ec8@167f676d
2025-07-28T02:51:05.810-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-07-28T02:51:05.810-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-07-28T02:51:05.811-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T02:51:05.811-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T02:51:05.813-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T02:51:05.815-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 02:51:05 BRT 2025, status=400, error=Bad Request, trace=org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.zlogcompras.model.dto.ProdutoRequestDTO` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('codigoProduto')
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:406)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:354)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:184)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:161)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:135)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:224)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:178)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.zlogcompras.model.dto.ProdutoRequestDTO` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('codigoProduto')
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 3]
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1754)
	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1379)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer._deserializeFromString(StdDeserializer.java:311)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromString(BeanDeserializerBase.java:1588)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:197)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2125)
	at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1501)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:395)
	... 104 more
, message=JSON parse error: Cannot construct instance of `com.zlogcompras.model.dto.ProdutoRequestDTO` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('codigoProduto'), path=/api/produtos/3}]
2025-07-28T02:51:05.819-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 400
2025-07-28T02:51:05.820-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T02:51:05.820-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T02:53:11.797-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T02:53:11.797-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/produtos/2
2025-07-28T02:53:11.797-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T02:53:11.798-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T02:53:11.799-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T02:53:11.799-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T02:53:11.799-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T02:53:11.805-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T02:53:11.807-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T02:53:11.807-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T02:53:11.807-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos/2
2025-07-28T02:53:11.807-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T02:53:11.809-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T02:53:11.809-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T02:53:11.809-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:53:11.813-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T02:53:11.814-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T02:53:11.827-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T02:53:11.828-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T02:53:11.829-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T02:53:11.830-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T02:53:11.832-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T02:53:11.833-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T02:53:11.833-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T02:53:11.833-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T02:53:11.833-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T02:53:11.834-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T02:53:11.834-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T02:53:11.834-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T02:53:11.834-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T02:53:11.834-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/produtos/2
2025-07-28T02:53:11.834-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/produtos/2 using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-07-28T02:53:11.835-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/produtos/2
2025-07-28T02:53:11.835-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/api/produtos/2", parameters={}
2025-07-28T02:53:11.835-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#atualizarProduto(Long, ProdutoRequestDTO)
2025-07-28T02:53:11.837-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.zlogcompras.model.dto.ProdutoRequestDTO@39a9956b]
2025-07-28T02:53:11.855-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProdutoService.atualizarProduto]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T02:53:11.856-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(20653247<open>)] for JPA transaction
2025-07-28T02:53:11.857-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4be346c6]
2025-07-28T02:53:11.858-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(20653247<open>)] for JPA transaction
2025-07-28T02:53:11.858-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T02:53:11.860-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T02:53:11.861-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T02:53:11.868-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(20653247<open>)] for JPA transaction
2025-07-28T02:53:11.869-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T02:53:11.880-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T02:53:11.880-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(20653247<open>)]
2025-07-28T02:53:11.903-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    update
        produtos 
    set
        categoria=?,
        codigo=?,
        codigo_produto=?,
        data_atualizacao=?,
        descricao=?,
        estoque=?,
        nome=?,
        preco_unitario=?,
        unidade_medida=?,
        version=? 
    where
        id=? 
        and version=?
2025-07-28T02:53:11.904-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [Periféricos]
2025-07-28T02:53:11.906-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [PROD002]
2025-07-28T02:53:11.906-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [SKU002]
2025-07-28T02:53:11.906-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-07-28T02:53:11.884827900]
2025-07-28T02:53:11.907-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [Teclado gamer de alta performance com switches ópticos e iluminação RGB customizável]
2025-07-28T02:53:11.907-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (6:INTEGER) <- [190]
2025-07-28T02:53:11.907-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (7:VARCHAR) <- [Teclado Mecânico Gamer Pro]
2025-07-28T02:53:11.907-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (8:NUMERIC) <- [420.00]
2025-07-28T02:53:11.908-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (9:VARCHAR) <- [UN]
2025-07-28T02:53:11.908-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (10:BIGINT) <- [1]
2025-07-28T02:53:11.909-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (11:BIGINT) <- [2]
2025-07-28T02:53:11.909-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (12:BIGINT) <- [0]
2025-07-28T02:53:11.972-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(20653247<open>)] after transaction
2025-07-28T02:53:11.972-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T02:53:11.974-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.zlogcompras.model.Produto@4be9ff61]
2025-07-28T02:53:11.975-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T02:53:11.977-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T02:57:26.111-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T02:57:26.112-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/produtos
2025-07-28T02:57:26.112-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T02:57:26.112-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T02:57:26.112-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T02:57:26.114-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T02:57:26.114-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T02:57:26.114-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T02:57:26.116-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T02:57:26.116-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T02:57:26.117-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/produtos
2025-07-28T02:57:26.119-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T02:57:26.120-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T02:57:26.121-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T02:57:26.121-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:57:26.124-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T02:57:26.127-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T02:57:26.129-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T02:57:26.130-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T02:57:26.132-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T02:57:26.132-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T02:57:26.134-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T02:57:26.135-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T02:57:26.135-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T02:57:26.135-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T02:57:26.136-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T02:57:26.136-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T02:57:26.136-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T02:57:26.136-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T02:57:26.136-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T02:57:26.136-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/produtos
2025-07-28T02:57:26.137-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/produtos using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_USER]]
2025-07-28T02:57:26.137-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/produtos
2025-07-28T02:57:26.137-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/produtos", parameters={}
2025-07-28T02:57:26.138-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProdutoController#listarTodosProdutos()
2025-07-28T02:57:26.138-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-28T02:57:26.138-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(596809604<open>)] for JPA transaction
2025-07-28T02:57:26.140-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3d938edb]
2025-07-28T02:57:26.141-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0
2025-07-28T02:57:26.148-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T02:57:26.148-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(596809604<open>)]
2025-07-28T02:57:26.149-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(596809604<open>)] after transaction
2025-07-28T02:57:26.150-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T02:57:26.150-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.Produto@3a648b4b, com.zlogcompras.model.Produto@1f0bebd, com.zlogcompras.model.Produto@237e2ae5, com.zlogcompras.model.Produto@5610775e, com.zlogcompras.model.Produto@48b09004, com.zlogcompras.model.Produto@4c31daf9, com.zlogcompras.model.Produto@1e4af898, com.zlogcompras.model.Produto@4b35d688, com.zlogcompras.model.Produto@7494f5a, com.zlogcompras.model.Produto@456dab58, com.zlogcompras.model.Produto@caa1555]]
2025-07-28T02:57:26.151-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T02:57:26.152-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T02:59:35.689-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T02:59:35.690-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/estoques
2025-07-28T02:59:35.690-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T02:59:35.690-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T02:59:35.690-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T02:59:35.690-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T02:59:35.691-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T02:59:35.691-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T02:59:35.712-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T02:59:35.716-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T02:59:35.716-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/estoques
2025-07-28T02:59:35.718-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T02:59:35.719-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T02:59:35.719-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T02:59:35.720-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T02:59:35.722-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T02:59:35.727-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T02:59:35.729-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T02:59:35.730-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T02:59:35.732-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T02:59:35.732-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T02:59:35.734-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T02:59:35.734-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T02:59:35.734-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T02:59:35.734-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T02:59:35.734-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T02:59:35.735-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T02:59:35.735-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T02:59:35.735-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T02:59:35.735-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T02:59:35.735-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/estoques
2025-07-28T02:59:35.736-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/estoques using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T02:59:35.736-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/estoques
2025-07-28T02:59:35.736-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/estoques", parameters={}
2025-07-28T02:59:35.736-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.EstoqueController#criarEstoque(EstoqueRequestDTO)
2025-07-28T02:59:35.754-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.zlogcompras.model.dto.EstoqueRequestDTO@29e7cc15]
2025-07-28T02:59:35.759-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.EstoqueService.criarEstoque]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T02:59:35.760-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1116905368<open>)] for JPA transaction
2025-07-28T02:59:35.761-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1af4a97a]
2025-07-28T02:59:35.761-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1116905368<open>)] for JPA transaction
2025-07-28T02:59:35.761-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T02:59:35.761-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T02:59:35.763-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [11]
2025-07-28T02:59:35.781-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1116905368<open>)] for JPA transaction
2025-07-28T02:59:35.782-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T02:59:35.797-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        estoque
        (data_atualizacao, data_criacao, data_ultima_entrada, data_ultima_saida, localizacao, observacoes, produto_id, quantidade, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T02:59:35.798-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T02:59:35.786878400]
2025-07-28T02:59:35.800-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T02:59:35.786878400]
2025-07-28T02:59:35.800-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (3:TIMESTAMP) <- [2025-07-28T05:10]
2025-07-28T02:59:35.801-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [null]
2025-07-28T02:59:35.802-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [ARMAZEM_A_PRATELEIRA_3]
2025-07-28T02:59:35.802-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Estoque inicial do Monitor LED 27 polegadas]
2025-07-28T02:59:35.803-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [11]
2025-07-28T02:59:35.803-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (8:INTEGER) <- [100]
2025-07-28T02:59:35.804-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [0]
2025-07-28T02:59:36.018-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T02:59:36.019-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1116905368<open>)]
2025-07-28T02:59:36.027-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1116905368<open>)] after transaction
2025-07-28T02:59:36.032-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T02:59:36.034-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.zlogcompras.model.dto.EstoqueResponseDTO@5402989f]
2025-07-28T02:59:36.035-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T02:59:36.036-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-07-28T03:08:26.339-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:08:26.340-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/estoques/batch
2025-07-28T03:08:26.340-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:08:26.340-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:08:26.340-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:08:26.341-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:08:26.341-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:08:26.341-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:08:26.342-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:08:26.342-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:08:26.342-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/estoques/batch
2025-07-28T03:08:26.342-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:08:26.344-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:08:26.344-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:08:26.345-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:08:26.351-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:08:26.353-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:08:26.356-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:08:26.357-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:08:26.361-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:08:26.361-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:08:26.362-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:08:26.362-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:08:26.362-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:08:26.362-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:08:26.364-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:08:26.364-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:08:26.364-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:08:26.364-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:08:26.364-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:08:26.365-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/estoques/batch
2025-07-28T03:08:26.365-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/estoques/batch using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:08:26.365-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/estoques/batch
2025-07-28T03:08:26.365-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/estoques/batch", parameters={}
2025-07-28T03:08:26.365-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.EstoqueController#criarMultiplosEstoques(List)
2025-07-28T03:08:26.369-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [[com.zlogcompras.model.dto.EstoqueRequestDTO@7df3adb1, com.zlogcompras.model.dto.EstoqueRequestDTO@4 (truncated)...]
2025-07-28T03:08:26.405-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.EstoqueService.criarMultiplosEstoques]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T03:08:26.407-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1321069885<open>)] for JPA transaction
2025-07-28T03:08:26.408-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4ed22c07]
2025-07-28T03:08:26.410-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1321069885<open>)] for JPA transaction
2025-07-28T03:08:26.410-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:08:26.412-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:08:26.413-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:08:26.417-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1321069885<open>)] for JPA transaction
2025-07-28T03:08:26.417-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:08:26.418-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:08:26.420-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T03:08:26.422-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1321069885<open>)] for JPA transaction
2025-07-28T03:08:26.423-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:08:26.423-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:08:26.425-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T03:08:26.426-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1321069885<open>)] for JPA transaction
2025-07-28T03:08:26.426-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:08:26.426-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:08:26.426-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-07-28T03:08:26.426-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1321069885<open>)] for JPA transaction
2025-07-28T03:08:26.426-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:08:26.434-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:08:26.434-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-07-28T03:08:26.434-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1321069885<open>)] for JPA transaction
2025-07-28T03:08:26.434-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:08:26.445-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        estoque
        (data_atualizacao, data_criacao, data_ultima_entrada, data_ultima_saida, localizacao, observacoes, produto_id, quantidade, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:08:26.446-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T03:08:26.443070600]
2025-07-28T03:08:26.446-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T03:08:26.443070600]
2025-07-28T03:08:26.447-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (3:TIMESTAMP) <- [2025-07-28T10:00]
2025-07-28T03:08:26.447-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [null]
2025-07-28T03:08:26.447-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [ARMAZEM_A_SETOR_1]
2025-07-28T03:08:26.447-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Reabastecimento para PROD001]
2025-07-28T03:08:26.449-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [1]
2025-07-28T03:08:26.449-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (8:INTEGER) <- [80]
2025-07-28T03:08:26.449-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [0]
2025-07-28T03:08:26.454-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        estoque
        (data_atualizacao, data_criacao, data_ultima_entrada, data_ultima_saida, localizacao, observacoes, produto_id, quantidade, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:08:26.454-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T03:08:26.453541400]
2025-07-28T03:08:26.455-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T03:08:26.453541400]
2025-07-28T03:08:26.456-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (3:TIMESTAMP) <- [2025-07-28T10:30]
2025-07-28T03:08:26.456-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [null]
2025-07-28T03:08:26.456-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [ARMAZEM_B_SETOR_2]
2025-07-28T03:08:26.456-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Estoque inicial de Teclado Mecânico]
2025-07-28T03:08:26.457-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [2]
2025-07-28T03:08:26.457-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (8:INTEGER) <- [50]
2025-07-28T03:08:26.457-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [0]
2025-07-28T03:08:26.480-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        estoque
        (data_atualizacao, data_criacao, data_ultima_entrada, data_ultima_saida, localizacao, observacoes, produto_id, quantidade, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:08:26.481-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T03:08:26.479889400]
2025-07-28T03:08:26.481-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T03:08:26.479889400]
2025-07-28T03:08:26.481-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (3:TIMESTAMP) <- [2025-07-28T11:00]
2025-07-28T03:08:26.481-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [null]
2025-07-28T03:08:26.482-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [LOJA_PRINCIPAL_DISPLAY]
2025-07-28T03:08:26.482-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Estoque para exposição]
2025-07-28T03:08:26.482-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [3]
2025-07-28T03:08:26.482-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (8:INTEGER) <- [120]
2025-07-28T03:08:26.482-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [0]
2025-07-28T03:08:26.499-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        estoque
        (data_atualizacao, data_criacao, data_ultima_entrada, data_ultima_saida, localizacao, observacoes, produto_id, quantidade, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:08:26.500-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T03:08:26.499193900]
2025-07-28T03:08:26.501-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T03:08:26.499193900]
2025-07-28T03:08:26.501-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (3:TIMESTAMP) <- [2025-07-28T11:15]
2025-07-28T03:08:26.501-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [null]
2025-07-28T03:08:26.502-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [ARMAZEM_A_SETOR_1]
2025-07-28T03:08:26.502-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Novo lote de Webcams]
2025-07-28T03:08:26.502-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [4]
2025-07-28T03:08:26.502-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (8:INTEGER) <- [30]
2025-07-28T03:08:26.502-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [0]
2025-07-28T03:08:26.504-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        estoque
        (data_atualizacao, data_criacao, data_ultima_entrada, data_ultima_saida, localizacao, observacoes, produto_id, quantidade, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:08:26.505-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T03:08:26.504621400]
2025-07-28T03:08:26.507-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T03:08:26.504621400]
2025-07-28T03:08:26.507-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (3:TIMESTAMP) <- [2025-07-28T11:45]
2025-07-28T03:08:26.507-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [null]
2025-07-28T03:08:26.507-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [ARMAZEM_C_AREA_F]
2025-07-28T03:08:26.507-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Estoque de Fones de Ouvido]
2025-07-28T03:08:26.508-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [5]
2025-07-28T03:08:26.508-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (8:INTEGER) <- [75]
2025-07-28T03:08:26.508-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [0]
2025-07-28T03:08:26.513-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:08:26.514-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1321069885<open>)]
2025-07-28T03:08:26.521-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1321069885<open>)] after transaction
2025-07-28T03:08:26.521-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:08:26.522-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.dto.EstoqueResponseDTO@308d34d6, com.zlogcompras.model.dto.EstoqueResponseDTO@7afa2626, com.zlogcompras.model.dto.EstoqueResponseDTO@1ac32703, com.zlogcompras.model.dto.EstoqueResponseDTO@2f69c7b8, com.zlogcompras.model.dto.EstoqueResponseDTO@769b6d07]]
2025-07-28T03:08:26.523-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:08:26.527-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-07-28T03:09:33.781-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:09:33.792-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/estoques/produto/1
2025-07-28T03:09:33.792-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:09:33.793-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:09:33.793-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:09:33.793-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:09:33.793-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:09:33.793-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:09:33.793-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:09:33.794-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:09:33.794-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/estoques/produto/1
2025-07-28T03:09:33.794-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:09:33.795-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:09:33.796-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:09:33.796-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:09:33.805-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:09:33.807-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:09:33.809-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:09:33.809-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:09:33.811-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:09:33.811-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:09:33.813-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:09:33.813-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:09:33.813-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:09:33.813-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:09:33.813-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:09:33.813-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:09:33.813-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:09:33.813-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:09:33.813-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:09:33.813-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/estoques/produto/1
2025-07-28T03:09:33.814-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/estoques/produto/1 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:09:33.814-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/estoques/produto/1
2025-07-28T03:09:33.814-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/estoques/produto/1", parameters={}
2025-07-28T03:09:33.815-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.EstoqueController#buscarEstoquePorCodigoProduto(String)
2025-07-28T03:09:33.847-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:09:33.862-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        e1_0.id,
        e1_0.data_atualizacao,
        e1_0.data_criacao,
        e1_0.data_ultima_entrada,
        e1_0.data_ultima_saida,
        e1_0.localizacao,
        e1_0.observacoes,
        e1_0.produto_id,
        e1_0.quantidade,
        e1_0.version 
    from
        estoque e1_0 
    left join
        produtos p1_0 
            on p1_0.id=e1_0.produto_id 
    where
        p1_0.codigo_produto=?
2025-07-28T03:09:33.864-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [1]
2025-07-28T03:09:33.872-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:09:33.874-03:00  WARN 21056 --- [zlog_compras] [http-nio-8080-exec-1] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [com.zlogcompras.exceptions.ResourceNotFoundException: Estoque não encontrado para o código do produto: 1]
2025-07-28T03:09:33.874-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-07-28T03:09:33.875-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T03:09:33.875-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:09:33.876-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-07-28T03:09:33.876-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:09:33.876-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:09:33.877-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:09:33.877-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:09:33.877-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:09:33.877-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:09:33.877-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:09:33.877-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:09:33.877-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:09:33.877-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:09:33.877-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:09:33.877-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:09:33.877-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:09:33.877-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:09:33.877-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-07-28T03:09:33.877-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e32faa1ec8@167f676d
2025-07-28T03:09:33.877-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-07-28T03:09:33.877-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-07-28T03:09:33.877-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T03:09:33.884-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T03:09:33.887-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:09:33.888-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 03:09:33 BRT 2025, status=404, error=Not Found, trace=com.zlogcompras.exceptions.ResourceNotFoundException: Estoque não encontrado para o código do produto: 1
	at com.zlogcompras.service.EstoqueService.lambda$buscarEstoquePorCodigoProduto$8(EstoqueService.java:172)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.zlogcompras.service.EstoqueService.buscarEstoquePorCodigoProduto(EstoqueService.java:172)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:716)
	at com.zlogcompras.service.EstoqueService$$SpringCGLIB$$0.buscarEstoquePorCodigoProduto(<generated>)
	at com.zlogcompras.controller.EstoqueController.buscarEstoquePorCodigoProduto(EstoqueController.java:69)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
, message=Estoque não encontrado para o código do produto: 1, path=/api/estoques/produto/1}]
2025-07-28T03:09:33.892-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-07-28T03:09:33.892-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:09:33.894-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T03:10:52.212-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:10:52.213-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/estoques/produto/SKU001
2025-07-28T03:10:52.213-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:10:52.213-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:10:52.213-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:10:52.213-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:10:52.213-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:10:52.214-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:10:52.214-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:10:52.214-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:10:52.214-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/estoques/produto/SKU001
2025-07-28T03:10:52.215-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:10:52.242-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:10:52.244-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:10:52.244-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:10:52.246-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:10:52.247-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:10:52.253-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:10:52.254-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:10:52.256-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:10:52.256-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:10:52.257-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:10:52.257-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:10:52.257-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:10:52.258-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:10:52.258-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:10:52.258-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:10:52.258-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:10:52.258-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:10:52.258-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:10:52.259-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/estoques/produto/SKU001
2025-07-28T03:10:52.259-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/estoques/produto/SKU001 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:10:52.259-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/estoques/produto/SKU001
2025-07-28T03:10:52.259-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/estoques/produto/SKU001", parameters={}
2025-07-28T03:10:52.260-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.EstoqueController#buscarEstoquePorCodigoProduto(String)
2025-07-28T03:10:52.260-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:10:52.262-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        e1_0.id,
        e1_0.data_atualizacao,
        e1_0.data_criacao,
        e1_0.data_ultima_entrada,
        e1_0.data_ultima_saida,
        e1_0.localizacao,
        e1_0.observacoes,
        e1_0.produto_id,
        e1_0.quantidade,
        e1_0.version 
    from
        estoque e1_0 
    left join
        produtos p1_0 
            on p1_0.id=e1_0.produto_id 
    where
        p1_0.codigo_produto=?
2025-07-28T03:10:52.262-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [SKU001]
2025-07-28T03:10:52.266-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:10:52.268-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:10:52.271-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:10:52.272-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.zlogcompras.model.dto.EstoqueResponseDTO@31811a0a]
2025-07-28T03:10:52.272-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:10:52.273-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T03:11:37.784-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:11:37.785-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/estoques
2025-07-28T03:11:37.785-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:11:37.786-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:11:37.786-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:11:37.786-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:11:37.786-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:11:37.787-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:11:37.787-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:11:37.788-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:11:37.788-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/estoques
2025-07-28T03:11:37.788-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:11:37.790-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:11:37.790-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:11:37.815-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:11:37.818-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:11:37.820-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:11:37.823-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:11:37.824-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:11:37.829-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:11:37.829-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:11:37.830-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:11:37.830-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:11:37.830-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:11:37.830-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:11:37.830-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:11:37.831-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:11:37.831-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:11:37.831-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:11:37.831-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:11:37.831-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/estoques
2025-07-28T03:11:37.832-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/estoques using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:11:37.832-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/estoques
2025-07-28T03:11:37.832-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/estoques", parameters={}
2025-07-28T03:11:37.833-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.EstoqueController#listarTodosEstoques()
2025-07-28T03:11:37.834-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-28T03:11:37.835-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(830077165<open>)] for JPA transaction
2025-07-28T03:11:37.836-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5bdbf27e]
2025-07-28T03:11:37.837-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        e1_0.id,
        e1_0.data_atualizacao,
        e1_0.data_criacao,
        e1_0.data_ultima_entrada,
        e1_0.data_ultima_saida,
        e1_0.localizacao,
        e1_0.observacoes,
        e1_0.produto_id,
        e1_0.quantidade,
        e1_0.version 
    from
        estoque e1_0
2025-07-28T03:11:37.839-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:11:37.840-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [11]
2025-07-28T03:11:37.842-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:11:37.843-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:11:37.845-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:11:37.845-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T03:11:37.847-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:11:37.848-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T03:11:37.851-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:11:37.852-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-07-28T03:11:37.853-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:11:37.854-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-07-28T03:11:37.856-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:11:37.857-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(830077165<open>)]
2025-07-28T03:11:37.858-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(830077165<open>)] after transaction
2025-07-28T03:11:37.861-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:11:37.862-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.dto.EstoqueResponseDTO@640ab51b, com.zlogcompras.model.dto.EstoqueResponseDTO@395e765a, com.zlogcompras.model.dto.EstoqueResponseDTO@228ed756, com.zlogcompras.model.dto.EstoqueResponseDTO@32878ebe, com.zlogcompras.model.dto.EstoqueResponseDTO@3144798, com.zlogcompras.model.dto.EstoqueResponseDTO@49b20d06]]
2025-07-28T03:11:37.862-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:11:37.863-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T03:12:16.119-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:12:16.120-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/estoques/6
2025-07-28T03:12:16.120-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:12:16.120-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:12:16.120-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:12:16.121-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:12:16.121-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:12:16.121-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:12:16.122-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:12:16.122-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:12:16.123-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/estoques/6
2025-07-28T03:12:16.123-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:12:16.150-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:12:16.150-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:12:16.151-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:12:16.159-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:12:16.161-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:12:16.169-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:12:16.170-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:12:16.171-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:12:16.171-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:12:16.173-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:12:16.173-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:12:16.173-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:12:16.173-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:12:16.173-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:12:16.174-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:12:16.174-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:12:16.174-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:12:16.175-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:12:16.175-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/estoques/6
2025-07-28T03:12:16.175-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/estoques/6 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:12:16.175-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/estoques/6
2025-07-28T03:12:16.175-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/estoques/6", parameters={}
2025-07-28T03:12:16.176-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.EstoqueController#buscarEstoquePorId(Long)
2025-07-28T03:12:16.177-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-28T03:12:16.177-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(540108541<open>)] for JPA transaction
2025-07-28T03:12:16.178-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@41c938e4]
2025-07-28T03:12:16.179-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        e1_0.id,
        e1_0.data_atualizacao,
        e1_0.data_criacao,
        e1_0.data_ultima_entrada,
        e1_0.data_ultima_saida,
        e1_0.localizacao,
        e1_0.observacoes,
        e1_0.produto_id,
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version,
        e1_0.quantidade,
        e1_0.version 
    from
        estoque e1_0 
    join
        produtos p1_0 
            on p1_0.id=e1_0.produto_id 
    where
        e1_0.id=?
2025-07-28T03:12:16.180-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [6]
2025-07-28T03:12:16.182-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:12:16.182-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(540108541<open>)]
2025-07-28T03:12:16.183-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(540108541<open>)] after transaction
2025-07-28T03:12:16.185-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:12:16.185-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.zlogcompras.model.dto.EstoqueResponseDTO@5924799]
2025-07-28T03:12:16.185-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:12:16.186-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T03:14:23.481-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:14:23.481-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing PUT /api/estoques/6/retirar-quantidade
2025-07-28T03:14:23.482-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:14:23.482-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:14:23.482-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:14:23.482-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:14:23.482-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:14:23.482-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:14:23.482-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:14:23.484-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:14:23.484-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/estoques/6/retirar-quantidade
2025-07-28T03:14:23.484-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:14:23.485-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:14:23.485-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:14:23.485-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:14:23.488-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:14:23.490-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:14:23.493-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:14:23.493-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:14:23.494-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:14:23.494-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:14:23.494-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:14:23.494-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:14:23.494-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:14:23.494-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:14:23.494-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:14:23.494-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:14:23.494-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:14:23.494-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:14:23.494-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:14:23.494-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/estoques/6/retirar-quantidade
2025-07-28T03:14:23.494-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/estoques/6/retirar-quantidade using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:14:23.494-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured PUT /api/estoques/6/retirar-quantidade
2025-07-28T03:14:23.494-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : PUT "/api/estoques/6/retirar-quantidade", parameters={}
2025-07-28T03:14:23.494-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.EstoqueController#retirarQuantidadeEstoque(Long, EstoqueMovimentacaoDTO)
2025-07-28T03:14:23.506-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.zlogcompras.model.dto.EstoqueMovimentacaoDTO@27ae5a8f]
2025-07-28T03:14:23.512-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.EstoqueService.retirarQuantidadeEstoque]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T03:14:23.513-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(586849978<open>)] for JPA transaction
2025-07-28T03:14:23.514-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@f8809b3]
2025-07-28T03:14:23.514-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(586849978<open>)] for JPA transaction
2025-07-28T03:14:23.514-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:14:23.514-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        e1_0.id,
        e1_0.data_atualizacao,
        e1_0.data_criacao,
        e1_0.data_ultima_entrada,
        e1_0.data_ultima_saida,
        e1_0.localizacao,
        e1_0.observacoes,
        e1_0.produto_id,
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version,
        e1_0.quantidade,
        e1_0.version 
    from
        estoque e1_0 
    join
        produtos p1_0 
            on p1_0.id=e1_0.produto_id 
    where
        e1_0.id=?
2025-07-28T03:14:23.514-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [6]
2025-07-28T03:14:23.514-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(586849978<open>)] for JPA transaction
2025-07-28T03:14:23.514-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:14:23.514-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:14:23.514-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(586849978<open>)]
2025-07-28T03:14:23.524-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    update
        estoque 
    set
        data_atualizacao=?,
        data_ultima_entrada=?,
        data_ultima_saida=?,
        localizacao=?,
        observacoes=?,
        produto_id=?,
        quantidade=?,
        version=? 
    where
        id=? 
        and version=?
2025-07-28T03:14:23.524-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T03:14:23.523772200]
2025-07-28T03:14:23.524-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T11:45]
2025-07-28T03:14:23.524-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (3:TIMESTAMP) <- [2025-07-28T03:14:23.514767]
2025-07-28T03:14:23.524-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [ARMAZEM_C_AREA_F]
2025-07-28T03:14:23.524-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [Estoque de Fones de Ouvido]
2025-07-28T03:14:23.524-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [5]
2025-07-28T03:14:23.524-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [70]
2025-07-28T03:14:23.524-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [1]
2025-07-28T03:14:23.524-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [6]
2025-07-28T03:14:23.524-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (10:BIGINT) <- [0]
2025-07-28T03:14:23.537-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(586849978<open>)] after transaction
2025-07-28T03:14:23.537-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:14:23.537-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.zlogcompras.model.dto.EstoqueResponseDTO@55ffe8b5]
2025-07-28T03:14:23.537-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:14:23.540-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T03:14:50.642-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:14:50.642-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /api/estoques/6/adicionar-quantidade
2025-07-28T03:14:50.642-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:14:50.643-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:14:50.643-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:14:50.643-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:14:50.643-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:14:50.644-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:14:50.644-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:14:50.644-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:14:50.644-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/estoques/6/adicionar-quantidade
2025-07-28T03:14:50.646-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:14:50.647-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:14:50.671-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:14:50.672-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:14:50.674-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:14:50.676-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:14:50.679-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:14:50.684-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:14:50.685-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:14:50.685-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:14:50.687-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:14:50.687-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:14:50.688-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:14:50.688-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:14:50.688-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:14:50.688-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:14:50.688-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:14:50.689-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:14:50.689-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:14:50.689-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/estoques/6/adicionar-quantidade
2025-07-28T03:14:50.689-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/estoques/6/adicionar-quantidade using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:14:50.689-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured PUT /api/estoques/6/adicionar-quantidade
2025-07-28T03:14:50.690-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : PUT "/api/estoques/6/adicionar-quantidade", parameters={}
2025-07-28T03:14:50.690-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.EstoqueController#adicionarQuantidadeEstoque(Long, EstoqueMovimentacaoDTO)
2025-07-28T03:14:50.692-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.zlogcompras.model.dto.EstoqueMovimentacaoDTO@7ea38493]
2025-07-28T03:14:50.693-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.EstoqueService.adicionarQuantidadeEstoque]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T03:14:50.693-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(917209937<open>)] for JPA transaction
2025-07-28T03:14:50.693-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@18fb53fa]
2025-07-28T03:14:50.694-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(917209937<open>)] for JPA transaction
2025-07-28T03:14:50.694-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:14:50.695-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        e1_0.id,
        e1_0.data_atualizacao,
        e1_0.data_criacao,
        e1_0.data_ultima_entrada,
        e1_0.data_ultima_saida,
        e1_0.localizacao,
        e1_0.observacoes,
        e1_0.produto_id,
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version,
        e1_0.quantidade,
        e1_0.version 
    from
        estoque e1_0 
    join
        produtos p1_0 
            on p1_0.id=e1_0.produto_id 
    where
        e1_0.id=?
2025-07-28T03:14:50.695-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [6]
2025-07-28T03:14:50.698-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(917209937<open>)] for JPA transaction
2025-07-28T03:14:50.698-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:14:50.699-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:14:50.699-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(917209937<open>)]
2025-07-28T03:14:50.700-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    update
        estoque 
    set
        data_atualizacao=?,
        data_ultima_entrada=?,
        data_ultima_saida=?,
        localizacao=?,
        observacoes=?,
        produto_id=?,
        quantidade=?,
        version=? 
    where
        id=? 
        and version=?
2025-07-28T03:14:50.701-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T03:14:50.700383900]
2025-07-28T03:14:50.702-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T03:14:50.698099400]
2025-07-28T03:14:50.702-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (3:TIMESTAMP) <- [2025-07-28T03:14:23.514767]
2025-07-28T03:14:50.702-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [ARMAZEM_C_AREA_F]
2025-07-28T03:14:50.702-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [Estoque de Fones de Ouvido]
2025-07-28T03:14:50.702-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [5]
2025-07-28T03:14:50.703-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [75]
2025-07-28T03:14:50.703-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [2]
2025-07-28T03:14:50.703-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [6]
2025-07-28T03:14:50.703-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (10:BIGINT) <- [1]
2025-07-28T03:14:50.713-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(917209937<open>)] after transaction
2025-07-28T03:14:50.714-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:14:50.714-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.zlogcompras.model.dto.EstoqueResponseDTO@34c0d1d0]
2025-07-28T03:14:50.715-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:14:50.715-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T03:18:18.031-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:18:18.043-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/fornecedores
2025-07-28T03:18:18.043-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:18:18.043-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:18:18.043-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:18:18.044-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:18:18.044-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:18:18.044-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:18:18.044-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:18:18.044-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:18:18.044-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/fornecedores
2025-07-28T03:18:18.046-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:18:18.048-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:18:18.048-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:18:18.048-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:18:18.051-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:18:18.055-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:18:18.059-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:18:18.059-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:18:18.063-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:18:18.063-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:18:18.065-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:18:18.065-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:18:18.065-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:18:18.065-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:18:18.065-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:18:18.065-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:18:18.065-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:18:18.065-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:18:18.067-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:18:18.067-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/fornecedores
2025-07-28T03:18:18.067-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/fornecedores using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:18:18.067-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/fornecedores
2025-07-28T03:18:18.068-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/fornecedores", parameters={}
2025-07-28T03:18:18.068-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.FornecedorController#criarFornecedor(FornecedorRequestDTO)
2025-07-28T03:18:18.087-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.zlogcompras.model.dto.FornecedorRequestDTO@283c1790]
2025-07-28T03:18:18.103-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.FornecedorService.criarFornecedor]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T03:18:18.103-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(291923499<open>)] for JPA transaction
2025-07-28T03:18:18.105-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4bf9bef7]
2025-07-28T03:18:18.110-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version 
    from
        fornecedores f1_0 
    where
        f1_0.cnpj=?
2025-07-28T03:18:18.112-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [25.342.948/5004-61]
2025-07-28T03:18:18.185-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(291923499<open>)] for JPA transaction
2025-07-28T03:18:18.185-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:18:18.211-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    insert 
    into
        fornecedores
        (cnpj, contato, email, endereco, razao_social, telefone, version) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:18:18.212-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [25.342.948/5004-61]
2025-07-28T03:18:18.213-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [Ana Paula]
2025-07-28T03:18:18.213-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [contato@techsuprimentos.com.br]
2025-07-28T03:18:18.213-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [Rua das Inovações, 123 - Centro, São Paulo - SP]
2025-07-28T03:18:18.213-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [Tech Suprimentos Ltda.]
2025-07-28T03:18:18.213-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [(11) 98765-4321]
2025-07-28T03:18:18.213-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [0]
2025-07-28T03:18:18.219-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:18:18.219-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(291923499<open>)]
2025-07-28T03:18:18.226-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(291923499<open>)] after transaction
2025-07-28T03:18:18.230-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:18:18.248-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [FornecedorResponseDTO{id=1, razaoSocial='Tech Suprimentos Ltda.', cnpj='25.342.948/5004-61', endereco='Rua das Inovações, 123 - Centro, São Paulo - SP', telefone='(11) 98765-4321', email='contato@techsuprimentos.com.br', contato='Ana Paula', observacoes='null', ativo=null, version=0}]
2025-07-28T03:18:18.249-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:18:18.250-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-07-28T03:19:45.719-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:19:45.720-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/fornecedores
2025-07-28T03:19:45.720-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:19:45.721-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:19:45.721-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:19:45.721-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:19:45.721-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:19:45.722-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:19:45.722-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:19:45.722-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:19:45.722-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/fornecedores
2025-07-28T03:19:45.734-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:19:45.737-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:19:45.737-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:19:45.738-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:19:45.742-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:19:45.746-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:19:45.748-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:19:45.749-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:19:45.751-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:19:45.751-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:19:45.752-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:19:45.753-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:19:45.753-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:19:45.753-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:19:45.753-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:19:45.753-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:19:45.753-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:19:45.755-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:19:45.755-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:19:45.755-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/fornecedores
2025-07-28T03:19:45.755-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/fornecedores using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:19:45.756-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/fornecedores
2025-07-28T03:19:45.756-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/fornecedores", parameters={}
2025-07-28T03:19:45.757-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.FornecedorController#criarFornecedor(FornecedorRequestDTO)
2025-07-28T03:19:45.763-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.zlogcompras.model.dto.FornecedorRequestDTO@34acadb9]
2025-07-28T03:19:45.764-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.FornecedorService.criarFornecedor]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T03:19:45.764-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1439178854<open>)] for JPA transaction
2025-07-28T03:19:45.765-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@77c1e80e]
2025-07-28T03:19:45.767-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version 
    from
        fornecedores f1_0 
    where
        f1_0.cnpj=?
2025-07-28T03:19:45.768-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [34.567.890/0001-23]
2025-07-28T03:19:45.769-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1439178854<open>)] for JPA transaction
2025-07-28T03:19:45.770-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:19:45.771-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        fornecedores
        (cnpj, contato, email, endereco, razao_social, telefone, version) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:19:45.771-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [34.567.890/0001-23]
2025-07-28T03:19:45.771-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [Roberto Dias]
2025-07-28T03:19:45.771-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [contato@logisticaexpressa.com.br]
2025-07-28T03:19:45.772-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [Rua dos Expedidores, 50 - Distrito Logístico, Jundiaí - SP]
2025-07-28T03:19:45.772-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [Logística Expressa Ltda.]
2025-07-28T03:19:45.772-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [(11) 96543-2109]
2025-07-28T03:19:45.772-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [0]
2025-07-28T03:19:45.774-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:19:45.775-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1439178854<open>)]
2025-07-28T03:19:45.782-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1439178854<open>)] after transaction
2025-07-28T03:19:45.783-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:19:45.783-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [FornecedorResponseDTO{id=2, razaoSocial='Logística Expressa Ltda.', cnpj='34.567.890/0001-23', endereco='Rua dos Expedidores, 50 - Distrito Logístico, Jundiaí - SP', telefone='(11) 96543-2109', email='contato@logisticaexpressa.com.br', contato='Roberto Dias', observacoes='null', ativo=null, version=0}]
2025-07-28T03:19:45.783-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:19:45.785-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-07-28T03:20:29.978-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:20:29.978-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/fornecedores
2025-07-28T03:20:29.978-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:20:29.979-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:20:29.979-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:20:29.979-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:20:29.979-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:20:29.979-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:20:29.979-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:20:29.980-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:20:29.980-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/fornecedores
2025-07-28T03:20:29.980-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:20:29.980-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:20:29.980-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:20:29.981-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:20:29.983-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:20:29.984-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:20:29.985-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:20:29.985-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:20:29.989-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:20:29.989-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:20:29.990-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:20:29.991-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:20:29.991-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:20:29.991-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:20:29.992-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:20:29.992-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:20:29.992-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:20:29.992-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:20:29.998-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:20:29.998-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/fornecedores
2025-07-28T03:20:29.999-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/fornecedores using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:20:29.999-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/fornecedores
2025-07-28T03:20:29.999-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/fornecedores", parameters={}
2025-07-28T03:20:30.000-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.FornecedorController#criarFornecedor(FornecedorRequestDTO)
2025-07-28T03:20:30.002-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.zlogcompras.model.dto.FornecedorRequestDTO@21284978]
2025-07-28T03:20:30.003-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.FornecedorService.criarFornecedor]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T03:20:30.003-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(750038342<open>)] for JPA transaction
2025-07-28T03:20:30.004-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@713dec61]
2025-07-28T03:20:30.006-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version 
    from
        fornecedores f1_0 
    where
        f1_0.cnpj=?
2025-07-28T03:20:30.007-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [87.654.321/0001-45]
2025-07-28T03:20:30.009-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(750038342<open>)] for JPA transaction
2025-07-28T03:20:30.010-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:20:30.011-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        fornecedores
        (cnpj, contato, email, endereco, razao_social, telefone, version) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:20:30.011-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [87.654.321/0001-45]
2025-07-28T03:20:30.012-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [Mariana Costa]
2025-07-28T03:20:30.012-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [atendimento@componentesprecisos.com.br]
2025-07-28T03:20:30.012-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [Avenida da Tecnologia, 700 - Indaiatuba - SP]
2025-07-28T03:20:30.012-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [Componentes Precisos EIRELI]
2025-07-28T03:20:30.012-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [(19) 91234-5678]
2025-07-28T03:20:30.012-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [0]
2025-07-28T03:20:30.014-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:20:30.014-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(750038342<open>)]
2025-07-28T03:20:30.017-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(750038342<open>)] after transaction
2025-07-28T03:20:30.018-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:20:30.018-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [FornecedorResponseDTO{id=3, razaoSocial='Componentes Precisos EIRELI', cnpj='87.654.321/0001-45', endereco='Avenida da Tecnologia, 700 - Indaiatuba - SP', telefone='(19) 91234-5678', email='atendimento@componentesprecisos.com.br', contato='Mariana Costa', observacoes='null', ativo=null, version=0}]
2025-07-28T03:20:30.019-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:20:30.019-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-07-28T03:21:18.675-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:21:18.684-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/fornecedores
2025-07-28T03:21:18.684-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:21:18.685-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:21:18.685-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:21:18.685-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:21:18.685-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:21:18.686-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:21:18.686-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:21:18.686-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:21:18.687-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/fornecedores
2025-07-28T03:21:18.687-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:21:18.688-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:21:18.689-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:21:18.689-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:21:18.693-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:21:18.700-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:21:18.702-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:21:18.703-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:21:18.704-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:21:18.706-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:21:18.708-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:21:18.709-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:21:18.709-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:21:18.709-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:21:18.709-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:21:18.709-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:21:18.709-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:21:18.710-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:21:18.710-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:21:18.710-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/fornecedores
2025-07-28T03:21:18.710-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/fornecedores using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:21:18.710-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/fornecedores
2025-07-28T03:21:18.711-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/fornecedores", parameters={}
2025-07-28T03:21:18.711-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.FornecedorController#criarFornecedor(FornecedorRequestDTO)
2025-07-28T03:21:18.713-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.zlogcompras.model.dto.FornecedorRequestDTO@5808592f]
2025-07-28T03:21:18.713-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.FornecedorService.criarFornecedor]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T03:21:18.714-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1368079856<open>)] for JPA transaction
2025-07-28T03:21:18.714-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2c30efcc]
2025-07-28T03:21:18.716-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version 
    from
        fornecedores f1_0 
    where
        f1_0.cnpj=?
2025-07-28T03:21:18.717-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [98.765.432/0001-67]
2025-07-28T03:21:18.718-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1368079856<open>)] for JPA transaction
2025-07-28T03:21:18.718-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:21:18.720-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        fornecedores
        (cnpj, contato, email, endereco, razao_social, telefone, version) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:21:18.721-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [98.765.432/0001-67]
2025-07-28T03:21:18.722-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [Gustavo Pereira]
2025-07-28T03:21:18.722-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [sac@embalagenssustentaveis.com.br]
2025-07-28T03:21:18.722-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [Rua Ecológica, 100 - Verdejante, Campinas - SP]
2025-07-28T03:21:18.722-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [Embalagens Sustentáveis Brasil Ltda.]
2025-07-28T03:21:18.723-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [(19) 93456-7890]
2025-07-28T03:21:18.723-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [0]
2025-07-28T03:21:18.726-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:21:18.726-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1368079856<open>)]
2025-07-28T03:21:18.737-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1368079856<open>)] after transaction
2025-07-28T03:21:18.738-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:21:18.738-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [FornecedorResponseDTO{id=4, razaoSocial='Embalagens Sustentáveis Brasil Ltda.', cnpj='98.765.432/0001-67', endereco='Rua Ecológica, 100 - Verdejante, Campinas - SP', telefone='(19) 93456-7890', email='sac@embalagenssustentaveis.com.br', contato='Gustavo Pereira', observacoes='null', ativo=null, version=0}]
2025-07-28T03:21:18.739-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:21:18.740-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-07-28T03:21:56.707-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:21:56.708-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/fornecedores
2025-07-28T03:21:56.708-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:21:56.708-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:21:56.708-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:21:56.708-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:21:56.708-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:21:56.709-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:21:56.709-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:21:56.710-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:21:56.710-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/fornecedores
2025-07-28T03:21:56.710-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:21:56.710-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:21:56.711-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:21:56.711-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:21:56.735-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:21:56.737-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:21:56.739-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:21:56.742-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:21:56.744-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:21:56.744-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:21:56.747-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:21:56.751-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:21:56.752-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:21:56.752-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:21:56.753-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:21:56.753-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:21:56.753-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:21:56.753-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:21:56.753-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:21:56.753-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/fornecedores
2025-07-28T03:21:56.753-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/fornecedores using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:21:56.755-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/fornecedores
2025-07-28T03:21:56.755-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/fornecedores", parameters={}
2025-07-28T03:21:56.755-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.FornecedorController#listarTodosFornecedores()
2025-07-28T03:21:56.757-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-28T03:21:56.758-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1950626386<open>)] for JPA transaction
2025-07-28T03:21:56.759-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@29311efe]
2025-07-28T03:21:56.761-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version 
    from
        fornecedores f1_0
2025-07-28T03:21:56.765-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:21:56.765-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1950626386<open>)]
2025-07-28T03:21:56.766-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1950626386<open>)] after transaction
2025-07-28T03:21:56.768-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:21:56.768-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[FornecedorResponseDTO{id=1, razaoSocial='Tech Suprimentos Ltda.', cnpj='25.342.948/5004-61', endereco='Rua das Inovações, 123 - Centro, São Paulo - SP', telefone='(11) 98765-4321', email='contato@techsuprimentos.com.br', contato='Ana Paula', observacoes='null', ativo=null, version=0}, FornecedorResponseDTO{id=2, razaoSocial='Logística Expressa Ltda.', cnpj='34.567.890/0001-23', endereco='Rua dos Expedidores, 50 - Distrito Logístico, Jundiaí - SP', telefone='(11) 96543-2109', email='contato@logisticaexpressa.com.br', contato='Roberto Dias', observacoes='null', ativo=null, version=0}, FornecedorResponseDTO{id=3, razaoSocial='Componentes Precisos EIRELI', cnpj='87.654.321/0001-45', endereco='Avenida da Tecnologia, 700 - Indaiatuba - SP', telefone='(19) 91234-5678', email='atendimento@componentesprecisos.com.br', contato='Mariana Costa', observacoes='null', ativo=null, version=0}, FornecedorResponseDTO{id=4, razaoSocial='Embalagens Sustentáveis Brasil Ltda.', cnpj='98.765.432/0001-67', endereco='Rua Ecológica, 100 - Verdejante, Campinas - SP', telefone='(19) 93456-7890', email='sac@embalagenssustentaveis.com.br', contato='Gustavo Pereira', observacoes='null', ativo=null, version=0}]]
2025-07-28T03:21:56.769-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:21:56.771-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T03:24:09.462-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:24:09.463-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing PUT /api/fornecedores/2
2025-07-28T03:24:09.463-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:24:09.463-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:24:09.463-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:24:09.464-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:24:09.464-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:24:09.489-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:24:09.490-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:24:09.490-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:24:09.490-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/fornecedores/2
2025-07-28T03:24:09.490-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:24:09.491-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:24:09.491-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:24:09.491-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:24:09.495-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:24:09.501-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:24:09.503-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:24:09.503-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:24:09.506-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:24:09.507-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:24:09.507-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:24:09.508-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:24:09.508-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:24:09.508-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:24:09.508-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:24:09.508-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:24:09.509-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:24:09.509-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:24:09.509-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:24:09.509-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/fornecedores/2
2025-07-28T03:24:09.509-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/fornecedores/2 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:24:09.509-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured PUT /api/fornecedores/2
2025-07-28T03:24:09.510-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : PUT "/api/fornecedores/2", parameters={}
2025-07-28T03:24:09.511-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.FornecedorController#atualizarFornecedor(Long, FornecedorRequestDTO)
2025-07-28T03:24:09.513-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.zlogcompras.model.dto.FornecedorRequestDTO@47a927a0]
2025-07-28T03:24:09.515-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.FornecedorService.atualizarFornecedor]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T03:24:09.516-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(290757525<open>)] for JPA transaction
2025-07-28T03:24:09.517-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6bd9918d]
2025-07-28T03:24:09.519-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(290757525<open>)] for JPA transaction
2025-07-28T03:24:09.520-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:24:09.520-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version 
    from
        fornecedores f1_0 
    where
        f1_0.id=?
2025-07-28T03:24:09.521-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T03:24:09.525-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(290757525<open>)] for JPA transaction
2025-07-28T03:24:09.525-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:24:09.525-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:24:09.525-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(290757525<open>)]
2025-07-28T03:24:09.526-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    update
        fornecedores 
    set
        cnpj=?,
        contato=?,
        email=?,
        endereco=?,
        razao_social=?,
        telefone=?,
        version=? 
    where
        id=? 
        and version=?
2025-07-28T03:24:09.527-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [34.567.890/0001-23]
2025-07-28T03:24:09.527-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [Carlos Roberto Dias (Novo Contato)]
2025-07-28T03:24:09.527-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [novo.contato@logisticaexpressa.com.br]
2025-07-28T03:24:09.527-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [Rua dos Expedidores, 50 - Distrito Logístico, Jundiaí - SP]
2025-07-28T03:24:09.527-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [Logística Expressa Ltda.]
2025-07-28T03:24:09.527-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [(11) 96543-2109]
2025-07-28T03:24:09.528-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [1]
2025-07-28T03:24:09.528-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [2]
2025-07-28T03:24:09.528-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [0]
2025-07-28T03:24:09.542-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(290757525<open>)] after transaction
2025-07-28T03:24:09.542-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:24:09.543-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [FornecedorResponseDTO{id=2, razaoSocial='Logística Expressa Ltda.', cnpj='34.567.890/0001-23', endereco='Rua dos Expedidores, 50 - Distrito Logístico, Jundiaí - SP', telefone='(11) 96543-2109', email='novo.contato@logisticaexpressa.com.br', contato='Carlos Roberto Dias (Novo Contato)', observacoes='null', ativo=null, version=0}]
2025-07-28T03:24:09.543-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:24:09.544-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T03:36:00.579-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:36:00.581-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/solicitacoes-compra
2025-07-28T03:36:00.581-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:36:00.581-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:36:00.583-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:36:00.583-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:36:00.583-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:36:00.583-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:36:00.584-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:36:00.584-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:36:00.584-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/solicitacoes-compra
2025-07-28T03:36:00.584-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:36:00.585-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:36:00.586-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:36:00.586-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:36:00.595-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:36:00.598-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:36:00.601-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:36:00.601-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:36:00.604-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:36:00.605-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:36:00.607-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:36:00.607-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:36:00.607-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:36:00.607-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:36:00.607-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:36:00.608-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:36:00.608-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:36:00.608-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:36:00.608-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:36:00.609-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/solicitacoes-compra
2025-07-28T03:36:00.609-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/solicitacoes-compra using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:36:00.609-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/solicitacoes-compra
2025-07-28T03:36:00.609-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/solicitacoes-compra", parameters={}
2025-07-28T03:36:00.610-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.SolicitacaoCompraController#criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-07-28T03:36:00.645-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.zlogcompras.model.dto.SolicitacaoCompraRequestDTO@7f5107de]
2025-07-28T03:36:00.730-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.SolicitacaoCompraService.criarSolicitacao]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T03:36:00.731-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1218455872<open>)] for JPA transaction
2025-07-28T03:36:00.731-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@e16d2c7]
2025-07-28T03:36:00.736-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1218455872<open>)] for JPA transaction
2025-07-28T03:36:00.736-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:36:00.741-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:36:00.743-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:36:00.753-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2025-07-28T03:36:00.756-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(1218455872<open>)]
2025-07-28T03:36:00.772-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1218455872<open>)] after transaction
2025-07-28T03:36:00.775-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.IllegalArgumentException: Status de Item de Solicitação inválido: ABERTO
2025-07-28T03:36:00.778-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:36:00.785-03:00 ERROR 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: Status de Item de Solicitação inválido: ABERTO] with root cause

java.lang.IllegalArgumentException: Status de Item de Solicitação inválido: ABERTO
	at com.zlogcompras.mapper.SolicitacaoCompraMapper.mapStringToStatusItemSolicitacao(SolicitacaoCompraMapper.java:142) ~[classes/:na]
	at com.zlogcompras.mapper.SolicitacaoCompraMapperImpl.toItemEntity(SolicitacaoCompraMapperImpl.java:68) ~[classes/:na]
	at com.zlogcompras.service.SolicitacaoCompraService.criarSolicitacao(SolicitacaoCompraService.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.8.jar:6.1.8]
	at com.zlogcompras.service.SolicitacaoCompraService$$SpringCGLIB$$0.criarSolicitacao(<generated>) ~[classes/:na]
	at com.zlogcompras.controller.SolicitacaoCompraController.criarSolicitacao(SolicitacaoCompraController.java:27) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-28T03:36:00.869-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T03:36:00.871-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:36:00.871-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-07-28T03:36:00.871-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:36:00.871-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:36:00.872-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:36:00.872-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:36:00.872-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:36:00.872-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:36:00.872-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:36:00.873-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:36:00.873-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:36:00.873-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:36:00.873-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:36:00.874-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:36:00.874-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:36:00.874-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:36:00.875-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /error
2025-07-28T03:36:00.875-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e32faa1ec8@167f676d
2025-07-28T03:36:00.875-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /error
2025-07-28T03:36:00.876-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2025-07-28T03:36:00.876-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T03:36:00.878-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T03:36:00.881-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:36:00.885-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 03:36:00 BRT 2025, status=500, error=Internal Server Error, trace=java.lang.IllegalArgumentException: Status de Item de Solicitação inválido: ABERTO
	at com.zlogcompras.mapper.SolicitacaoCompraMapper.mapStringToStatusItemSolicitacao(SolicitacaoCompraMapper.java:142)
	at com.zlogcompras.mapper.SolicitacaoCompraMapperImpl.toItemEntity(SolicitacaoCompraMapperImpl.java:68)
	at com.zlogcompras.service.SolicitacaoCompraService.criarSolicitacao(SolicitacaoCompraService.java:64)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.zlogcompras.service.SolicitacaoCompraService$$SpringCGLIB$$0.criarSolicitacao(<generated>)
	at com.zlogcompras.controller.SolicitacaoCompraController.criarSolicitacao(SolicitacaoCompraController.java:27)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
, message=Status de Item de Solicitação inválido: ABERTO, path=/api/solicitacoes-compra}]
2025-07-28T03:36:00.889-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-07-28T03:36:00.889-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:36:00.889-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T03:37:50.282-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:37:50.282-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/solicitacoes-compra
2025-07-28T03:37:50.282-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:37:50.282-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:37:50.305-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:37:50.305-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:37:50.305-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:37:50.305-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:37:50.305-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:37:50.308-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:37:50.308-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/solicitacoes-compra
2025-07-28T03:37:50.308-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:37:50.310-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:37:50.310-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:37:50.310-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:37:50.312-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:37:50.317-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:37:50.318-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:37:50.318-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:37:50.318-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:37:50.318-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:37:50.318-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:37:50.318-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:37:50.318-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:37:50.318-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:37:50.318-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:37:50.318-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:37:50.318-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:37:50.318-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:37:50.318-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:37:50.325-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/solicitacoes-compra
2025-07-28T03:37:50.326-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/solicitacoes-compra using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/solicitacoes-compra
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/solicitacoes-compra", parameters={}
2025-07-28T03:37:50.326-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.SolicitacaoCompraController#criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.zlogcompras.model.dto.SolicitacaoCompraRequestDTO@66ab7708]
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.SolicitacaoCompraService.criarSolicitacao]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(702651849<open>)] for JPA transaction
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@779e1ee9]
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(702651849<open>)] for JPA transaction
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:37:50.326-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(702651849<open>)] for JPA transaction
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:37:50.326-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(702651849<open>)] for JPA transaction
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:37:50.326-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(702651849<open>)] for JPA transaction
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:37:50.326-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:37:50.341-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-07-28T03:37:50.342-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(702651849<open>)] for JPA transaction
2025-07-28T03:37:50.342-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:37:50.392-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    insert 
    into
        solicitacoes_compra
        (data_atualizacao, data_criacao, data_solicitacao, descricao, solicitante, status, version) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:37:50.393-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T03:37:50.342828300]
2025-07-28T03:37:50.393-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T03:37:50.342828300]
2025-07-28T03:37:50.393-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (3:DATE) <- [2025-07-28]
2025-07-28T03:37:50.393-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [Solicitação de compra para equipamentos de informática - Q3/2025]
2025-07-28T03:37:50.393-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [Departamento de TI]
2025-07-28T03:37:50.393-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (6:ENUM) <- [PENDENTE]
2025-07-28T03:37:50.393-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [0]
2025-07-28T03:37:50.561-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    insert 
    into
        itens_solicitacao_compra
        (data_atualizacao, data_criacao, descricao_adicional, produto_id, quantidade, solicitacao_compra_id, status, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:37:50.568-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T03:37:50.561051300]
2025-07-28T03:37:50.568-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T03:37:50.561051300]
2025-07-28T03:37:50.568-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Mouses ergonômicos para o setor administrativo]
2025-07-28T03:37:50.571-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [3]
2025-07-28T03:37:50.571-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (5:NUMERIC) <- [15]
2025-07-28T03:37:50.571-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [1]
2025-07-28T03:37:50.571-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (7:ENUM) <- [AGUARDANDO_ORCAMENTO]
2025-07-28T03:37:50.571-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [0]
2025-07-28T03:37:50.673-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    insert 
    into
        itens_solicitacao_compra
        (data_atualizacao, data_criacao, descricao_adicional, produto_id, quantidade, solicitacao_compra_id, status, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:37:50.673-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T03:37:50.673164600]
2025-07-28T03:37:50.673-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T03:37:50.673164600]
2025-07-28T03:37:50.673-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Webcams para videoconferências]
2025-07-28T03:37:50.673-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [4]
2025-07-28T03:37:50.673-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (5:NUMERIC) <- [5]
2025-07-28T03:37:50.673-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [1]
2025-07-28T03:37:50.673-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (7:ENUM) <- [AGUARDANDO_ORCAMENTO]
2025-07-28T03:37:50.673-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [0]
2025-07-28T03:37:50.673-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    insert 
    into
        itens_solicitacao_compra
        (data_atualizacao, data_criacao, descricao_adicional, produto_id, quantidade, solicitacao_compra_id, status, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:37:50.673-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T03:37:50.673164600]
2025-07-28T03:37:50.673-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T03:37:50.673164600]
2025-07-28T03:37:50.673-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Monitores para novas estações de trabalho]
2025-07-28T03:37:50.673-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [1]
2025-07-28T03:37:50.673-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (5:NUMERIC) <- [20]
2025-07-28T03:37:50.688-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [1]
2025-07-28T03:37:50.688-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (7:ENUM) <- [AGUARDANDO_ORCAMENTO]
2025-07-28T03:37:50.688-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [0]
2025-07-28T03:37:50.688-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    insert 
    into
        itens_solicitacao_compra
        (data_atualizacao, data_criacao, descricao_adicional, produto_id, quantidade, solicitacao_compra_id, status, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:37:50.688-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T03:37:50.688836900]
2025-07-28T03:37:50.688-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T03:37:50.688836900]
2025-07-28T03:37:50.688-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Teclados RGB para equipe de desenvolvimento]
2025-07-28T03:37:50.688-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [2]
2025-07-28T03:37:50.688-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (5:NUMERIC) <- [20]
2025-07-28T03:37:50.688-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [1]
2025-07-28T03:37:50.688-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (7:ENUM) <- [AGUARDANDO_ORCAMENTO]
2025-07-28T03:37:50.688-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [0]
2025-07-28T03:37:50.688-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:37:50.688-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(702651849<open>)]
2025-07-28T03:37:50.752-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(702651849<open>)] after transaction
2025-07-28T03:37:50.769-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:37:50.769-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.zlogcompras.model.dto.SolicitacaoCompraResponseDTO@5b6a80b4]
2025-07-28T03:37:50.769-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:37:50.769-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-07-28T03:38:57.606-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:38:57.606-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/solicitacoes-compra
2025-07-28T03:38:57.606-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:38:57.606-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:38:57.606-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:38:57.606-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:38:57.606-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:38:57.606-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:38:57.606-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:38:57.606-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:38:57.606-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/solicitacoes-compra
2025-07-28T03:38:57.606-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:38:57.606-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:38:57.606-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:38:57.606-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:38:57.606-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:38:57.622-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:38:57.623-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:38:57.623-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:38:57.623-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:38:57.623-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:38:57.623-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:38:57.623-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:38:57.623-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:38:57.623-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:38:57.623-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:38:57.623-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:38:57.623-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:38:57.623-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:38:57.623-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:38:57.623-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/solicitacoes-compra
2025-07-28T03:38:57.623-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/solicitacoes-compra using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:38:57.623-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/solicitacoes-compra
2025-07-28T03:38:57.623-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/solicitacoes-compra", parameters={}
2025-07-28T03:38:57.623-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.SolicitacaoCompraController#listarTodasSolicitacoes()
2025-07-28T03:38:57.623-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.SolicitacaoCompraService.listarTodasSolicitacoes]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-28T03:38:57.623-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(3378949<open>)] for JPA transaction
2025-07-28T03:38:57.656-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@b3e4361]
2025-07-28T03:38:57.656-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(3378949<open>)] for JPA transaction
2025-07-28T03:38:57.656-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:38:57.676-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0
2025-07-28T03:38:57.706-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.solicitacao_compra_id,
        i1_0.id,
        i1_0.data_atualizacao,
        i1_0.data_criacao,
        i1_0.descricao_adicional,
        i1_0.produto_id,
        i1_0.quantidade,
        i1_0.status,
        i1_0.version 
    from
        itens_solicitacao_compra i1_0 
    where
        i1_0.solicitacao_compra_id=?
2025-07-28T03:38:57.706-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:38:57.773-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:38:57.788-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T03:38:57.789-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:38:57.789-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-07-28T03:38:57.789-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:38:57.799-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:38:57.799-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:38:57.799-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T03:38:57.806-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:38:57.806-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(3378949<open>)]
2025-07-28T03:38:57.806-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(3378949<open>)] after transaction
2025-07-28T03:38:57.806-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:38:57.806-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.dto.SolicitacaoCompraResponseDTO@33696bfd]]
2025-07-28T03:38:57.806-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:38:57.806-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T03:40:14.348-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:40:14.348-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/solicitacoes-compra/1
2025-07-28T03:40:14.348-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:40:14.352-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:40:14.352-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:40:14.353-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:40:14.353-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:40:14.353-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:40:14.353-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:40:14.353-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:40:14.353-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/solicitacoes-compra/1
2025-07-28T03:40:14.353-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:40:14.353-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:40:14.353-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:40:14.353-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:40:14.353-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:40:14.359-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:40:14.359-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:40:14.359-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:40:14.359-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:40:14.359-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:40:14.359-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:40:14.359-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:40:14.359-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:40:14.359-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:40:14.359-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:40:14.368-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:40:14.369-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:40:14.369-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:40:14.369-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:40:14.369-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/solicitacoes-compra/1
2025-07-28T03:40:14.370-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/solicitacoes-compra/1 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:40:14.370-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/solicitacoes-compra/1
2025-07-28T03:40:14.370-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/solicitacoes-compra/1", parameters={}
2025-07-28T03:40:14.370-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.SolicitacaoCompraController#buscarSolicitacaoPorId(Long)
2025-07-28T03:40:14.372-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.SolicitacaoCompraService.buscarSolicitacaoPorId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-28T03:40:14.372-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1614441075<open>)] for JPA transaction
2025-07-28T03:40:14.372-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4e235d12]
2025-07-28T03:40:14.372-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1614441075<open>)] for JPA transaction
2025-07-28T03:40:14.372-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:40:14.372-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T03:40:14.372-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:40:14.372-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.solicitacao_compra_id,
        i1_0.id,
        i1_0.data_atualizacao,
        i1_0.data_criacao,
        i1_0.descricao_adicional,
        i1_0.produto_id,
        i1_0.quantidade,
        i1_0.status,
        i1_0.version 
    from
        itens_solicitacao_compra i1_0 
    where
        i1_0.solicitacao_compra_id=?
2025-07-28T03:40:14.372-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:40:14.372-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:40:14.386-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T03:40:14.386-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:40:14.386-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-07-28T03:40:14.386-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:40:14.386-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:40:14.386-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:40:14.386-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T03:40:14.386-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:40:14.386-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1614441075<open>)]
2025-07-28T03:40:14.386-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1614441075<open>)] after transaction
2025-07-28T03:40:14.386-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:40:14.386-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.zlogcompras.model.dto.SolicitacaoCompraResponseDTO@5db7543d]
2025-07-28T03:40:14.386-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:40:14.386-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T03:46:15.356-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:46:15.356-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/orcamentos
2025-07-28T03:46:15.357-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:46:15.357-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:46:15.358-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:46:15.358-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:46:15.358-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:46:15.360-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:46:15.361-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:46:15.361-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:46:15.362-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/orcamentos
2025-07-28T03:46:15.362-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:46:15.366-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:46:15.366-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:46:15.367-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:46:15.374-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:46:15.375-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:46:15.377-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:46:15.378-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:46:15.379-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:46:15.380-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:46:15.385-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:46:15.386-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:46:15.386-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:46:15.386-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:46:15.386-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:46:15.386-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:46:15.386-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:46:15.386-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:46:15.387-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:46:15.387-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/orcamentos
2025-07-28T03:46:15.387-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/orcamentos using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:46:15.388-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/orcamentos
2025-07-28T03:46:15.388-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/orcamentos", parameters={}
2025-07-28T03:46:15.388-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.OrcamentoController#criarOrcamento(OrcamentoRequestDTO)
2025-07-28T03:46:15.472-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [OrcamentoRequestDTO{solicitacaoCompraId=1, fornecedorId=1, valorTotal=19500.00, numeroOrcamento='ORC (truncated)...]
2025-07-28T03:46:15.517-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.OrcamentoService.criarOrcamento]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T03:46:15.518-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(2052687504<open>)] for JPA transaction
2025-07-28T03:46:15.519-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@46050a6c]
2025-07-28T03:46:15.521-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2052687504<open>)] for JPA transaction
2025-07-28T03:46:15.521-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:46:15.522-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T03:46:15.522-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:46:15.525-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2052687504<open>)] for JPA transaction
2025-07-28T03:46:15.525-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:46:15.526-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version 
    from
        fornecedores f1_0 
    where
        f1_0.id=?
2025-07-28T03:46:15.528-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:46:15.533-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2025-07-28T03:46:15.533-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(2052687504<open>)]
2025-07-28T03:46:15.535-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(2052687504<open>)] after transaction
2025-07-28T03:46:15.536-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.IllegalArgumentException: Status de orçamento inválido: ENVIADO
2025-07-28T03:46:15.537-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:46:15.538-03:00 ERROR 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: Status de orçamento inválido: ENVIADO] with root cause

java.lang.IllegalArgumentException: Status de orçamento inválido: ENVIADO
	at com.zlogcompras.mapper.OrcamentoMapper.mapStringToStatusOrcamento(OrcamentoMapper.java:105) ~[classes/:na]
	at com.zlogcompras.mapper.OrcamentoMapperImpl.toEntity(OrcamentoMapperImpl.java:36) ~[classes/:na]
	at com.zlogcompras.service.OrcamentoService.criarOrcamento(OrcamentoService.java:69) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.8.jar:6.1.8]
	at com.zlogcompras.service.OrcamentoService$$SpringCGLIB$$0.criarOrcamento(<generated>) ~[classes/:na]
	at com.zlogcompras.controller.OrcamentoController.criarOrcamento(OrcamentoController.java:37) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-28T03:46:15.549-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T03:46:15.549-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:46:15.550-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-07-28T03:46:15.550-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:46:15.551-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:46:15.551-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:46:15.551-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:46:15.551-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:46:15.551-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:46:15.552-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:46:15.552-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:46:15.553-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:46:15.553-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:46:15.553-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:46:15.553-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:46:15.553-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:46:15.553-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:46:15.553-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /error
2025-07-28T03:46:15.553-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e32faa1ec8@167f676d
2025-07-28T03:46:15.553-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /error
2025-07-28T03:46:15.553-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2025-07-28T03:46:15.553-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T03:46:15.553-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T03:46:15.553-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:46:15.553-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 03:46:15 BRT 2025, status=500, error=Internal Server Error, trace=java.lang.IllegalArgumentException: Status de orçamento inválido: ENVIADO
	at com.zlogcompras.mapper.OrcamentoMapper.mapStringToStatusOrcamento(OrcamentoMapper.java:105)
	at com.zlogcompras.mapper.OrcamentoMapperImpl.toEntity(OrcamentoMapperImpl.java:36)
	at com.zlogcompras.service.OrcamentoService.criarOrcamento(OrcamentoService.java:69)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.zlogcompras.service.OrcamentoService$$SpringCGLIB$$0.criarOrcamento(<generated>)
	at com.zlogcompras.controller.OrcamentoController.criarOrcamento(OrcamentoController.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
, message=Status de orçamento inválido: ENVIADO, path=/api/orcamentos}]
2025-07-28T03:46:15.562-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-07-28T03:46:15.562-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:46:15.568-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T03:47:37.199-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:47:37.200-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/orcamentos
2025-07-28T03:47:37.201-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:47:37.201-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:47:37.201-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:47:37.201-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:47:37.201-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:47:37.202-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:47:37.202-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:47:37.202-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:47:37.202-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/orcamentos
2025-07-28T03:47:37.203-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:47:37.204-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:47:37.204-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:47:37.204-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:47:37.209-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:47:37.211-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:47:37.314-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:47:37.315-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:47:37.319-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:47:37.319-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:47:37.321-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:47:37.321-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:47:37.321-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:47:37.321-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:47:37.322-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:47:37.322-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:47:37.323-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:47:37.323-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:47:37.323-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:47:37.323-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/orcamentos
2025-07-28T03:47:37.323-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/orcamentos using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3326ab6e
2025-07-28T03:47:37.324-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/orcamentos
2025-07-28T03:47:37.324-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/orcamentos", parameters={}
2025-07-28T03:47:37.324-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.OrcamentoController#criarOrcamento(OrcamentoRequestDTO)
2025-07-28T03:47:37.327-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [OrcamentoRequestDTO{solicitacaoCompraId=1, fornecedorId=1, valorTotal=19500.00, numeroOrcamento='ORC (truncated)...]
2025-07-28T03:47:37.329-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.OrcamentoService.criarOrcamento]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T03:47:37.330-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(930328662<open>)] for JPA transaction
2025-07-28T03:47:37.330-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4886b215]
2025-07-28T03:47:37.330-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(930328662<open>)] for JPA transaction
2025-07-28T03:47:37.330-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:47:37.331-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T03:47:37.333-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:47:37.336-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(930328662<open>)] for JPA transaction
2025-07-28T03:47:37.336-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:47:37.337-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version 
    from
        fornecedores f1_0 
    where
        f1_0.id=?
2025-07-28T03:47:37.338-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:47:37.340-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(930328662<open>)] for JPA transaction
2025-07-28T03:47:37.341-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:47:37.341-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:47:37.343-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:47:37.346-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(930328662<open>)] for JPA transaction
2025-07-28T03:47:37.346-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:47:37.347-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:47:37.349-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T03:47:37.351-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(930328662<open>)] for JPA transaction
2025-07-28T03:47:37.351-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:47:37.352-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:47:37.352-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T03:47:37.354-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(930328662<open>)] for JPA transaction
2025-07-28T03:47:37.354-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:47:37.355-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:47:37.356-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-07-28T03:47:37.358-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(930328662<open>)] for JPA transaction
2025-07-28T03:47:37.358-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:47:37.372-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        orcamentos
        (condicoes_pagamento, data_atualizacao, data_cotacao, data_criacao, fornecedor_id, numero_orcamento, observacoes, prazo_entrega, solicitacao_compra_id, status, valor_total, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:47:37.373-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [30 dias líquido]
2025-07-28T03:47:37.373-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T03:47:37.361905]
2025-07-28T03:47:37.373-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (3:DATE) <- [2025-07-28]
2025-07-28T03:47:37.374-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-07-28T03:47:37.361905]
2025-07-28T03:47:37.374-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (5:BIGINT) <- [1]
2025-07-28T03:47:37.374-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [ORC001-TSL]
2025-07-28T03:47:37.374-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (7:VARCHAR) <- [Preços válidos por 7 dias.]
2025-07-28T03:47:37.374-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [15 dias úteis]
2025-07-28T03:47:37.375-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [1]
2025-07-28T03:47:37.375-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (10:ENUM) <- [AGUARDANDO_APROVACAO]
2025-07-28T03:47:37.375-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (11:NUMERIC) <- [28800.0000]
2025-07-28T03:47:37.375-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (12:BIGINT) <- [0]
2025-07-28T03:47:37.494-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        itens_orcamento
        (codigo_produto, nome_produto, observacoes, orcamento_id, preco_unitario_cotado, produto_id, quantidade, unidade_medida_produto, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:47:37.495-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [null]
2025-07-28T03:47:37.495-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [null]
2025-07-28T03:47:37.495-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Desconto aplicado por volume]
2025-07-28T03:47:37.495-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [1]
2025-07-28T03:47:37.495-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (5:NUMERIC) <- [950.00]
2025-07-28T03:47:37.496-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [1]
2025-07-28T03:47:37.496-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (7:NUMERIC) <- [20.00]
2025-07-28T03:47:37.496-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [null]
2025-07-28T03:47:37.496-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [0]
2025-07-28T03:47:37.623-03:00  WARN 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-07-28T03:47:37.624-03:00 ERROR 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'nome_produto' cannot be null
2025-07-28T03:47:37.662-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2025-07-28T03:47:37.662-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(930328662<open>)] rollback-only
2025-07-28T03:47:37.671-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2025-07-28T03:47:37.672-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(930328662<open>)]
2025-07-28T03:47:37.678-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(930328662<open>)] after transaction
2025-07-28T03:47:37.678-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.dao.DataIntegrityViolationException: could not execute statement [Column 'nome_produto' cannot be null] [insert into itens_orcamento (codigo_produto,nome_produto,observacoes,orcamento_id,preco_unitario_cotado,produto_id,quantidade,unidade_medida_produto,version) values (?,?,?,?,?,?,?,?,?)]; SQL [insert into itens_orcamento (codigo_produto,nome_produto,observacoes,orcamento_id,preco_unitario_cotado,produto_id,quantidade,unidade_medida_produto,version) values (?,?,?,?,?,?,?,?,?)]; constraint [null]
2025-07-28T03:47:37.679-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:47:37.680-03:00 ERROR 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute statement [Column 'nome_produto' cannot be null] [insert into itens_orcamento (codigo_produto,nome_produto,observacoes,orcamento_id,preco_unitario_cotado,produto_id,quantidade,unidade_medida_produto,version) values (?,?,?,?,?,?,?,?,?)]; SQL [insert into itens_orcamento (codigo_produto,nome_produto,observacoes,orcamento_id,preco_unitario_cotado,produto_id,quantidade,unidade_medida_produto,version) values (?,?,?,?,?,?,?,?,?)]; constraint [null]] with root cause

java.sql.SQLIntegrityConstraintViolationException: Column 'nome_produto' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:113) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:938) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1106) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1045) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1369) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1030) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:799) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:747) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:290) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:280) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:517) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:439) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:224) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:551) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:481) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:442) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:224) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:157) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:518) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:317) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319) ~[spring-orm-6.1.8.jar:6.1.8]
	at jdk.proxy4/jdk.proxy4.$Proxy152.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:628) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.3.0.jar:3.3.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.1.8.jar:6.1.8]
	at jdk.proxy4/jdk.proxy4.$Proxy188.save(Unknown Source) ~[na:na]
	at com.zlogcompras.service.OrcamentoService.criarOrcamento(OrcamentoService.java:114) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.8.jar:6.1.8]
	at com.zlogcompras.service.OrcamentoService$$SpringCGLIB$$0.criarOrcamento(<generated>) ~[classes/:na]
	at com.zlogcompras.controller.OrcamentoController.criarOrcamento(OrcamentoController.java:37) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-28T03:47:37.692-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T03:47:37.692-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36dc51b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f45d8, org.springframework.security.web.context.SecurityContextHolderFilter@125b1371, org.springframework.security.web.header.HeaderWriterFilter@6ce6068c, org.springframework.web.filter.CorsFilter@1311f549, org.springframework.security.web.authentication.logout.LogoutFilter@22ca9ca7, com.zlogcompras.config.JwtAuthenticationFilter@63851754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5800b228, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d071fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b11719b, org.springframework.security.web.session.SessionManagementFilter@59893f9, org.springframework.security.web.access.ExceptionTranslationFilter@81b4229, org.springframework.security.web.access.intercept.AuthorizationFilter@60badff3]] (1/1)
2025-07-28T03:47:37.693-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-07-28T03:47:37.693-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:47:37.693-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:47:37.693-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:47:37.694-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:47:37.694-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:47:37.694-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:47:37.694-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:47:37.694-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:47:37.694-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:47:37.695-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:47:37.695-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:47:37.695-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:47:37.695-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:47:37.695-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:47:37.695-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /error
2025-07-28T03:47:37.695-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x000001e32faa1ec8@167f676d
2025-07-28T03:47:37.696-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /error
2025-07-28T03:47:37.696-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2025-07-28T03:47:37.696-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T03:47:37.697-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T03:47:37.699-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:47:37.700-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 03:47:37 BRT 2025, status=500, error=Internal Server Error, trace=org.springframework.dao.DataIntegrityViolationException: could not execute statement [Column 'nome_produto' cannot be null] [insert into itens_orcamento (codigo_produto,nome_produto,observacoes,orcamento_id,preco_unitario_cotado,produto_id,quantidade,unidade_medida_produto,version) values (?,?,?,?,?,?,?,?,?)]; SQL [insert into itens_orcamento (codigo_produto,nome_produto,observacoes,orcamento_id,preco_unitario_cotado,produto_id,quantidade,unidade_medida_produto,version) values (?,?,?,?,?,?,?,?,?)]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy188.save(Unknown Source)
	at com.zlogcompras.service.OrcamentoService.criarOrcamento(OrcamentoService.java:114)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.zlogcompras.service.OrcamentoService$$SpringCGLIB$$0.criarOrcamento(<generated>)
	at com.zlogcompras.controller.OrcamentoController.criarOrcamento(OrcamentoController.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Column 'nome_produto' cannot be null] [insert into itens_orcamento (codigo_produto,nome_produto,observacoes,orcamento_id,preco_unitario_cotado,produto_id,quantidade,unidade_medida_produto,version) values (?,?,?,?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:799)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:747)
	at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:290)
	at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:280)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:517)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:439)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:224)
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:551)
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:481)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:442)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:224)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:157)
	at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:518)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:317)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319)
	at jdk.proxy4/jdk.proxy4.$Proxy152.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:628)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 123 more
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'nome_produto' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:113)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:938)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1106)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1045)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1369)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1030)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 190 more
, message=could not execute statement [Column 'nome_produto' cannot be null] [insert into itens_orcamento (codigo_produto,nome_produto,observacoes,orcamento_id,preco_unitario_cotado,produto_id,quantidade,unidade_medida_produto,version) values (?,?,?,?,?,?,?,?,?)]; SQL [insert into itens_orcamento (codigo_produto,nome_produto,observacoes,orcamento_id,preco_unitario_cotado,produto_id,quantidade,unidade_medida_produto,version) values (?,?,?,?,?,?,?,?,?)]; constraint [null], path=/api/orcamentos}]
2025-07-28T03:47:37.706-03:00 DEBUG 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-07-28T03:47:37.706-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:47:37.708-03:00 TRACE 21056 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T03:52:57.966-03:00  INFO 21056 --- [zlog_compras] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2025-07-28T03:52:58.185-03:00  INFO 21056 --- [zlog_compras] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T03:52:58.238-03:00  INFO 21056 --- [zlog_compras] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-28T03:52:58.262-03:00  INFO 21056 --- [zlog_compras] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-28T03:52:59.334-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 21056 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T03:52:59.334-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T03:52:59.335-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T03:53:01.429-03:00  INFO 21056 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T03:53:01.631-03:00  INFO 21056 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 201 ms. Found 13 JPA repository interfaces.
2025-07-28T03:53:02.173-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T03:53:02.175-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T03:53:02.175-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T03:53:02.247-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T03:53:02.247-03:00  INFO 21056 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2894 ms
2025-07-28T03:53:02.354-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T03:53:02.354-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T03:53:02.357-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T03:53:02.387-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T03:53:02.389-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-28T03:53:02.957-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1a4ed219
2025-07-28T03:53:02.958-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-28T03:53:02.964-03:00  WARN 21056 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T03:53:03.755-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T03:53:03.757-03:00  INFO 21056 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T03:53:03.787-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T03:53:03.790-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T03:53:03.795-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:03.797-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:03.815-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:03.818-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T03:53:03.819-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T03:53:03.823-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:03.940-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T03:53:03.968-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@7a6f27}
2025-07-28T03:53:03.974-03:00  INFO 21056 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T03:53:03.974-03:00  WARN 21056 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T03:53:03.980-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:03.985-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:03.989-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T03:53:03.990-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T03:53:03.990-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:04.013-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:04.029-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:04.032-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T03:53:04.032-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T03:53:04.032-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:04.036-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T03:53:04.037-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T03:53:04.038-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:04.048-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:04.049-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:04.054-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T03:53:04.054-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T03:53:04.056-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:04.342-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:04.352-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:04.355-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T03:53:04.356-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T03:53:04.359-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:04.391-03:00  WARN 21056 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'orcamentoController': Lookup method resolution failed
2025-07-28T03:53:04.392-03:00  INFO 21056 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T03:53:04.398-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-28T03:53:04.403-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-28T03:53:04.406-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T03:53:04.420-03:00  INFO 21056 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T03:53:04.484-03:00 ERROR 21056 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'orcamentoController': Lookup method resolution failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.checkLookupMethods(AutowiredAnnotationBeanPostProcessor.java:497) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:367) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1296) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.zlogcompras.controller.OrcamentoController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@3e99aa08]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.checkLookupMethods(AutowiredAnnotationBeanPostProcessor.java:475) ~[spring-beans-6.1.8.jar:6.1.8]
	... 22 common frames omitted
Caused by: java.lang.NoClassDefFoundError: OrcamentoLoteRequestDTO
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578) ~[na:na]
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676) ~[na:na]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.1.8.jar:6.1.8]
	... 24 common frames omitted
Caused by: java.lang.ClassNotFoundException: OrcamentoLoteRequestDTO
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 28 common frames omitted

2025-07-28T03:53:06.097-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 21056 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T03:53:06.097-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T03:53:06.098-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T03:53:06.831-03:00  INFO 21056 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T03:53:06.888-03:00  INFO 21056 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 13 JPA repository interfaces.
2025-07-28T03:53:07.075-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T03:53:07.081-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T03:53:07.081-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T03:53:07.117-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-28T03:53:07.118-03:00  INFO 21056 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1016 ms
2025-07-28T03:53:07.247-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T03:53:07.249-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T03:53:07.257-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T03:53:07.276-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T03:53:07.278-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-07-28T03:53:07.293-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@47737491
2025-07-28T03:53:07.295-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-07-28T03:53:07.298-03:00  WARN 21056 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T03:53:07.681-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T03:53:07.682-03:00  INFO 21056 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T03:53:07.712-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T03:53:07.715-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T03:53:07.717-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:07.747-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:07.750-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T03:53:07.751-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T03:53:07.751-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:07.777-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T03:53:07.806-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@809d128}
2025-07-28T03:53:07.809-03:00  INFO 21056 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T03:53:07.809-03:00  WARN 21056 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T03:53:07.817-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:07.822-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:07.826-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T03:53:07.826-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T03:53:07.827-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:07.843-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:07.853-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:07.857-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T03:53:07.857-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T03:53:07.857-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:07.861-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T03:53:07.862-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T03:53:07.862-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:07.871-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:07.873-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:07.877-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T03:53:07.881-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T03:53:07.882-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:07.971-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:07.971-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:07.978-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T03:53:07.979-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T03:53:07.979-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.002-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.025-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.028-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T03:53:08.029-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T03:53:08.029-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.030-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T03:53:08.032-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T03:53:08.032-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.034-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T03:53:08.035-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T03:53:08.035-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.036-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T03:53:08.037-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T03:53:08.038-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.040-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T03:53:08.041-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T03:53:08.042-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.044-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T03:53:08.045-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T03:53:08.045-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.060-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T03:53:08.070-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T03:53:08.070-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.083-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.087-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.097-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.101-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.104-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T03:53:08.106-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T03:53:08.106-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.107-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T03:53:08.109-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T03:53:08.111-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.112-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T03:53:08.113-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T03:53:08.113-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.140-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.189-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.192-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T03:53:08.195-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T03:53:08.195-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.197-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T03:53:08.198-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T03:53:08.199-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.201-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T03:53:08.203-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T03:53:08.204-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.211-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.211-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.214-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T03:53:08.214-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T03:53:08.214-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.254-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.256-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.257-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T03:53:08.257-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T03:53:08.257-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.257-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T03:53:08.257-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T03:53:08.257-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.263-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T03:53:08.263-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T03:53:08.264-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.351-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-07-28T03:53:08.357-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-07-28T03:53:08.357-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-07-28T03:53:08.364-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
2025-07-28T03:53:08.366-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T03:53:08.371-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
2025-07-28T03:53:08.373-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{GET [/api/produtos]}: listarTodosProdutos()
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
2025-07-28T03:53:08.375-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
2025-07-28T03:53:08.377-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T03:53:08.377-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-07-28T03:53:08.385-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T03:53:08.387-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T03:53:08.389-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T03:53:08.437-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T03:53:08.454-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3914c120, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e8557de, org.springframework.security.web.context.SecurityContextHolderFilter@d175fdc, org.springframework.security.web.header.HeaderWriterFilter@393abfa6, org.springframework.web.filter.CorsFilter@69759389, org.springframework.security.web.authentication.logout.LogoutFilter@6849fffb, com.zlogcompras.config.JwtAuthenticationFilter@23ca72a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34c2c012, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58698ea3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b6af7e8, org.springframework.security.web.session.SessionManagementFilter@3aa3f30c, org.springframework.security.web.access.ExceptionTranslationFilter@5dfc821e, org.springframework.security.web.access.intercept.AuthorizationFilter@389b4cdb]
2025-07-28T03:53:08.518-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T03:53:08.527-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T03:53:08.624-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.628-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.628-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T03:53:08.628-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T03:53:08.628-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.639-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.647-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.650-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T03:53:08.651-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T03:53:08.652-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.690-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T03:53:08.709-03:00  INFO 21056 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T03:53:08.717-03:00  INFO 21056 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 2.696 seconds (process running for 5724.908)
2025-07-28T03:53:08.721-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.760-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T03:53:08.761-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T03:53:08.916-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:53:08.917-03:00 DEBUG 21056 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T03:53:08.918-03:00 TRACE 21056 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T03:53:08.918-03:00  INFO 21056 --- [zlog_compras] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-28T03:53:24.501-03:00  INFO 21056 --- [zlog_compras] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 118 class path changes (0 additions, 118 deletions, 0 modifications)
2025-07-28T03:53:24.511-03:00  INFO 21056 --- [zlog_compras] [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T03:53:24.512-03:00  INFO 21056 --- [zlog_compras] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-07-28T03:53:24.516-03:00  INFO 21056 --- [zlog_compras] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-07-28T03:54:09.209-03:00  INFO 12748 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Starting ZlogComprasApplicationTests using Java 21.0.8 with PID 12748 (started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T03:54:09.209-03:00 DEBUG 12748 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T03:54:09.209-03:00  INFO 12748 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : The following 1 profile is active: "test"
2025-07-28T03:54:09.241-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0
2025-07-28T03:54:11.873-03:00 DEBUG 12748 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T03:54:12.282-03:00  INFO 12748 --- [zlog_compras] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T03:54:12.380-03:00  WARN 12748 --- [zlog_compras] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T03:54:13.952-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-07-28T03:54:13.952-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-07-28T03:54:13.952-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-07-28T03:54:13.962-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-07-28T03:54:13.962-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-07-28T03:54:13.962-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-07-28T03:54:13.962-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-07-28T03:54:13.962-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-07-28T03:54:13.963-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-07-28T03:54:13.964-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-07-28T03:54:13.964-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-07-28T03:54:13.964-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-07-28T03:54:13.966-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-07-28T03:54:13.966-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-07-28T03:54:13.972-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table estoque (
        quantidade integer not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        data_ultima_entrada timestamp(6),
        data_ultima_saida timestamp(6),
        id bigint generated by default as identity,
        produto_id bigint not null,
        version bigint,
        localizacao varchar(255),
        observacoes varchar(255),
        primary key (id)
    )
2025-07-28T03:54:13.982-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table fornecedores (
        id bigint generated by default as identity,
        version bigint,
        telefone varchar(15),
        cnpj varchar(18) not null unique,
        contato varchar(255),
        email varchar(255) unique,
        endereco varchar(255) not null,
        razao_social varchar(255) not null,
        primary key (id)
    )
2025-07-28T03:54:13.982-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_orcamento (
        preco_unitario_cotado numeric(12,2) not null,
        quantidade numeric(10,3) not null,
        id bigint generated by default as identity,
        orcamento_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida_produto varchar(20),
        codigo_produto varchar(50),
        nome_produto varchar(255) not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-07-28T03:54:13.982-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_pedido_compra (
        preco_unitario numeric(12,2) not null,
        quantidade integer not null,
        subtotal numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida varchar(50),
        codigo_produto varchar(100),
        observacoes varchar(500),
        nome_produto varchar(255),
        primary key (id)
    )
2025-07-28T03:54:13.982-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_solicitacao_compra (
        quantidade numeric(10,3) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        produto_id bigint not null,
        solicitacao_compra_id bigint not null,
        version bigint,
        descricao_adicional varchar(255),
        status enum ('AGUARDANDO_ORCAMENTO','APROVADO','CANCELADO','COMPRADO','EM_COMPRA','ORCAMENTO_RECEBIDO','PENDENTE','REJEITADO') not null,
        primary key (id)
    )
2025-07-28T03:54:13.982-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table movimentacoes_estoque (
        quantidade numeric(10,3) not null,
        data_movimentacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        codigo_material varchar(255) not null,
        referencia varchar(255),
        tipo_movimentacao varchar(255) not null,
        primary key (id)
    )
2025-07-28T03:54:13.982-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table notas_fiscais (
        data_emissao date not null,
        valor_total numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        version bigint,
        numero_nota_fiscal varchar(255) not null unique,
        primary key (id)
    )
2025-07-28T03:54:13.992-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table orcamentos (
        data_cotacao date not null,
        valor_total numeric(12,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        fornecedor_id bigint not null,
        id bigint generated by default as identity,
        solicitacao_compra_id bigint not null,
        version bigint,
        condicoes_pagamento varchar(255),
        numero_orcamento varchar(255) not null,
        observacoes varchar(255),
        prazo_entrega varchar(255),
        status enum ('ABERTO','AGUARDANDO_APROVACAO','APROVADO','CANCELADO','CONCLUIDO','COTADO','PEDIDO_GERADO','PENDENTE','RECUSADO','REJEITADO') not null,
        primary key (id)
    )
2025-07-28T03:54:13.994-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table pedidos_compra (
        data_pedido date,
        valor_total numeric(38,2),
        fornecedor_id bigint,
        id bigint generated by default as identity,
        orcamento_id bigint unique,
        observacoes varchar(255),
        status enum ('AGUARDANDO_APROVACAO','AGUARDANDO_ENVIO','APROVADO','CANCELADO','CONCLUIDO','ENVIADO','FINALIZADO','PENDENTE','RECEBIDO_PARCIALMENTE','RECEBIDO_TOTALMENTE','RECUSADO','REJEITADO_PELO_FORNECEDOR'),
        primary key (id)
    )
2025-07-28T03:54:13.994-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table produtos (
        estoque integer not null,
        preco_unitario numeric(10,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        categoria varchar(50) not null,
        codigo varchar(50) not null unique,
        codigo_produto varchar(50) not null unique,
        descricao varchar(255),
        nome varchar(255),
        unidade_medida varchar(255) not null,
        primary key (id)
    )
2025-07-28T03:54:13.998-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table roles (
        id bigint generated by default as identity,
        name varchar(255) not null unique,
        primary key (id)
    )
2025-07-28T03:54:14.002-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table solicitacoes_compra (
        data_solicitacao date not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        descricao varchar(255),
        solicitante varchar(255) not null,
        status enum ('ABERTA','AGUARDANDO_PARECER','CANCELADA','CONCLUIDA','EM_ANDAMENTO','ORCAMENTO_APROVADO','PEDIDO_GERADO','PENDENTE','REJEITADO','SUSPENSO') not null,
        primary key (id)
    )
2025-07-28T03:54:14.002-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table user_roles (
        role_id bigint not null,
        user_id bigint not null,
        primary key (role_id, user_id)
    )
2025-07-28T03:54:14.002-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table users (
        enabled boolean not null,
        id bigint generated by default as identity,
        password varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-07-28T03:54:14.005-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists estoque 
       add constraint FKmonotpf9w7pfuomk89nqxgeq1 
       foreign key (produto_id) 
       references produtos
2025-07-28T03:54:14.020-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKqlfm2lrgelma3n8kwabcvw9qh 
       foreign key (orcamento_id) 
       references orcamentos
2025-07-28T03:54:14.022-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKbc0qr2yj9stqdgavwvoohki0m 
       foreign key (produto_id) 
       references produtos
2025-07-28T03:54:14.022-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FK8p88mt761a5vacmlhrc68148b 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-07-28T03:54:14.025-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FKrv4ebgf6fdlg2v3b6dcbep8dn 
       foreign key (produto_id) 
       references produtos
2025-07-28T03:54:14.027-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FKntep08q88crstb33ej6npyul5 
       foreign key (produto_id) 
       references produtos
2025-07-28T03:54:14.027-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FK19xietjd5tfpljngdy8daw06x 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-07-28T03:54:14.031-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists notas_fiscais 
       add constraint FKe4e784ip50emjknglqkpkovg4 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-07-28T03:54:14.032-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FKntj4otux0et5xc0cm2lgq3uey 
       foreign key (fornecedor_id) 
       references fornecedores
2025-07-28T03:54:14.032-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FK5bj47al0ogq18q5ge2roy9e53 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-07-28T03:54:14.039-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FKan3yv2vk5m3gbphqf4f6yxj4j 
       foreign key (fornecedor_id) 
       references fornecedores
2025-07-28T03:54:14.043-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FK5f0lurv407qu48ns0sdhky4du 
       foreign key (orcamento_id) 
       references orcamentos
2025-07-28T03:54:14.046-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-07-28T03:54:14.049-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-28T03:54:14.056-03:00  INFO 12748 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T03:54:14.190-03:00 DEBUG 12748 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T03:54:14.222-03:00 DEBUG 12748 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T03:54:14.262-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:14.324-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:14.452-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:14.540-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T03:54:14.544-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T03:54:14.551-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:14.676-03:00 TRACE 12748 --- [zlog_compras] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@30628ef9}
2025-07-28T03:54:14.733-03:00  INFO 12748 --- [zlog_compras] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T03:54:14.733-03:00  WARN 12748 --- [zlog_compras] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T03:54:14.744-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:14.746-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:14.749-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T03:54:14.750-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T03:54:14.750-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:14.771-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:14.785-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:14.785-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T03:54:14.785-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T03:54:14.785-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:14.798-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T03:54:14.798-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T03:54:14.799-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:14.810-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:14.814-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:14.818-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T03:54:14.818-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T03:54:14.819-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.412-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.412-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.412-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T03:54:15.412-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T03:54:15.412-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.442-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.472-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.474-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T03:54:15.476-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T03:54:15.476-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.482-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T03:54:15.482-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T03:54:15.482-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.485-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T03:54:15.485-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T03:54:15.485-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.485-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T03:54:15.485-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T03:54:15.485-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.485-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T03:54:15.485-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T03:54:15.485-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.492-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T03:54:15.492-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T03:54:15.492-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.492-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T03:54:15.492-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T03:54:15.492-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.503-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.504-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.513-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.514-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.517-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T03:54:15.517-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T03:54:15.518-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.519-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T03:54:15.520-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T03:54:15.520-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.521-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T03:54:15.522-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T03:54:15.522-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.532-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.542-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.554-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T03:54:15.554-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T03:54:15.554-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.558-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T03:54:15.558-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T03:54:15.558-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.560-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T03:54:15.560-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T03:54:15.560-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.570-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.572-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.572-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T03:54:15.575-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T03:54:15.575-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.614-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.617-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.619-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T03:54:15.619-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T03:54:15.619-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.622-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T03:54:15.624-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T03:54:15.624-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:15.626-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T03:54:15.626-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T03:54:15.626-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:16.097-03:00 TRACE 12748 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-07-28T03:54:16.112-03:00 TRACE 12748 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
2025-07-28T03:54:16.137-03:00 TRACE 12748 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
2025-07-28T03:54:16.161-03:00 TRACE 12748 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos]}: listarOrcamentos()
2025-07-28T03:54:16.180-03:00 TRACE 12748 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
2025-07-28T03:54:16.190-03:00 TRACE 12748 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T03:54:16.194-03:00 TRACE 12748 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
2025-07-28T03:54:16.198-03:00 TRACE 12748 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
2025-07-28T03:54:16.206-03:00 TRACE 12748 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T03:54:16.236-03:00 TRACE 12748 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T03:54:16.239-03:00 TRACE 12748 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T03:54:16.241-03:00 TRACE 12748 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T03:54:16.244-03:00 DEBUG 12748 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T03:54:16.426-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T03:54:16.484-03:00  INFO 12748 --- [zlog_compras] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54ba4f78, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ab5a810, org.springframework.security.web.context.SecurityContextHolderFilter@43f13160, org.springframework.security.web.header.HeaderWriterFilter@93bc31f, org.springframework.web.filter.CorsFilter@26781ebb, org.springframework.security.web.authentication.logout.LogoutFilter@524023c8, com.zlogcompras.config.JwtAuthenticationFilter@3bc57af4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3be22500, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@574985d8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2852fb2a, org.springframework.security.web.session.SessionManagementFilter@8936d23, org.springframework.security.web.access.ExceptionTranslationFilter@37a26221, org.springframework.security.web.access.intercept.AuthorizationFilter@4373a443]
2025-07-28T03:54:16.784-03:00 DEBUG 12748 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T03:54:16.823-03:00 DEBUG 12748 --- [zlog_compras] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T03:54:16.942-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:16.950-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:16.950-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T03:54:16.950-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T03:54:16.950-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:16.964-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:16.969-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:16.970-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T03:54:16.970-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T03:54:16.970-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:17.073-03:00  INFO 12748 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Started ZlogComprasApplicationTests in 8.241 seconds (process running for 12.577)
2025-07-28T03:54:17.086-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:17.282-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T03:54:17.282-03:00 TRACE 12748 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T03:54:17.307-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T03:54:17.307-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1560096858<open>)] for JPA transaction
2025-07-28T03:54:17.313-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5ceb9fae]
2025-07-28T03:54:17.332-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-07-28T03:54:17.332-03:00 TRACE 12748 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T03:54:17.349-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:54:17.349-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1560096858<open>)]
2025-07-28T03:54:17.354-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1560096858<open>)] after transaction
2025-07-28T03:54:17.355-03:00 DEBUG 12748 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:17.356-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T03:54:17.356-03:00 TRACE 12748 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T03:54:17.357-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T03:54:17.358-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1454825586<open>)] for JPA transaction
2025-07-28T03:54:17.358-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@143f9b0c]
2025-07-28T03:54:17.359-03:00 DEBUG 12748 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-07-28T03:54:17.359-03:00 TRACE 12748 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T03:54:17.360-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:54:17.360-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1454825586<open>)]
2025-07-28T03:54:17.360-03:00 DEBUG 12748 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1454825586<open>)] after transaction
2025-07-28T03:54:17.413-03:00 DEBUG 12748 --- [zlog_compras] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0, started on Mon Jul 28 03:54:09 BRT 2025
2025-07-28T03:54:17.423-03:00  INFO 12748 --- [zlog_compras] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T03:54:17.426-03:00 DEBUG 12748 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-07-28T03:54:17.429-03:00 DEBUG 12748 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-07-28T03:54:17.432-03:00 DEBUG 12748 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-07-28T03:54:17.432-03:00 DEBUG 12748 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-07-28T03:54:17.435-03:00 DEBUG 12748 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-07-28T03:54:17.435-03:00 DEBUG 12748 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-07-28T03:54:17.435-03:00 DEBUG 12748 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-07-28T03:54:17.435-03:00 DEBUG 12748 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-07-28T03:54:17.435-03:00 DEBUG 12748 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-07-28T03:54:17.435-03:00 DEBUG 12748 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-07-28T03:54:17.435-03:00 DEBUG 12748 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-07-28T03:54:17.435-03:00 DEBUG 12748 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-07-28T03:54:17.441-03:00 DEBUG 12748 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-07-28T03:54:17.441-03:00 DEBUG 12748 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-07-28T03:54:21.197-03:00  INFO 6040 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 6040 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T03:54:21.199-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T03:54:21.201-03:00  INFO 6040 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T03:54:21.278-03:00  INFO 6040 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28T03:54:21.279-03:00  INFO 6040 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28T03:54:22.990-03:00  INFO 6040 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T03:54:23.212-03:00  INFO 6040 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 210 ms. Found 13 JPA repository interfaces.
2025-07-28T03:54:24.657-03:00  INFO 6040 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T03:54:24.682-03:00  INFO 6040 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T03:54:24.685-03:00  INFO 6040 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T03:54:24.790-03:00  INFO 6040 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T03:54:24.791-03:00  INFO 6040 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3511 ms
2025-07-28T03:54:25.015-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T03:54:25.043-03:00  INFO 6040 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T03:54:25.160-03:00  INFO 6040 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-07-28T03:54:25.222-03:00  INFO 6040 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T03:54:25.677-03:00  INFO 6040 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T03:54:25.721-03:00  INFO 6040 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-28T03:54:25.955-03:00  INFO 6040 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4afbd9cc
2025-07-28T03:54:25.958-03:00  INFO 6040 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-28T03:54:26.126-03:00  WARN 6040 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T03:54:27.528-03:00  INFO 6040 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T03:54:27.533-03:00  INFO 6040 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T03:54:27.574-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T03:54:27.591-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T03:54:27.629-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:27.676-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:27.785-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:27.849-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T03:54:27.852-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T03:54:27.855-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:27.989-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T03:54:28.119-03:00 TRACE 6040 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@137530a0}
2025-07-28T03:54:28.162-03:00  INFO 6040 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T03:54:28.164-03:00  WARN 6040 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T03:54:28.174-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:28.181-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:28.186-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T03:54:28.187-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T03:54:28.188-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:28.211-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:28.229-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:28.235-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T03:54:28.236-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T03:54:28.236-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:28.240-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T03:54:28.241-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T03:54:28.242-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:28.275-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:28.287-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:28.301-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T03:54:28.307-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T03:54:28.311-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:28.971-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:28.979-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:28.983-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T03:54:28.985-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T03:54:28.986-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.015-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.038-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.046-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T03:54:29.047-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T03:54:29.048-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.054-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T03:54:29.055-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T03:54:29.056-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.059-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T03:54:29.060-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T03:54:29.060-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.070-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T03:54:29.072-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T03:54:29.072-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.075-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T03:54:29.076-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T03:54:29.076-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.077-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T03:54:29.079-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T03:54:29.080-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.082-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T03:54:29.083-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T03:54:29.085-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.098-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.100-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.109-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.110-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.117-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T03:54:29.120-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T03:54:29.120-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.123-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T03:54:29.124-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T03:54:29.124-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.128-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T03:54:29.129-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T03:54:29.130-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.155-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.166-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.169-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T03:54:29.170-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T03:54:29.170-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.172-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T03:54:29.174-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T03:54:29.174-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.176-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T03:54:29.177-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T03:54:29.177-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.192-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.193-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.195-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T03:54:29.196-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T03:54:29.197-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.251-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.252-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.254-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T03:54:29.255-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T03:54:29.255-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.257-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T03:54:29.258-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T03:54:29.259-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.260-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T03:54:29.261-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T03:54:29.261-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:29.786-03:00 TRACE 6040 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-07-28T03:54:29.799-03:00 TRACE 6040 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-07-28T03:54:29.810-03:00 TRACE 6040 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
2025-07-28T03:54:29.818-03:00 TRACE 6040 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
2025-07-28T03:54:29.826-03:00 TRACE 6040 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
2025-07-28T03:54:29.836-03:00 TRACE 6040 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T03:54:29.841-03:00 TRACE 6040 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{GET [/api/produtos]}: listarTodosProdutos()
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
2025-07-28T03:54:29.846-03:00 TRACE 6040 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
2025-07-28T03:54:29.859-03:00 TRACE 6040 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T03:54:29.887-03:00 TRACE 6040 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-07-28T03:54:29.891-03:00 TRACE 6040 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T03:54:29.894-03:00 TRACE 6040 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T03:54:29.898-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T03:54:30.030-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T03:54:30.098-03:00  INFO 6040 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@498ac376, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@719f7796, org.springframework.security.web.context.SecurityContextHolderFilter@7b5f9c68, org.springframework.security.web.header.HeaderWriterFilter@4529906c, org.springframework.web.filter.CorsFilter@30b3414b, org.springframework.security.web.authentication.logout.LogoutFilter@ae15bf5, com.zlogcompras.config.JwtAuthenticationFilter@5361fdc4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a1c7a2e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b7b2b1a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e217c4b, org.springframework.security.web.session.SessionManagementFilter@2ef9b8e9, org.springframework.security.web.access.ExceptionTranslationFilter@356abed2, org.springframework.security.web.access.intercept.AuthorizationFilter@44ef9841]
2025-07-28T03:54:30.266-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T03:54:30.325-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T03:54:30.505-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:30.509-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:30.511-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T03:54:30.512-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T03:54:30.514-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:30.530-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:30.536-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:30.539-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T03:54:30.540-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T03:54:30.540-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:30.658-03:00  INFO 6040 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T03:54:30.711-03:00  INFO 6040 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T03:54:30.735-03:00  INFO 6040 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 10.162 seconds (process running for 11.136)
2025-07-28T03:54:30.749-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:30.933-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T03:54:30.944-03:00 TRACE 6040 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T03:54:30.961-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:30.964-03:00 DEBUG 6040 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T03:54:30.965-03:00 TRACE 6040 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T03:54:31.545-03:00  INFO 6040 --- [zlog_compras] [RMI TCP Connection(4)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-07-28T03:54:31.564-03:00  INFO 6040 --- [zlog_compras] [RMI TCP Connection(4)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T03:54:31.570-03:00  INFO 6040 --- [zlog_compras] [RMI TCP Connection(4)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-28T03:54:31.587-03:00  INFO 6040 --- [zlog_compras] [RMI TCP Connection(4)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-28T03:54:54.751-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 2572 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T03:54:54.752-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T03:54:54.753-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T03:54:54.825-03:00  INFO 2572 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28T03:54:54.826-03:00  INFO 2572 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28T03:54:55.608-03:00  INFO 2572 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T03:54:55.691-03:00  INFO 2572 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 77 ms. Found 13 JPA repository interfaces.
2025-07-28T03:54:56.344-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T03:54:56.359-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T03:54:56.360-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T03:54:56.413-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T03:54:56.413-03:00  INFO 2572 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1587 ms
2025-07-28T03:54:56.542-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T03:54:56.558-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T03:54:56.602-03:00  INFO 2572 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-07-28T03:54:56.636-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T03:54:56.864-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T03:54:56.888-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-28T03:54:57.050-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@57e8b869
2025-07-28T03:54:57.053-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-28T03:54:57.095-03:00  WARN 2572 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T03:54:58.197-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T03:54:58.200-03:00  INFO 2572 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T03:54:58.231-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T03:54:58.241-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T03:54:58.262-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.294-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.341-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.376-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T03:54:58.378-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T03:54:58.381-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.467-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T03:54:58.505-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@17b54b22}
2025-07-28T03:54:58.526-03:00  INFO 2572 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T03:54:58.528-03:00  WARN 2572 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T03:54:58.533-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.536-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.538-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T03:54:58.538-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T03:54:58.539-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.551-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.560-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.562-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T03:54:58.563-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T03:54:58.563-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.565-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T03:54:58.566-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T03:54:58.566-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.576-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.577-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.579-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T03:54:58.580-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T03:54:58.580-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.951-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.954-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.956-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T03:54:58.956-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T03:54:58.956-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.973-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.987-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.989-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T03:54:58.990-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T03:54:58.990-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.991-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T03:54:58.991-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T03:54:58.992-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.994-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T03:54:58.994-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T03:54:58.994-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.996-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T03:54:58.997-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T03:54:58.997-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:58.998-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T03:54:58.999-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T03:54:58.999-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.003-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T03:54:59.003-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T03:54:59.003-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.004-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T03:54:59.005-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T03:54:59.005-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.011-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.013-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.020-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.021-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.024-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T03:54:59.024-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T03:54:59.025-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.026-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T03:54:59.027-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T03:54:59.027-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.028-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T03:54:59.029-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T03:54:59.029-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.039-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.047-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.049-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T03:54:59.049-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T03:54:59.050-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.054-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T03:54:59.055-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T03:54:59.055-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.057-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T03:54:59.057-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T03:54:59.057-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.065-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.066-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.068-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T03:54:59.068-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T03:54:59.068-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.101-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.102-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.105-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T03:54:59.105-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T03:54:59.106-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.107-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T03:54:59.107-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T03:54:59.108-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.109-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T03:54:59.109-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T03:54:59.110-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.377-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-07-28T03:54:59.388-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
2025-07-28T03:54:59.396-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
2025-07-28T03:54:59.401-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
2025-07-28T03:54:59.406-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T03:54:59.410-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T03:54:59.414-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
2025-07-28T03:54:59.417-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
2025-07-28T03:54:59.422-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T03:54:59.437-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-07-28T03:54:59.441-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T03:54:59.442-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T03:54:59.445-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T03:54:59.554-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T03:54:59.599-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]
2025-07-28T03:54:59.679-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T03:54:59.707-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T03:54:59.851-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.854-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.856-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T03:54:59.857-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T03:54:59.857-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.863-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.866-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.868-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T03:54:59.869-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T03:54:59.869-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:54:59.940-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T03:54:59.971-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T03:54:59.978-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 5.729 seconds (process running for 6.202)
2025-07-28T03:54:59.985-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:55:00.132-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T03:55:00.145-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T03:55:00.164-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:55:00.166-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T03:55:00.167-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T03:56:18.617-03:00  INFO 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28T03:56:18.618-03:00  INFO 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-28T03:56:18.619-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-07-28T03:56:18.619-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-07-28T03:56:18.620-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-07-28T03:56:18.621-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@e5ac862
2025-07-28T03:56:18.622-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@48229676
2025-07-28T03:56:18.624-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-28T03:56:18.625-03:00  INFO 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-07-28T03:56:18.662-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T03:56:18.664-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-07-28T03:56:18.665-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:56:18.666-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:56:18.671-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:56:18.672-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:56:18.676-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:56:18.684-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:56:18.684-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:56:18.684-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:56:18.685-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/auth/login
2025-07-28T03:56:18.685-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY3OTkwOSwiZXhwIjoxNzUzNzY2MzA5fQ.v2uVW7hjf7Kihajv4CvcoBnLBuYOl26X5Pgv2xrtvZs
2025-07-28T03:56:18.909-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:56:18.910-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:56:18.911-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:56:18.920-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:56:18.924-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:56:19.083-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:56:19.085-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:56:19.098-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:56:19.098-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:56:19.101-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:56:19.103-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:56:19.103-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:56:19.105-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:56:19.106-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:56:19.107-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:56:19.109-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:56:19.110-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:56:19.111-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:56:19.111-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-07-28T03:56:19.113-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000274d3aa3c10@52d92c00
2025-07-28T03:56:19.114-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-07-28T03:56:19.116-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-07-28T03:56:19.118-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-07-28T03:56:19.196-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=MarcioSouza, password=12345678)]
2025-07-28T03:56:19.207-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-07-28T03:56:19.359-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:56:19.361-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:56:19.362-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:56:19.369-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:56:19.370-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:56:19.515-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-07-28T03:56:19.516-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:56:19.517-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:56:19.518-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:56:19.520-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:56:19.521-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:56:19.570-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:56:19.571-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4)]
2025-07-28T03:56:19.577-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:56:19.580-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T03:57:18.628-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T03:57:18.629-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/orcamentos
2025-07-28T03:57:18.630-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:57:18.630-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:57:18.630-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:57:18.630-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:57:18.631-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:57:18.631-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:57:18.632-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:57:18.632-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:57:18.632-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/orcamentos
2025-07-28T03:57:18.632-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T03:57:18.633-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:57:18.634-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:57:18.634-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:57:18.636-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:57:18.638-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:57:18.640-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:57:18.640-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:57:18.642-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:57:18.643-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:57:18.644-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:57:18.644-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:57:18.644-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:57:18.645-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:57:18.645-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:57:18.645-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:57:18.645-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:57:18.646-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:57:18.646-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:57:18.646-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/orcamentos
2025-07-28T03:57:18.646-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/orcamentos using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T03:57:18.647-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/orcamentos
2025-07-28T03:57:18.647-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/orcamentos", parameters={}
2025-07-28T03:57:18.648-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.OrcamentoController#criarOrcamento(OrcamentoRequestDTO)
2025-07-28T03:57:18.674-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [OrcamentoRequestDTO{solicitacaoCompraId=1, fornecedorId=1, valorTotal=19500.00, numeroOrcamento='ORC (truncated)...]
2025-07-28T03:57:18.770-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.OrcamentoService.criarOrcamento]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T03:57:18.773-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1142757630<open>)] for JPA transaction
2025-07-28T03:57:18.782-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3abd4c61]
2025-07-28T03:57:18.786-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1142757630<open>)] for JPA transaction
2025-07-28T03:57:18.786-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:57:18.805-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T03:57:18.805-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:57:18.822-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1142757630<open>)] for JPA transaction
2025-07-28T03:57:18.823-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:57:18.824-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version 
    from
        fornecedores f1_0 
    where
        f1_0.id=?
2025-07-28T03:57:18.825-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:57:18.830-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1142757630<open>)] for JPA transaction
2025-07-28T03:57:18.830-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:57:18.830-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:57:18.833-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:57:18.875-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1142757630<open>)] for JPA transaction
2025-07-28T03:57:18.875-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:57:18.876-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:57:18.877-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T03:57:18.877-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1142757630<open>)] for JPA transaction
2025-07-28T03:57:18.877-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:57:18.881-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:57:18.881-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T03:57:18.881-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1142757630<open>)] for JPA transaction
2025-07-28T03:57:18.881-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:57:18.881-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:57:18.889-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-07-28T03:57:18.893-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1142757630<open>)] for JPA transaction
2025-07-28T03:57:18.894-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:57:18.963-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        orcamentos
        (condicoes_pagamento, data_atualizacao, data_cotacao, data_criacao, fornecedor_id, numero_orcamento, observacoes, prazo_entrega, solicitacao_compra_id, status, valor_total, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:57:18.967-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [30 dias líquido]
2025-07-28T03:57:18.967-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T03:57:18.909386100]
2025-07-28T03:57:18.967-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (3:DATE) <- [2025-07-28]
2025-07-28T03:57:18.968-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-07-28T03:57:18.909386100]
2025-07-28T03:57:18.968-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (5:BIGINT) <- [1]
2025-07-28T03:57:18.968-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [ORC001-TSL]
2025-07-28T03:57:18.968-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (7:VARCHAR) <- [Preços válidos por 7 dias.]
2025-07-28T03:57:18.968-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [15 dias úteis]
2025-07-28T03:57:18.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [1]
2025-07-28T03:57:18.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (10:ENUM) <- [AGUARDANDO_APROVACAO]
2025-07-28T03:57:18.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (11:NUMERIC) <- [28800.0000]
2025-07-28T03:57:18.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (12:BIGINT) <- [0]
2025-07-28T03:57:19.277-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        itens_orcamento
        (codigo_produto, nome_produto, observacoes, orcamento_id, preco_unitario_cotado, produto_id, quantidade, unidade_medida_produto, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:57:19.278-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [SKU001]
2025-07-28T03:57:19.278-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [Monitor Dell 27 polegadas]
2025-07-28T03:57:19.279-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Desconto aplicado por volume]
2025-07-28T03:57:19.279-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [2]
2025-07-28T03:57:19.280-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (5:NUMERIC) <- [950.00]
2025-07-28T03:57:19.280-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [1]
2025-07-28T03:57:19.281-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (7:NUMERIC) <- [20.00]
2025-07-28T03:57:19.281-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [UN]
2025-07-28T03:57:19.281-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [0]
2025-07-28T03:57:19.308-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        itens_orcamento
        (codigo_produto, nome_produto, observacoes, orcamento_id, preco_unitario_cotado, produto_id, quantidade, unidade_medida_produto, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:57:19.310-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [SKU002]
2025-07-28T03:57:19.310-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [Teclado Mecânico Gamer Pro]
2025-07-28T03:57:19.310-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Modelo premium]
2025-07-28T03:57:19.311-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [2]
2025-07-28T03:57:19.311-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (5:NUMERIC) <- [340.00]
2025-07-28T03:57:19.313-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [2]
2025-07-28T03:57:19.313-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (7:NUMERIC) <- [20.00]
2025-07-28T03:57:19.313-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [UN]
2025-07-28T03:57:19.313-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [0]
2025-07-28T03:57:19.315-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        itens_orcamento
        (codigo_produto, nome_produto, observacoes, orcamento_id, preco_unitario_cotado, produto_id, quantidade, unidade_medida_produto, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:57:19.317-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [SKU003]
2025-07-28T03:57:19.318-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [Mouse Sem Fio Ergonômico]
2025-07-28T03:57:19.318-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Modelo padrão]
2025-07-28T03:57:19.318-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [2]
2025-07-28T03:57:19.319-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (5:NUMERIC) <- [110.00]
2025-07-28T03:57:19.319-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [3]
2025-07-28T03:57:19.319-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (7:NUMERIC) <- [15.00]
2025-07-28T03:57:19.319-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [UN]
2025-07-28T03:57:19.320-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [0]
2025-07-28T03:57:19.323-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        itens_orcamento
        (codigo_produto, nome_produto, observacoes, orcamento_id, preco_unitario_cotado, produto_id, quantidade, unidade_medida_produto, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T03:57:19.324-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [SKU004]
2025-07-28T03:57:19.325-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [Webcam Full HD]
2025-07-28T03:57:19.325-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Com microfone HD]
2025-07-28T03:57:19.326-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [2]
2025-07-28T03:57:19.326-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (5:NUMERIC) <- [270.00]
2025-07-28T03:57:19.326-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [4]
2025-07-28T03:57:19.326-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (7:NUMERIC) <- [5.00]
2025-07-28T03:57:19.326-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [UN]
2025-07-28T03:57:19.326-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [0]
2025-07-28T03:57:19.330-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:57:19.330-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1142757630<open>)]
2025-07-28T03:57:19.377-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1142757630<open>)] after transaction
2025-07-28T03:57:19.385-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:57:19.386-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [OrcamentoResponseDTO{id=2, solicitacaoCompraId=1, fornecedorId=null, nomeFornecedor='Tech Suprimentos Ltda.', status='AGUARDANDO_APROVACAO', valorTotal=28800.0000}]
2025-07-28T03:57:19.396-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:57:19.397-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-07-28T03:58:11.789-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T03:58:11.789-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/orcamentos
2025-07-28T03:58:11.789-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:58:11.790-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:58:11.790-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:58:11.790-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:58:11.790-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:58:11.790-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:58:11.792-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:58:11.792-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:58:11.792-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/orcamentos
2025-07-28T03:58:11.792-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T03:58:11.818-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:58:11.818-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:58:11.818-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:58:11.820-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:58:11.822-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:58:11.830-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:58:11.832-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:58:11.834-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:58:11.834-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:58:11.835-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:58:11.835-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:58:11.836-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:58:11.836-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:58:11.836-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:58:11.836-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:58:11.836-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:58:11.836-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:58:11.836-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:58:11.837-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/orcamentos
2025-07-28T03:58:11.837-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/orcamentos using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T03:58:11.837-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/orcamentos
2025-07-28T03:58:11.838-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/orcamentos", parameters={}
2025-07-28T03:58:11.838-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.OrcamentoController#listarOrcamentos()
2025-07-28T03:58:11.839-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.OrcamentoService.listarTodosOrcamentos]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-28T03:58:11.839-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(418279205<open>)] for JPA transaction
2025-07-28T03:58:11.846-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1f54a9c2]
2025-07-28T03:58:11.847-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(418279205<open>)] for JPA transaction
2025-07-28T03:58:11.847-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:58:11.853-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        o1_0.id,
        o1_0.condicoes_pagamento,
        o1_0.data_atualizacao,
        o1_0.data_cotacao,
        o1_0.data_criacao,
        o1_0.fornecedor_id,
        o1_0.numero_orcamento,
        o1_0.observacoes,
        o1_0.prazo_entrega,
        o1_0.solicitacao_compra_id,
        o1_0.status,
        o1_0.valor_total,
        o1_0.version 
    from
        orcamentos o1_0
2025-07-28T03:58:11.869-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version 
    from
        fornecedores f1_0 
    where
        f1_0.id=?
2025-07-28T03:58:11.872-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:58:11.875-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T03:58:11.875-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:58:11.878-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        io1_0.orcamento_id,
        io1_0.id,
        io1_0.codigo_produto,
        io1_0.nome_produto,
        io1_0.observacoes,
        io1_0.preco_unitario_cotado,
        io1_0.produto_id,
        io1_0.quantidade,
        io1_0.unidade_medida_produto,
        io1_0.version 
    from
        itens_orcamento io1_0 
    where
        io1_0.orcamento_id=?
2025-07-28T03:58:11.879-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T03:58:11.915-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:58:11.916-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:58:11.918-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:58:11.919-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T03:58:11.922-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:58:11.924-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T03:58:11.926-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T03:58:11.926-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-07-28T03:58:11.927-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T03:58:11.928-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(418279205<open>)]
2025-07-28T03:58:11.929-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(418279205<open>)] after transaction
2025-07-28T03:58:11.930-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:58:11.930-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[OrcamentoResponseDTO{id=2, solicitacaoCompraId=1, fornecedorId=null, nomeFornecedor='Tech Suprimentos Ltda.', status='AGUARDANDO_APROVACAO', valorTotal=28800.00}]]
2025-07-28T03:58:11.931-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:58:11.934-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T03:58:46.877-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T03:58:46.878-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/orcamentos/1
2025-07-28T03:58:46.878-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:58:46.878-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:58:46.878-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:58:46.879-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:58:46.879-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:58:46.879-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:58:46.880-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:58:46.880-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:58:46.880-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/orcamentos/1
2025-07-28T03:58:46.906-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T03:58:46.907-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T03:58:46.908-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:58:46.908-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T03:58:46.912-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T03:58:46.917-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T03:58:46.919-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T03:58:46.920-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:58:46.922-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T03:58:46.922-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T03:58:46.923-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T03:58:46.924-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:58:46.924-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:58:46.924-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:58:46.924-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:58:46.925-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T03:58:46.925-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T03:58:46.925-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:58:46.925-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:58:46.926-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/orcamentos/1
2025-07-28T03:58:46.926-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/orcamentos/1 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T03:58:46.926-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/orcamentos/1
2025-07-28T03:58:46.926-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/orcamentos/1", parameters={}
2025-07-28T03:58:46.927-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.OrcamentoController#buscarOrcamentoPorId(Long)
2025-07-28T03:58:46.929-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.OrcamentoService.buscarOrcamentoPorId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-28T03:58:46.929-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(764247879<open>)] for JPA transaction
2025-07-28T03:58:46.930-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@665e5534]
2025-07-28T03:58:46.930-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(764247879<open>)] for JPA transaction
2025-07-28T03:58:46.932-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T03:58:46.933-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        o1_0.id,
        o1_0.condicoes_pagamento,
        o1_0.data_atualizacao,
        o1_0.data_cotacao,
        o1_0.data_criacao,
        o1_0.fornecedor_id,
        o1_0.numero_orcamento,
        o1_0.observacoes,
        o1_0.prazo_entrega,
        o1_0.solicitacao_compra_id,
        o1_0.status,
        o1_0.valor_total,
        o1_0.version 
    from
        orcamentos o1_0 
    where
        o1_0.id=?
2025-07-28T03:58:46.934-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T03:58:46.938-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2025-07-28T03:58:46.939-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(764247879<open>)]
2025-07-28T03:58:46.940-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(764247879<open>)] after transaction
2025-07-28T03:58:46.943-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T03:58:46.944-03:00  WARN 2572 --- [zlog_compras] [http-nio-8080-exec-4] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "Orçamento não encontrado com ID: 1"]
2025-07-28T03:58:46.944-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-07-28T03:58:46.955-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T03:58:46.956-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T03:58:46.956-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-07-28T03:58:46.956-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T03:58:46.956-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T03:58:46.957-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T03:58:46.957-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T03:58:46.957-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T03:58:46.957-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T03:58:46.957-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T03:58:46.958-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T03:58:46.958-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T03:58:46.958-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T03:58:46.958-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T03:58:46.958-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T03:58:46.959-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T03:58:46.959-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T03:58:46.959-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /error
2025-07-28T03:58:46.960-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000274d3aa3c10@52d92c00
2025-07-28T03:58:46.960-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-07-28T03:58:46.961-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-07-28T03:58:46.961-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T03:58:46.961-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T03:58:46.968-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T03:58:46.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 03:58:46 BRT 2025, status=404, error=Not Found, trace=org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "Orçamento não encontrado com ID: 1"
	at com.zlogcompras.service.OrcamentoService.lambda$buscarOrcamentoPorId$7(OrcamentoService.java:249)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.zlogcompras.service.OrcamentoService.buscarOrcamentoPorId(OrcamentoService.java:249)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.zlogcompras.service.OrcamentoService$$SpringCGLIB$$0.buscarOrcamentoPorId(<generated>)
	at com.zlogcompras.controller.OrcamentoController.buscarOrcamentoPorId(OrcamentoController.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
, message=Orçamento não encontrado com ID: 1, path=/api/orcamentos/1}]
2025-07-28T03:58:46.979-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-07-28T03:58:46.979-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T03:58:46.980-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T04:00:03.872-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:00:03.873-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/orcamentos
2025-07-28T04:00:03.873-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:00:03.873-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:00:03.873-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:00:03.875-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:00:03.875-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:00:03.875-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:00:03.875-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:00:03.875-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:00:03.876-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/orcamentos
2025-07-28T04:00:03.876-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:00:03.877-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:00:03.877-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:00:03.878-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:00:03.881-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:00:03.883-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:00:03.886-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:00:03.888-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:00:03.889-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:00:03.890-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:00:03.891-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:00:03.891-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:00:03.892-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:00:03.892-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:00:03.892-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:00:03.892-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:00:03.893-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:00:03.893-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:00:03.893-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:00:03.893-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/orcamentos
2025-07-28T04:00:03.893-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/orcamentos using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:00:03.894-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/orcamentos
2025-07-28T04:00:03.894-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/orcamentos", parameters={}
2025-07-28T04:00:03.894-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.OrcamentoController#listarOrcamentos()
2025-07-28T04:00:03.895-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.OrcamentoService.listarTodosOrcamentos]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-28T04:00:03.895-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1017816297<open>)] for JPA transaction
2025-07-28T04:00:03.897-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2479ff2a]
2025-07-28T04:00:03.897-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1017816297<open>)] for JPA transaction
2025-07-28T04:00:03.897-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:00:03.901-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        o1_0.id,
        o1_0.condicoes_pagamento,
        o1_0.data_atualizacao,
        o1_0.data_cotacao,
        o1_0.data_criacao,
        o1_0.fornecedor_id,
        o1_0.numero_orcamento,
        o1_0.observacoes,
        o1_0.prazo_entrega,
        o1_0.solicitacao_compra_id,
        o1_0.status,
        o1_0.valor_total,
        o1_0.version 
    from
        orcamentos o1_0
2025-07-28T04:00:03.903-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version 
    from
        fornecedores f1_0 
    where
        f1_0.id=?
2025-07-28T04:00:03.904-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:00:03.907-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T04:00:03.908-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:00:03.909-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        io1_0.orcamento_id,
        io1_0.id,
        io1_0.codigo_produto,
        io1_0.nome_produto,
        io1_0.observacoes,
        io1_0.preco_unitario_cotado,
        io1_0.produto_id,
        io1_0.quantidade,
        io1_0.unidade_medida_produto,
        io1_0.version 
    from
        itens_orcamento io1_0 
    where
        io1_0.orcamento_id=?
2025-07-28T04:00:03.910-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:00:03.913-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:00:03.914-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:00:03.917-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:00:03.920-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:00:03.922-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:00:03.923-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T04:00:03.924-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:00:03.924-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-07-28T04:00:03.926-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:00:03.926-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1017816297<open>)]
2025-07-28T04:00:03.927-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1017816297<open>)] after transaction
2025-07-28T04:00:03.928-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:00:03.928-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[OrcamentoResponseDTO{id=2, solicitacaoCompraId=1, fornecedorId=null, nomeFornecedor='Tech Suprimentos Ltda.', status='AGUARDANDO_APROVACAO', valorTotal=28800.00}]]
2025-07-28T04:00:03.929-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:00:03.929-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T04:00:20.325-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:00:20.325-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/orcamentos/2
2025-07-28T04:00:20.325-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:00:20.325-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:00:20.325-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:00:20.327-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:00:20.327-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:00:20.327-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:00:20.327-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:00:20.327-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:00:20.328-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/orcamentos/2
2025-07-28T04:00:20.328-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:00:20.330-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:00:20.331-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:00:20.331-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:00:20.354-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:00:20.362-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:00:20.364-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:00:20.367-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:00:20.369-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:00:20.370-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:00:20.374-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:00:20.374-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:00:20.374-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:00:20.374-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:00:20.374-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:00:20.374-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:00:20.374-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:00:20.376-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:00:20.376-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:00:20.376-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/orcamentos/2
2025-07-28T04:00:20.376-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/orcamentos/2 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:00:20.377-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/orcamentos/2
2025-07-28T04:00:20.377-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/orcamentos/2", parameters={}
2025-07-28T04:00:20.377-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.OrcamentoController#buscarOrcamentoPorId(Long)
2025-07-28T04:00:20.378-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.OrcamentoService.buscarOrcamentoPorId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-28T04:00:20.378-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1058741584<open>)] for JPA transaction
2025-07-28T04:00:20.379-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2c1d8ef6]
2025-07-28T04:00:20.379-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1058741584<open>)] for JPA transaction
2025-07-28T04:00:20.379-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:00:20.380-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        o1_0.id,
        o1_0.condicoes_pagamento,
        o1_0.data_atualizacao,
        o1_0.data_cotacao,
        o1_0.data_criacao,
        o1_0.fornecedor_id,
        o1_0.numero_orcamento,
        o1_0.observacoes,
        o1_0.prazo_entrega,
        o1_0.solicitacao_compra_id,
        o1_0.status,
        o1_0.valor_total,
        o1_0.version 
    from
        orcamentos o1_0 
    where
        o1_0.id=?
2025-07-28T04:00:20.381-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:00:20.384-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version 
    from
        fornecedores f1_0 
    where
        f1_0.id=?
2025-07-28T04:00:20.384-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:00:20.387-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T04:00:20.388-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:00:20.390-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        io1_0.orcamento_id,
        io1_0.id,
        io1_0.codigo_produto,
        io1_0.nome_produto,
        io1_0.observacoes,
        io1_0.preco_unitario_cotado,
        io1_0.produto_id,
        io1_0.quantidade,
        io1_0.unidade_medida_produto,
        io1_0.version 
    from
        itens_orcamento io1_0 
    where
        io1_0.orcamento_id=?
2025-07-28T04:00:20.391-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:00:20.393-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:00:20.394-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:00:20.396-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:00:20.397-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:00:20.400-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:00:20.401-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T04:00:20.401-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:00:20.401-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-07-28T04:00:20.401-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:00:20.401-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1058741584<open>)]
2025-07-28T04:00:20.406-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1058741584<open>)] after transaction
2025-07-28T04:00:20.406-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:00:20.406-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [OrcamentoResponseDTO{id=2, solicitacaoCompraId=1, fornecedorId=null, nomeFornecedor='Tech Suprimentos Ltda.', status='AGUARDANDO_APROVACAO', valorTotal=28800.00}]
2025-07-28T04:00:20.406-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:00:20.406-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T04:04:33.706-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:04:33.707-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing PATCH /api/orcamentos/2/aprovar
2025-07-28T04:04:33.707-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:04:33.707-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:04:33.708-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:04:33.708-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:04:33.708-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:04:33.708-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:04:33.709-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:04:33.709-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:04:33.709-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/orcamentos/2/aprovar
2025-07-28T04:04:33.709-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:04:33.711-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:04:33.711-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:04:33.711-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:04:33.712-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:04:33.714-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:04:33.716-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:04:33.717-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:04:33.719-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:04:33.720-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:04:33.723-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:04:33.723-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:04:33.725-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:04:33.725-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:04:33.725-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:04:33.726-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:04:33.726-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:04:33.726-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:04:33.726-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:04:33.726-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing PATCH /api/orcamentos/2/aprovar
2025-07-28T04:04:33.727-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on PATCH /api/orcamentos/2/aprovar using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:04:33.727-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured PATCH /api/orcamentos/2/aprovar
2025-07-28T04:04:33.727-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : PATCH "/api/orcamentos/2/aprovar", parameters={}
2025-07-28T04:04:33.727-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.OrcamentoController#aprovarOrcamento(Long)
2025-07-28T04:04:33.730-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.OrcamentoService.aprovarOrcamento]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:04:33.730-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(644347296<open>)] for JPA transaction
2025-07-28T04:04:33.730-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2253df65]
2025-07-28T04:04:33.730-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(644347296<open>)] for JPA transaction
2025-07-28T04:04:33.732-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:04:33.732-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        o1_0.id,
        o1_0.condicoes_pagamento,
        o1_0.data_atualizacao,
        o1_0.data_cotacao,
        o1_0.data_criacao,
        o1_0.fornecedor_id,
        o1_0.numero_orcamento,
        o1_0.observacoes,
        o1_0.prazo_entrega,
        o1_0.solicitacao_compra_id,
        o1_0.status,
        o1_0.valor_total,
        o1_0.version 
    from
        orcamentos o1_0 
    where
        o1_0.id=?
2025-07-28T04:04:33.734-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:04:33.738-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(644347296<open>)] for JPA transaction
2025-07-28T04:04:33.738-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:04:33.762-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    update
        orcamentos 
    set
        condicoes_pagamento=?,
        data_atualizacao=?,
        data_cotacao=?,
        fornecedor_id=?,
        numero_orcamento=?,
        observacoes=?,
        prazo_entrega=?,
        solicitacao_compra_id=?,
        status=?,
        valor_total=?,
        version=? 
    where
        id=? 
        and version=?
2025-07-28T04:04:33.763-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [30 dias líquido]
2025-07-28T04:04:33.763-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T04:04:33.750579400]
2025-07-28T04:04:33.764-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (3:DATE) <- [2025-07-28]
2025-07-28T04:04:33.764-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [1]
2025-07-28T04:04:33.764-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [ORC001-TSL]
2025-07-28T04:04:33.764-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Preços válidos por 7 dias.]
2025-07-28T04:04:33.764-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (7:VARCHAR) <- [15 dias úteis]
2025-07-28T04:04:33.764-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [1]
2025-07-28T04:04:33.765-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (9:ENUM) <- [APROVADO]
2025-07-28T04:04:33.765-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (10:NUMERIC) <- [28800.00]
2025-07-28T04:04:33.765-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (11:BIGINT) <- [1]
2025-07-28T04:04:33.765-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (12:BIGINT) <- [2]
2025-07-28T04:04:33.765-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (13:BIGINT) <- [0]
2025-07-28T04:04:33.773-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        o1_0.id,
        o1_0.condicoes_pagamento,
        o1_0.data_atualizacao,
        o1_0.data_cotacao,
        o1_0.data_criacao,
        o1_0.fornecedor_id,
        o1_0.numero_orcamento,
        o1_0.observacoes,
        o1_0.prazo_entrega,
        o1_0.solicitacao_compra_id,
        o1_0.status,
        o1_0.valor_total,
        o1_0.version 
    from
        orcamentos o1_0 
    where
        o1_0.solicitacao_compra_id=? 
        and o1_0.id<>?
2025-07-28T04:04:33.774-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:04:33.774-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (2:BIGINT) <- [2]
2025-07-28T04:04:33.792-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T04:04:33.794-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:04:33.796-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(644347296<open>)] for JPA transaction
2025-07-28T04:04:33.796-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:04:33.798-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(644347296<open>)] for JPA transaction
2025-07-28T04:04:33.799-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:04:33.799-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        io1_0.orcamento_id,
        io1_0.id,
        io1_0.codigo_produto,
        io1_0.nome_produto,
        io1_0.observacoes,
        io1_0.preco_unitario_cotado,
        io1_0.produto_id,
        io1_0.quantidade,
        io1_0.unidade_medida_produto,
        io1_0.version 
    from
        itens_orcamento io1_0 
    where
        io1_0.orcamento_id=?
2025-07-28T04:04:33.800-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:04:33.806-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(644347296<open>)] for JPA transaction
2025-07-28T04:04:33.807-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:04:33.809-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    insert 
    into
        pedidos_compra
        (data_pedido, fornecedor_id, observacoes, orcamento_id, status, valor_total) 
    values
        (?, ?, ?, ?, ?, ?)
2025-07-28T04:04:33.810-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:DATE) <- [2025-07-28]
2025-07-28T04:04:33.811-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (2:BIGINT) <- [1]
2025-07-28T04:04:33.811-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [null]
2025-07-28T04:04:33.812-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [2]
2025-07-28T04:04:33.812-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (5:ENUM) <- [AGUARDANDO_ENVIO]
2025-07-28T04:04:33.812-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (6:NUMERIC) <- [28800.00000]
2025-07-28T04:04:33.945-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    insert 
    into
        itens_pedido_compra
        (codigo_produto, nome_produto, observacoes, pedido_compra_id, preco_unitario, produto_id, quantidade, subtotal, unidade_medida, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T04:04:33.947-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [SKU001]
2025-07-28T04:04:33.947-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [Monitor Dell 27 polegadas]
2025-07-28T04:04:33.947-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Desconto aplicado por volume]
2025-07-28T04:04:33.947-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [1]
2025-07-28T04:04:33.947-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (5:NUMERIC) <- [950.00]
2025-07-28T04:04:33.947-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [1]
2025-07-28T04:04:33.947-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [20]
2025-07-28T04:04:33.948-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (8:NUMERIC) <- [19000.00000]
2025-07-28T04:04:33.948-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (9:VARCHAR) <- [UN]
2025-07-28T04:04:33.948-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (10:BIGINT) <- [0]
2025-07-28T04:04:33.951-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:04:33.951-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(644347296<open>)]
2025-07-28T04:04:33.957-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    update
        solicitacoes_compra 
    set
        data_atualizacao=?,
        data_solicitacao=?,
        descricao=?,
        solicitante=?,
        status=?,
        version=? 
    where
        id=? 
        and version=?
2025-07-28T04:04:33.959-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T04:04:33.954106300]
2025-07-28T04:04:33.959-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (2:DATE) <- [2025-07-28]
2025-07-28T04:04:33.960-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Solicitação de compra para equipamentos de informática - Q3/2025]
2025-07-28T04:04:33.960-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [Departamento de TI]
2025-07-28T04:04:33.960-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (5:ENUM) <- [ORCAMENTO_APROVADO]
2025-07-28T04:04:33.960-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [1]
2025-07-28T04:04:33.960-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [1]
2025-07-28T04:04:33.961-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [0]
2025-07-28T04:04:33.967-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(644347296<open>)] after transaction
2025-07-28T04:04:33.969-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:04:33.969-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-07-28T04:04:33.970-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 204 NO_CONTENT
2025-07-28T04:04:33.970-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:10:10.666-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:10:10.667-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/pedidos-compra
2025-07-28T04:10:10.667-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:10:10.667-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:10:10.667-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:10:10.667-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:10:10.668-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:10:10.668-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:10:10.668-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:10:10.669-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:10:10.669-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/pedidos-compra
2025-07-28T04:10:10.669-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:10:10.672-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:10:10.672-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:10:10.672-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:10:10.678-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:10:10.679-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:10:10.679-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:10:10.679-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:10:10.679-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:10:10.679-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:10:10.689-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:10:10.690-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:10:10.690-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:10:10.690-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:10:10.690-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:10:10.690-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:10:10.692-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:10:10.692-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:10:10.692-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:10:10.692-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/pedidos-compra
2025-07-28T04:10:10.692-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/pedidos-compra using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:10:10.693-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/pedidos-compra
2025-07-28T04:10:10.693-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/pedidos-compra", parameters={}
2025-07-28T04:10:10.693-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.PedidoCompraController#criarPedidoCompra(PedidoCompraRequestDTO)
2025-07-28T04:10:10.708-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PedidoCompraRequestDTO(fornecedorId=1, observacoes=Pedido de compra gerado a partir do orçamento ORC (truncated)...]
2025-07-28T04:10:10.734-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.PedidoCompraService.criarPedidoCompra]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:10:10.735-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1020222194<open>)] for JPA transaction
2025-07-28T04:10:10.735-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@af80b9d]
2025-07-28T04:10:10.736-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1020222194<open>)] for JPA transaction
2025-07-28T04:10:10.736-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:10:10.738-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version 
    from
        fornecedores f1_0 
    where
        f1_0.id=?
2025-07-28T04:10:10.739-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:10:10.741-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1020222194<open>)] for JPA transaction
2025-07-28T04:10:10.742-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:10:10.742-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:10:10.743-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:10:10.745-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1020222194<open>)] for JPA transaction
2025-07-28T04:10:10.745-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:10:10.746-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:10:10.746-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:10:10.748-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1020222194<open>)] for JPA transaction
2025-07-28T04:10:10.748-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:10:10.749-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:10:10.749-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T04:10:10.752-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1020222194<open>)] for JPA transaction
2025-07-28T04:10:10.752-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:10:10.757-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        pedidos_compra
        (data_pedido, fornecedor_id, observacoes, orcamento_id, status, valor_total) 
    values
        (?, ?, ?, ?, ?, ?)
2025-07-28T04:10:10.758-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:DATE) <- [2025-07-28]
2025-07-28T04:10:10.758-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (2:BIGINT) <- [1]
2025-07-28T04:10:10.758-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Pedido de compra gerado a partir do orçamento ORC001-TSL, entrega prioritária.]
2025-07-28T04:10:10.759-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [null]
2025-07-28T04:10:10.759-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (5:ENUM) <- [AGUARDANDO_APROVACAO]
2025-07-28T04:10:10.759-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (6:NUMERIC) <- [27450.00]
2025-07-28T04:10:10.765-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        itens_pedido_compra
        (codigo_produto, nome_produto, observacoes, pedido_compra_id, preco_unitario, produto_id, quantidade, subtotal, unidade_medida, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T04:10:10.766-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [PROD001]
2025-07-28T04:10:10.767-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [Monitor Dell 27 polegadas]
2025-07-28T04:10:10.768-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Monitores de 27 polegadas]
2025-07-28T04:10:10.768-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [2]
2025-07-28T04:10:10.768-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (5:NUMERIC) <- [950.00]
2025-07-28T04:10:10.768-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [1]
2025-07-28T04:10:10.768-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [20]
2025-07-28T04:10:10.769-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (8:NUMERIC) <- [19000.00]
2025-07-28T04:10:10.769-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (9:VARCHAR) <- [UN]
2025-07-28T04:10:10.770-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (10:BIGINT) <- [0]
2025-07-28T04:10:10.772-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:10:10.773-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1020222194<open>)]
2025-07-28T04:10:10.778-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1020222194<open>)] after transaction
2025-07-28T04:10:10.788-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:10:10.790-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.zlogcompras.model.dto.PedidoCompraResponseDTO@21]
2025-07-28T04:10:10.791-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:10:10.793-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-07-28T04:11:31.912-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:11:31.913-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/pedidos-compra
2025-07-28T04:11:31.913-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:11:31.913-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:11:31.913-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:11:31.914-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:11:31.914-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:11:31.914-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:11:31.914-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:11:31.915-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:11:31.915-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/pedidos-compra
2025-07-28T04:11:31.915-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:11:31.917-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:11:31.917-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:11:31.918-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:11:31.920-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:11:31.921-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:11:31.924-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:11:31.925-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:11:31.926-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:11:31.927-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:11:31.927-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:11:31.928-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:11:31.928-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:11:31.928-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:11:31.929-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:11:31.929-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:11:31.929-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:11:31.929-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:11:31.929-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:11:31.930-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/pedidos-compra
2025-07-28T04:11:31.930-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/pedidos-compra using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:11:31.930-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/pedidos-compra
2025-07-28T04:11:31.930-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/pedidos-compra", parameters={}
2025-07-28T04:11:31.930-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.PedidoCompraController#listarTodosPedidos()
2025-07-28T04:11:31.931-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.PedidoCompraService.listarTodosPedidos]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-28T04:11:31.932-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1676650151<open>)] for JPA transaction
2025-07-28T04:11:31.933-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6d861d1a]
2025-07-28T04:11:31.935-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1676650151<open>)] for JPA transaction
2025-07-28T04:11:31.935-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:11:31.944-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        pc1_0.id,
        pc1_0.data_pedido,
        pc1_0.fornecedor_id,
        pc1_0.observacoes,
        pc1_0.orcamento_id,
        pc1_0.status,
        pc1_0.valor_total 
    from
        pedidos_compra pc1_0
2025-07-28T04:11:31.946-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version 
    from
        fornecedores f1_0 
    where
        f1_0.id=?
2025-07-28T04:11:31.947-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:11:31.949-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        o1_0.id,
        o1_0.condicoes_pagamento,
        o1_0.data_atualizacao,
        o1_0.data_cotacao,
        o1_0.data_criacao,
        o1_0.fornecedor_id,
        o1_0.numero_orcamento,
        o1_0.observacoes,
        o1_0.prazo_entrega,
        o1_0.solicitacao_compra_id,
        o1_0.status,
        o1_0.valor_total,
        o1_0.version 
    from
        orcamentos o1_0 
    where
        o1_0.id=?
2025-07-28T04:11:31.950-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:11:31.954-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:11:31.955-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1676650151<open>)]
2025-07-28T04:11:31.956-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1676650151<open>)] after transaction
2025-07-28T04:11:31.957-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:11:31.957-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.zlogcompras.model.dto.PedidoCompraResponseDTO@20, com.zlogcompras.model.dto.PedidoCompraResponseDTO@21]]
2025-07-28T04:11:31.958-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:11:31.959-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T04:12:49.381-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:12:49.382-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing PUT /api/pedidos-compra/1/status?status=APROVADO
2025-07-28T04:12:49.382-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:12:49.382-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:12:49.382-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:12:49.383-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:12:49.383-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:12:49.383-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:12:49.383-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:12:49.384-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:12:49.384-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/pedidos-compra/1/status
2025-07-28T04:12:49.384-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:12:49.385-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:12:49.386-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:12:49.386-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:12:49.387-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:12:49.389-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:12:49.393-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:12:49.394-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:12:49.396-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:12:49.396-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:12:49.399-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:12:49.400-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:12:49.400-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:12:49.400-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:12:49.400-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:12:49.400-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:12:49.401-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:12:49.401-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:12:49.401-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:12:49.401-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/pedidos-compra/1/status?status=APROVADO
2025-07-28T04:12:49.401-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/pedidos-compra/1/status?status=APROVADO using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:12:49.402-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured PUT /api/pedidos-compra/1/status?status=APROVADO
2025-07-28T04:12:49.402-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : PUT "/api/pedidos-compra/1/status?status=APROVADO", parameters={masked}
2025-07-28T04:12:49.403-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.PedidoCompraController#atualizarStatusPedido(Long, StatusPedidoCompra)
2025-07-28T04:12:49.406-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.PedidoCompraService.atualizarStatusPedido]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:12:49.406-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1607326135<open>)] for JPA transaction
2025-07-28T04:12:49.408-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@13064c0f]
2025-07-28T04:12:49.408-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1607326135<open>)] for JPA transaction
2025-07-28T04:12:49.408-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:12:49.409-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        pc1_0.id,
        pc1_0.data_pedido,
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version,
        pc1_0.observacoes,
        o1_0.id,
        o1_0.condicoes_pagamento,
        o1_0.data_atualizacao,
        o1_0.data_cotacao,
        o1_0.data_criacao,
        o1_0.fornecedor_id,
        o1_0.numero_orcamento,
        o1_0.observacoes,
        o1_0.prazo_entrega,
        o1_0.solicitacao_compra_id,
        o1_0.status,
        o1_0.valor_total,
        o1_0.version,
        pc1_0.status,
        pc1_0.valor_total 
    from
        pedidos_compra pc1_0 
    left join
        fornecedores f1_0 
            on f1_0.id=pc1_0.fornecedor_id 
    left join
        orcamentos o1_0 
            on o1_0.id=pc1_0.orcamento_id 
    where
        pc1_0.id=?
2025-07-28T04:12:49.412-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:12:49.414-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1607326135<open>)] for JPA transaction
2025-07-28T04:12:49.414-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:12:49.415-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:12:49.415-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1607326135<open>)]
2025-07-28T04:12:49.416-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    update
        pedidos_compra 
    set
        data_pedido=?,
        fornecedor_id=?,
        observacoes=?,
        orcamento_id=?,
        status=?,
        valor_total=? 
    where
        id=?
2025-07-28T04:12:49.418-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:DATE) <- [2025-07-28]
2025-07-28T04:12:49.418-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (2:BIGINT) <- [1]
2025-07-28T04:12:49.418-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [null]
2025-07-28T04:12:49.418-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [2]
2025-07-28T04:12:49.418-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (5:ENUM) <- [APROVADO]
2025-07-28T04:12:49.419-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (6:NUMERIC) <- [28800.00]
2025-07-28T04:12:49.419-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [1]
2025-07-28T04:12:49.446-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1607326135<open>)] after transaction
2025-07-28T04:12:49.446-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:12:49.446-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.zlogcompras.model.dto.PedidoCompraResponseDTO@20]
2025-07-28T04:12:49.448-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:12:49.449-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T04:13:02.483-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:13:02.484-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing PUT /api/pedidos-compra/2/status?status=APROVADO
2025-07-28T04:13:02.484-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:13:02.484-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:13:02.484-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:13:02.486-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:13:02.486-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:13:02.486-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:13:02.486-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:13:02.486-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:13:02.486-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/pedidos-compra/2/status
2025-07-28T04:13:02.486-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:13:02.500-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:13:02.500-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:13:02.513-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:13:02.516-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:13:02.518-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:13:02.520-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:13:02.521-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:13:02.525-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:13:02.526-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:13:02.527-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:13:02.527-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:13:02.528-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:13:02.528-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:13:02.528-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:13:02.528-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:13:02.528-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:13:02.529-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:13:02.529-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:13:02.529-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/pedidos-compra/2/status?status=APROVADO
2025-07-28T04:13:02.529-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/pedidos-compra/2/status?status=APROVADO using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:13:02.529-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured PUT /api/pedidos-compra/2/status?status=APROVADO
2025-07-28T04:13:02.529-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : PUT "/api/pedidos-compra/2/status?status=APROVADO", parameters={masked}
2025-07-28T04:13:02.531-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.PedidoCompraController#atualizarStatusPedido(Long, StatusPedidoCompra)
2025-07-28T04:13:02.532-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.PedidoCompraService.atualizarStatusPedido]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:13:02.532-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(586042882<open>)] for JPA transaction
2025-07-28T04:13:02.533-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@454fa8ea]
2025-07-28T04:13:02.533-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(586042882<open>)] for JPA transaction
2025-07-28T04:13:02.533-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:13:02.534-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pc1_0.id,
        pc1_0.data_pedido,
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version,
        pc1_0.observacoes,
        o1_0.id,
        o1_0.condicoes_pagamento,
        o1_0.data_atualizacao,
        o1_0.data_cotacao,
        o1_0.data_criacao,
        o1_0.fornecedor_id,
        o1_0.numero_orcamento,
        o1_0.observacoes,
        o1_0.prazo_entrega,
        o1_0.solicitacao_compra_id,
        o1_0.status,
        o1_0.valor_total,
        o1_0.version,
        pc1_0.status,
        pc1_0.valor_total 
    from
        pedidos_compra pc1_0 
    left join
        fornecedores f1_0 
            on f1_0.id=pc1_0.fornecedor_id 
    left join
        orcamentos o1_0 
            on o1_0.id=pc1_0.orcamento_id 
    where
        pc1_0.id=?
2025-07-28T04:13:02.535-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:13:02.537-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(586042882<open>)] for JPA transaction
2025-07-28T04:13:02.538-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:13:02.538-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:13:02.539-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(586042882<open>)]
2025-07-28T04:13:02.539-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    update
        pedidos_compra 
    set
        data_pedido=?,
        fornecedor_id=?,
        observacoes=?,
        orcamento_id=?,
        status=?,
        valor_total=? 
    where
        id=?
2025-07-28T04:13:02.540-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:DATE) <- [2025-07-28]
2025-07-28T04:13:02.540-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (2:BIGINT) <- [1]
2025-07-28T04:13:02.540-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Pedido de compra gerado a partir do orçamento ORC001-TSL, entrega prioritária.]
2025-07-28T04:13:02.540-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [null]
2025-07-28T04:13:02.540-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (5:ENUM) <- [APROVADO]
2025-07-28T04:13:02.540-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (6:NUMERIC) <- [27450.00]
2025-07-28T04:13:02.540-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [2]
2025-07-28T04:13:02.560-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(586042882<open>)] after transaction
2025-07-28T04:13:02.561-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:13:02.561-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.zlogcompras.model.dto.PedidoCompraResponseDTO@21]
2025-07-28T04:13:02.562-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:13:02.563-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T04:21:23.078-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:21:23.078-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/processo-compra/iniciar/1
2025-07-28T04:21:23.078-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:21:23.078-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:21:23.078-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:21:23.078-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:21:23.078-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:21:23.078-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:21:23.078-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:21:23.078-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:21:23.078-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/iniciar/1
2025-07-28T04:21:23.078-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:21:23.078-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:21:23.078-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:21:23.078-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:21:23.091-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:21:23.093-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:21:23.096-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:21:23.097-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:21:23.098-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:21:23.100-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:21:23.101-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:21:23.101-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:21:23.101-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:21:23.101-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:21:23.101-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:21:23.101-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:21:23.101-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:21:23.101-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:21:23.101-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:21:23.101-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/processo-compra/iniciar/1
2025-07-28T04:21:23.101-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/processo-compra/iniciar/1 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:21:23.101-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/processo-compra/iniciar/1
2025-07-28T04:21:23.101-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/processo-compra/iniciar/1", parameters={}
2025-07-28T04:21:23.101-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#iniciarProcessoCompra(Long)
2025-07-28T04:21:23.109-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.iniciarProcessoCompraPorSolicitacaoId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:21:23.110-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(2032935170<open>)] for JPA transaction
2025-07-28T04:21:23.111-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1c2e2a63]
2025-07-28T04:21:23.112-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2032935170<open>)] for JPA transaction
2025-07-28T04:21:23.112-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:21:23.113-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T04:21:23.114-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:21:23.117-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2032935170<open>)] for JPA transaction
2025-07-28T04:21:23.117-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:21:23.120-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2032935170<open>)] for JPA transaction
2025-07-28T04:21:23.120-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:21:23.121-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version 
    from
        fornecedores f1_0 
    where
        f1_0.id=?
2025-07-28T04:21:23.122-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:21:23.126-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        i1_0.solicitacao_compra_id,
        i1_0.id,
        i1_0.data_atualizacao,
        i1_0.data_criacao,
        i1_0.descricao_adicional,
        i1_0.produto_id,
        i1_0.quantidade,
        i1_0.status,
        i1_0.version 
    from
        itens_solicitacao_compra i1_0 
    where
        i1_0.solicitacao_compra_id=?
2025-07-28T04:21:23.126-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:21:23.139-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:21:23.139-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T04:21:23.143-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:21:23.145-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-07-28T04:21:23.147-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:21:23.147-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:21:23.150-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:21:23.150-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:21:23.152-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2032935170<open>)] for JPA transaction
2025-07-28T04:21:23.152-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:21:23.152-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2032935170<open>)] for JPA transaction
2025-07-28T04:21:23.152-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:21:23.159-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2032935170<open>)] for JPA transaction
2025-07-28T04:21:23.160-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:21:23.160-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2032935170<open>)] for JPA transaction
2025-07-28T04:21:23.161-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:21:23.161-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2032935170<open>)] for JPA transaction
2025-07-28T04:21:23.161-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:21:23.162-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2032935170<open>)] for JPA transaction
2025-07-28T04:21:23.162-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:21:23.162-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2032935170<open>)] for JPA transaction
2025-07-28T04:21:23.162-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:21:23.163-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2032935170<open>)] for JPA transaction
2025-07-28T04:21:23.163-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:21:23.170-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        orcamentos
        (condicoes_pagamento, data_atualizacao, data_cotacao, data_criacao, fornecedor_id, numero_orcamento, observacoes, prazo_entrega, solicitacao_compra_id, status, valor_total, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T04:21:23.171-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [null]
2025-07-28T04:21:23.171-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T04:21:23.166]
2025-07-28T04:21:23.172-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (3:DATE) <- [2025-07-28]
2025-07-28T04:21:23.172-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (4:TIMESTAMP) <- [2025-07-28T04:21:23.166]
2025-07-28T04:21:23.172-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (5:BIGINT) <- [1]
2025-07-28T04:21:23.172-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [null]
2025-07-28T04:21:23.174-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (7:VARCHAR) <- [Orçamento inicial gerado automaticamente para solicitação 1]
2025-07-28T04:21:23.174-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [null]
2025-07-28T04:21:23.174-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [1]
2025-07-28T04:21:23.174-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (10:ENUM) <- [AGUARDANDO_APROVACAO]
2025-07-28T04:21:23.175-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (11:NUMERIC) <- [49607.30000]
2025-07-28T04:21:23.175-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (12:BIGINT) <- [0]
2025-07-28T04:21:23.178-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        itens_orcamento
        (codigo_produto, nome_produto, observacoes, orcamento_id, preco_unitario_cotado, produto_id, quantidade, unidade_medida_produto, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T04:21:23.178-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [SKU003]
2025-07-28T04:21:23.178-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [Mouse Sem Fio Ergonômico]
2025-07-28T04:21:23.178-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Item solicitado para orçamento da solicitação: 1]
2025-07-28T04:21:23.178-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [3]
2025-07-28T04:21:23.178-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (5:NUMERIC) <- [120.50]
2025-07-28T04:21:23.178-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [3]
2025-07-28T04:21:23.178-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (7:NUMERIC) <- [15.000]
2025-07-28T04:21:23.178-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [UN]
2025-07-28T04:21:23.178-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [0]
2025-07-28T04:21:23.187-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        itens_orcamento
        (codigo_produto, nome_produto, observacoes, orcamento_id, preco_unitario_cotado, produto_id, quantidade, unidade_medida_produto, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T04:21:23.187-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [SKU004]
2025-07-28T04:21:23.187-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [Webcam Full HD]
2025-07-28T04:21:23.189-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Item solicitado para orçamento da solicitação: 1]
2025-07-28T04:21:23.189-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [3]
2025-07-28T04:21:23.190-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (5:NUMERIC) <- [280.00]
2025-07-28T04:21:23.190-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [4]
2025-07-28T04:21:23.192-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (7:NUMERIC) <- [5.000]
2025-07-28T04:21:23.192-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [UN]
2025-07-28T04:21:23.192-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [0]
2025-07-28T04:21:23.194-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        itens_orcamento
        (codigo_produto, nome_produto, observacoes, orcamento_id, preco_unitario_cotado, produto_id, quantidade, unidade_medida_produto, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T04:21:23.195-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [SKU001]
2025-07-28T04:21:23.195-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [Monitor Dell 27 polegadas]
2025-07-28T04:21:23.196-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Item solicitado para orçamento da solicitação: 1]
2025-07-28T04:21:23.196-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [3]
2025-07-28T04:21:23.196-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (5:NUMERIC) <- [1899.99]
2025-07-28T04:21:23.196-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [1]
2025-07-28T04:21:23.196-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (7:NUMERIC) <- [20.000]
2025-07-28T04:21:23.197-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [UN]
2025-07-28T04:21:23.197-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [0]
2025-07-28T04:21:23.198-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        itens_orcamento
        (codigo_produto, nome_produto, observacoes, orcamento_id, preco_unitario_cotado, produto_id, quantidade, unidade_medida_produto, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T04:21:23.199-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [SKU002]
2025-07-28T04:21:23.199-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [Teclado Mecânico Gamer Pro]
2025-07-28T04:21:23.199-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Item solicitado para orçamento da solicitação: 1]
2025-07-28T04:21:23.199-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [3]
2025-07-28T04:21:23.199-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (5:NUMERIC) <- [420.00]
2025-07-28T04:21:23.199-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [2]
2025-07-28T04:21:23.201-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (7:NUMERIC) <- [20.000]
2025-07-28T04:21:23.201-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (8:VARCHAR) <- [UN]
2025-07-28T04:21:23.201-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (9:BIGINT) <- [0]
2025-07-28T04:21:23.203-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:21:23.203-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2032935170<open>)]
2025-07-28T04:21:23.208-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    update
        solicitacoes_compra 
    set
        data_atualizacao=?,
        data_solicitacao=?,
        descricao=?,
        solicitante=?,
        status=?,
        version=? 
    where
        id=? 
        and version=?
2025-07-28T04:21:23.208-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T04:21:23.204288700]
2025-07-28T04:21:23.208-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (2:DATE) <- [2025-07-28]
2025-07-28T04:21:23.208-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Solicitação de compra para equipamentos de informática - Q3/2025]
2025-07-28T04:21:23.208-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [Departamento de TI]
2025-07-28T04:21:23.208-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (5:ENUM) <- [EM_ANDAMENTO]
2025-07-28T04:21:23.208-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [2]
2025-07-28T04:21:23.208-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [1]
2025-07-28T04:21:23.208-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [1]
2025-07-28T04:21:23.229-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(2032935170<open>)] after transaction
2025-07-28T04:21:23.230-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:21:23.231-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-07-28T04:21:23.231-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T04:21:23.231-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:22:15.492-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:22:15.493-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /api/processo-compra/1/status/EM_ANDAMENTO
2025-07-28T04:22:15.493-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:22:15.493-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:22:15.493-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:22:15.493-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:22:15.493-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:22:15.494-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:22:15.494-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:22:15.494-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:22:15.494-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/1/status/EM_ANDAMENTO
2025-07-28T04:22:15.494-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:22:15.496-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:22:15.496-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:22:15.497-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:22:15.500-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:22:15.501-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:22:15.503-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:22:15.504-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:22:15.505-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:22:15.505-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:22:15.507-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:22:15.508-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:22:15.508-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:22:15.508-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:22:15.508-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:22:15.510-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:22:15.510-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:22:15.510-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:22:15.510-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:22:15.510-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/processo-compra/1/status/EM_ANDAMENTO
2025-07-28T04:22:15.510-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/processo-compra/1/status/EM_ANDAMENTO using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:22:15.510-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /api/processo-compra/1/status/EM_ANDAMENTO
2025-07-28T04:22:15.511-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : PUT "/api/processo-compra/1/status/EM_ANDAMENTO", parameters={}
2025-07-28T04:22:15.511-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#atualizarStatusSolicitacao(Long, StatusSolicitacaoCompra)
2025-07-28T04:22:15.513-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:22:15.513-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(820177747<open>)] for JPA transaction
2025-07-28T04:22:15.514-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@53a33a58]
2025-07-28T04:22:15.515-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(820177747<open>)] for JPA transaction
2025-07-28T04:22:15.515-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:22:15.517-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T04:22:15.517-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:22:15.518-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(820177747<open>)] for JPA transaction
2025-07-28T04:22:15.520-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:22:15.520-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:22:15.520-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(820177747<open>)]
2025-07-28T04:22:15.522-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(820177747<open>)] after transaction
2025-07-28T04:22:15.527-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:22:15.529-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session]
2025-07-28T04:22:15.545-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:22:15.546-03:00  WARN 2572 --- [zlog_compras] [http-nio-8080-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session]
2025-07-28T04:22:15.547-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-07-28T04:22:15.548-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:22:15.548-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:22:15.548-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-07-28T04:22:15.548-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:22:15.549-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:22:15.549-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:22:15.549-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:22:15.549-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:22:15.549-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:22:15.549-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:22:15.549-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:22:15.549-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:22:15.549-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:22:15.551-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:22:15.551-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:22:15.551-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:22:15.551-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:22:15.551-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing PUT /error
2025-07-28T04:22:15.551-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000274d3aa3c10@52d92c00
2025-07-28T04:22:15.552-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-07-28T04:22:15.552-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-07-28T04:22:15.552-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:22:15.553-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T04:22:15.556-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:22:15.557-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 04:22:15 BRT 2025, status=500, error=Internal Server Error, trace=org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:492)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.fasterxml.jackson.databind.JsonMappingException: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session (through reference chain: com.zlogcompras.model.SolicitacaoCompra["orcamentos"])
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:402)
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:361)
	at com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:323)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:778)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1574)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	... 101 more
Caused by: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session
	at org.hibernate.collection.spi.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:634)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:217)
	at org.hibernate.collection.spi.AbstractPersistentCollection.readSize(AbstractPersistentCollection.java:148)
	at org.hibernate.collection.spi.PersistentSet.size(PersistentSet.java:148)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:97)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770)
	... 107 more
, message=Could not write JSON: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session, path=/api/processo-compra/1/status/EM_ANDAMENTO}]
2025-07-28T04:22:15.563-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-07-28T04:22:15.563-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:22:15.563-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T04:22:53.592-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:22:53.592-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/orcamentos
2025-07-28T04:22:53.593-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:22:53.593-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:22:53.593-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:22:53.593-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:22:53.593-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:22:53.594-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:22:53.594-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:22:53.594-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:22:53.594-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/orcamentos
2025-07-28T04:22:53.594-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:22:53.595-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:22:53.617-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:22:53.623-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:22:53.626-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:22:53.627-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:22:53.629-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:22:53.632-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:22:53.635-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:22:53.636-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:22:53.637-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:22:53.637-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:22:53.638-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:22:53.638-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:22:53.638-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:22:53.638-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:22:53.638-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:22:53.639-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:22:53.639-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:22:53.639-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing GET /api/orcamentos
2025-07-28T04:22:53.639-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /api/orcamentos using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:22:53.639-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/orcamentos
2025-07-28T04:22:53.639-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/orcamentos", parameters={}
2025-07-28T04:22:53.641-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.OrcamentoController#listarOrcamentos()
2025-07-28T04:22:53.641-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.OrcamentoService.listarTodosOrcamentos]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-07-28T04:22:53.642-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1703876825<open>)] for JPA transaction
2025-07-28T04:22:53.643-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6fce08fb]
2025-07-28T04:22:53.643-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1703876825<open>)] for JPA transaction
2025-07-28T04:22:53.643-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:22:53.645-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        o1_0.id,
        o1_0.condicoes_pagamento,
        o1_0.data_atualizacao,
        o1_0.data_cotacao,
        o1_0.data_criacao,
        o1_0.fornecedor_id,
        o1_0.numero_orcamento,
        o1_0.observacoes,
        o1_0.prazo_entrega,
        o1_0.solicitacao_compra_id,
        o1_0.status,
        o1_0.valor_total,
        o1_0.version 
    from
        orcamentos o1_0
2025-07-28T04:22:53.648-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        f1_0.id,
        f1_0.cnpj,
        f1_0.contato,
        f1_0.email,
        f1_0.endereco,
        f1_0.razao_social,
        f1_0.telefone,
        f1_0.version 
    from
        fornecedores f1_0 
    where
        f1_0.id=?
2025-07-28T04:22:53.649-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:22:53.651-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T04:22:53.653-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:22:53.655-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        io1_0.orcamento_id,
        io1_0.id,
        io1_0.codigo_produto,
        io1_0.nome_produto,
        io1_0.observacoes,
        io1_0.preco_unitario_cotado,
        io1_0.produto_id,
        io1_0.quantidade,
        io1_0.unidade_medida_produto,
        io1_0.version 
    from
        itens_orcamento io1_0 
    where
        io1_0.orcamento_id=?
2025-07-28T04:22:53.656-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:22:53.658-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:22:53.659-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:22:53.662-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:22:53.663-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:22:53.665-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:22:53.666-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T04:22:53.668-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.categoria,
        p1_0.codigo,
        p1_0.codigo_produto,
        p1_0.data_atualizacao,
        p1_0.data_criacao,
        p1_0.descricao,
        p1_0.estoque,
        p1_0.nome,
        p1_0.preco_unitario,
        p1_0.unidade_medida,
        p1_0.version 
    from
        produtos p1_0 
    where
        p1_0.id=?
2025-07-28T04:22:53.669-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [4]
2025-07-28T04:22:53.672-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        io1_0.orcamento_id,
        io1_0.id,
        io1_0.codigo_produto,
        io1_0.nome_produto,
        io1_0.observacoes,
        io1_0.preco_unitario_cotado,
        io1_0.produto_id,
        io1_0.quantidade,
        io1_0.unidade_medida_produto,
        io1_0.version 
    from
        itens_orcamento io1_0 
    where
        io1_0.orcamento_id=?
2025-07-28T04:22:53.673-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T04:22:53.675-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:22:53.675-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1703876825<open>)]
2025-07-28T04:22:53.676-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1703876825<open>)] after transaction
2025-07-28T04:22:53.676-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:22:53.676-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[OrcamentoResponseDTO{id=2, solicitacaoCompraId=1, fornecedorId=null, nomeFornecedor='Tech Suprimentos Ltda.', status='APROVADO', valorTotal=28800.00}, OrcamentoResponseDTO{id=3, solicitacaoCompraId=1, fornecedorId=null, nomeFornecedor='Tech Suprimentos Ltda.', status='AGUARDANDO_APROVACAO', valorTotal=49607.30}]]
2025-07-28T04:22:53.676-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:22:53.676-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T04:23:34.816-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:23:34.817-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /api/processo-compra/2/status/PEDIDO_GERADO
2025-07-28T04:23:34.817-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:23:34.817-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:23:34.817-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:23:34.817-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:23:34.817-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:23:34.818-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:23:34.818-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:23:34.818-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:23:34.818-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/2/status/PEDIDO_GERADO
2025-07-28T04:23:34.819-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:23:34.820-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:23:34.820-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:23:34.821-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:23:34.822-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:23:34.850-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:23:34.854-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:23:34.854-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:23:34.860-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:23:34.861-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:23:34.863-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:23:34.863-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:23:34.863-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:23:34.863-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:23:34.863-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:23:34.863-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:23:34.863-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:23:34.865-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:23:34.865-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:23:34.865-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/processo-compra/2/status/PEDIDO_GERADO
2025-07-28T04:23:34.865-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/processo-compra/2/status/PEDIDO_GERADO using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:23:34.865-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /api/processo-compra/2/status/PEDIDO_GERADO
2025-07-28T04:23:34.866-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/api/processo-compra/2/status/PEDIDO_GERADO", parameters={}
2025-07-28T04:23:34.866-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#atualizarStatusSolicitacao(Long, StatusSolicitacaoCompra)
2025-07-28T04:23:34.867-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:23:34.867-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1092383657<open>)] for JPA transaction
2025-07-28T04:23:34.868-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4abdf68a]
2025-07-28T04:23:34.868-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1092383657<open>)] for JPA transaction
2025-07-28T04:23:34.868-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:23:34.869-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T04:23:34.869-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:23:34.871-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2025-07-28T04:23:34.871-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(1092383657<open>)]
2025-07-28T04:23:34.872-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1092383657<open>)] after transaction
2025-07-28T04:23:34.872-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:23:34.872-03:00  WARN 2572 --- [zlog_compras] [http-nio-8080-exec-1] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "Solicitação de Compra não encontrada com ID: 2"]
2025-07-28T04:23:34.873-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-07-28T04:23:34.873-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:23:34.873-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:23:34.873-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-07-28T04:23:34.873-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:23:34.875-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:23:34.875-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:23:34.875-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:23:34.875-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:23:34.875-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:23:34.875-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:23:34.876-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:23:34.876-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:23:34.876-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:23:34.876-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:23:34.876-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:23:34.876-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:23:34.876-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:23:34.877-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing PUT /error
2025-07-28T04:23:34.877-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000274d3aa3c10@52d92c00
2025-07-28T04:23:34.877-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-07-28T04:23:34.877-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-07-28T04:23:34.877-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:23:34.877-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T04:23:34.878-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:23:34.879-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 04:23:34 BRT 2025, status=404, error=Not Found, trace=org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "Solicitação de Compra não encontrada com ID: 2"
	at com.zlogcompras.service.ProcessoCompraService.lambda$atualizarStatusSolicitacao$3(ProcessoCompraService.java:243)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao(ProcessoCompraService.java:243)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.zlogcompras.service.ProcessoCompraService$$SpringCGLIB$$0.atualizarStatusSolicitacao(<generated>)
	at com.zlogcompras.controller.ProcessoCompraController.atualizarStatusSolicitacao(ProcessoCompraController.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
, message=Solicitação de Compra não encontrada com ID: 2, path=/api/processo-compra/2/status/PEDIDO_GERADO}]
2025-07-28T04:23:34.882-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-07-28T04:23:34.883-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:23:34.884-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T04:23:57.963-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:23:57.964-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing PUT /api/processo-compra/1/status/PEDIDO_GERADO
2025-07-28T04:23:57.964-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:23:57.964-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:23:57.964-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:23:57.964-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:23:57.965-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:23:57.965-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:23:57.965-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:23:57.966-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:23:57.966-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/1/status/PEDIDO_GERADO
2025-07-28T04:23:57.966-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:23:57.967-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:23:57.967-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:23:57.967-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:23:57.986-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:23:57.988-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:23:57.989-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:23:57.998-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:23:58.001-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:23:58.001-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:23:58.003-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:23:58.003-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:23:58.004-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:23:58.004-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:23:58.004-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:23:58.004-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:23:58.004-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:23:58.004-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:23:58.004-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:23:58.005-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/processo-compra/1/status/PEDIDO_GERADO
2025-07-28T04:23:58.005-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/processo-compra/1/status/PEDIDO_GERADO using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:23:58.005-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /api/processo-compra/1/status/PEDIDO_GERADO
2025-07-28T04:23:58.011-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : PUT "/api/processo-compra/1/status/PEDIDO_GERADO", parameters={}
2025-07-28T04:23:58.012-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#atualizarStatusSolicitacao(Long, StatusSolicitacaoCompra)
2025-07-28T04:23:58.012-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:23:58.013-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(394823815<open>)] for JPA transaction
2025-07-28T04:23:58.013-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4c1d53a3]
2025-07-28T04:23:58.013-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(394823815<open>)] for JPA transaction
2025-07-28T04:23:58.013-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:23:58.015-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T04:23:58.016-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:23:58.018-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(394823815<open>)] for JPA transaction
2025-07-28T04:23:58.018-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:23:58.018-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:23:58.019-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(394823815<open>)]
2025-07-28T04:23:58.020-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    update
        solicitacoes_compra 
    set
        data_atualizacao=?,
        data_solicitacao=?,
        descricao=?,
        solicitante=?,
        status=?,
        version=? 
    where
        id=? 
        and version=?
2025-07-28T04:23:58.021-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T04:23:58.019473900]
2025-07-28T04:23:58.021-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (2:DATE) <- [2025-07-28]
2025-07-28T04:23:58.021-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Solicitação de compra para equipamentos de informática - Q3/2025]
2025-07-28T04:23:58.021-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [Departamento de TI]
2025-07-28T04:23:58.021-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (5:ENUM) <- [PEDIDO_GERADO]
2025-07-28T04:23:58.022-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [3]
2025-07-28T04:23:58.022-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [1]
2025-07-28T04:23:58.022-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [2]
2025-07-28T04:23:58.086-03:00  WARN 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1265, SQLState: 01000
2025-07-28T04:23:58.087-03:00 ERROR 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Data truncated for column 'status' at row 1
2025-07-28T04:23:58.099-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback after commit exception

org.springframework.orm.jpa.JpaSystemException: could not execute statement [Data truncated for column 'status' at row 1] [update solicitacoes_compra set data_atualizacao=?,data_solicitacao=?,descricao=?,solicitante=?,status=?,version=? where id=? and version=?]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:341) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:676) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:426) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.8.jar:6.1.8]
	at com.zlogcompras.service.ProcessoCompraService$$SpringCGLIB$$0.atualizarStatusSolicitacao(<generated>) ~[classes/:na]
	at com.zlogcompras.controller.ProcessoCompraController.atualizarStatusSolicitacao(ProcessoCompraController.java:48) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.hibernate.exception.GenericJDBCException: could not execute statement [Data truncated for column 'status' at row 1] [update solicitacoes_compra set data_atualizacao=?,data_solicitacao=?,descricao=?,solicitante=?,status=?,version=? where id=? and version=?]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:63) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.doStaticUpdate(UpdateCoordinatorStandard.java:781) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.performUpdate(UpdateCoordinatorStandard.java:328) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.update(UpdateCoordinatorStandard.java:245) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:169) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:632) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:499) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:371) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:487) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2324) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1981) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.1.8.jar:6.1.8]
	... 111 common frames omitted
Caused by: java.sql.SQLException: Data truncated for column 'status' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:113) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:938) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1106) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1045) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1369) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1030) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	... 132 common frames omitted

2025-07-28T04:23:58.120-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(394823815<open>)]
2025-07-28T04:23:58.121-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(394823815<open>)] after transaction
2025-07-28T04:23:58.122-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.orm.jpa.JpaSystemException: could not execute statement [Data truncated for column 'status' at row 1] [update solicitacoes_compra set data_atualizacao=?,data_solicitacao=?,descricao=?,solicitante=?,status=?,version=? where id=? and version=?]
2025-07-28T04:23:58.122-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:23:58.124-03:00 ERROR 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: could not execute statement [Data truncated for column 'status' at row 1] [update solicitacoes_compra set data_atualizacao=?,data_solicitacao=?,descricao=?,solicitante=?,status=?,version=? where id=? and version=?]] with root cause

java.sql.SQLException: Data truncated for column 'status' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:113) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:938) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1106) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1045) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1369) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1030) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.doStaticUpdate(UpdateCoordinatorStandard.java:781) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.performUpdate(UpdateCoordinatorStandard.java:328) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.update(UpdateCoordinatorStandard.java:245) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:169) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:632) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:499) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:371) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:487) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2324) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1981) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:676) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:426) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.8.jar:6.1.8]
	at com.zlogcompras.service.ProcessoCompraService$$SpringCGLIB$$0.atualizarStatusSolicitacao(<generated>) ~[classes/:na]
	at com.zlogcompras.controller.ProcessoCompraController.atualizarStatusSolicitacao(ProcessoCompraController.java:48) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-28T04:23:58.129-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:23:58.129-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:23:58.130-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-07-28T04:23:58.130-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:23:58.130-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:23:58.130-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:23:58.130-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:23:58.130-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:23:58.130-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:23:58.130-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:23:58.130-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:23:58.130-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:23:58.130-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:23:58.130-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:23:58.131-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:23:58.131-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:23:58.131-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:23:58.131-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing PUT /error
2025-07-28T04:23:58.131-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000274d3aa3c10@52d92c00
2025-07-28T04:23:58.131-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-07-28T04:23:58.131-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-07-28T04:23:58.132-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:23:58.132-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T04:23:58.133-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:23:58.133-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 04:23:58 BRT 2025, status=500, error=Internal Server Error, trace=org.springframework.orm.jpa.JpaSystemException: could not execute statement [Data truncated for column 'status' at row 1] [update solicitacoes_compra set data_atualizacao=?,data_solicitacao=?,descricao=?,solicitante=?,status=?,version=? where id=? and version=?]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:341)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:676)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:426)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.zlogcompras.service.ProcessoCompraService$$SpringCGLIB$$0.atualizarStatusSolicitacao(<generated>)
	at com.zlogcompras.controller.ProcessoCompraController.atualizarStatusSolicitacao(ProcessoCompraController.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.GenericJDBCException: could not execute statement [Data truncated for column 'status' at row 1] [update solicitacoes_compra set data_atualizacao=?,data_solicitacao=?,descricao=?,solicitante=?,status=?,version=? where id=? and version=?]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:63)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.doStaticUpdate(UpdateCoordinatorStandard.java:781)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.performUpdate(UpdateCoordinatorStandard.java:328)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.update(UpdateCoordinatorStandard.java:245)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:169)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:632)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:499)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:371)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:487)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2324)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1981)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	... 111 more
Caused by: java.sql.SQLException: Data truncated for column 'status' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:113)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:938)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1106)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1045)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1369)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1030)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 132 more
, message=could not execute statement [Data truncated for column 'status' at row 1] [update solicitacoes_compra set data_atualizacao=?,data_solicitacao=?,descricao=?,solicitante=?,status=?,version=? where id=? and version=?], path=/api/processo-compra/1/status/PEDIDO_GERADO}]
2025-07-28T04:23:58.139-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-07-28T04:23:58.139-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:23:58.139-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T04:24:41.147-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:24:41.147-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/processo-compra/gerar-pedido/1
2025-07-28T04:24:41.148-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:24:41.148-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:24:41.148-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:24:41.148-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:24:41.148-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:24:41.148-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:24:41.149-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:24:41.149-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:24:41.149-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/gerar-pedido/1
2025-07-28T04:24:41.149-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:24:41.150-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:24:41.150-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:24:41.151-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:24:41.153-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:24:41.153-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:24:41.156-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:24:41.174-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:24:41.175-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:24:41.187-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:24:41.189-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:24:41.189-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:24:41.190-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:24:41.190-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:24:41.190-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:24:41.191-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:24:41.191-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:24:41.191-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:24:41.191-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:24:41.191-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/processo-compra/gerar-pedido/1
2025-07-28T04:24:41.192-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/processo-compra/gerar-pedido/1 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:24:41.192-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/processo-compra/gerar-pedido/1
2025-07-28T04:24:41.193-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/processo-compra/gerar-pedido/1", parameters={}
2025-07-28T04:24:41.193-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#gerarPedidoDeCompra(Long)
2025-07-28T04:24:41.195-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.gerarPedidoDeCompra]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:24:41.205-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(125419846<open>)] for JPA transaction
2025-07-28T04:24:41.206-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7fe1266c]
2025-07-28T04:24:41.206-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(125419846<open>)] for JPA transaction
2025-07-28T04:24:41.206-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:24:41.207-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        o1_0.id,
        o1_0.condicoes_pagamento,
        o1_0.data_atualizacao,
        o1_0.data_cotacao,
        o1_0.data_criacao,
        o1_0.fornecedor_id,
        o1_0.numero_orcamento,
        o1_0.observacoes,
        o1_0.prazo_entrega,
        o1_0.solicitacao_compra_id,
        o1_0.status,
        o1_0.valor_total,
        o1_0.version 
    from
        orcamentos o1_0 
    where
        o1_0.id=?
2025-07-28T04:24:41.208-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:24:41.209-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2025-07-28T04:24:41.209-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(125419846<open>)]
2025-07-28T04:24:41.210-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(125419846<open>)] after transaction
2025-07-28T04:24:41.211-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:24:41.211-03:00  WARN 2572 --- [zlog_compras] [http-nio-8080-exec-2] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "Orçamento não encontrado com ID: 1"]
2025-07-28T04:24:41.211-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-07-28T04:24:41.212-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:24:41.212-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:24:41.212-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-07-28T04:24:41.212-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:24:41.212-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:24:41.212-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:24:41.213-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:24:41.213-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:24:41.213-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:24:41.213-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:24:41.213-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:24:41.213-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:24:41.213-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:24:41.213-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:24:41.213-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:24:41.215-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:24:41.215-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:24:41.215-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /error
2025-07-28T04:24:41.215-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000274d3aa3c10@52d92c00
2025-07-28T04:24:41.215-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /error
2025-07-28T04:24:41.215-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2025-07-28T04:24:41.216-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:24:41.216-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T04:24:41.218-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:24:41.218-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 04:24:41 BRT 2025, status=404, error=Not Found, trace=org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "Orçamento não encontrado com ID: 1"
	at com.zlogcompras.service.ProcessoCompraService.lambda$gerarPedidoDeCompra$2(ProcessoCompraService.java:151)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.zlogcompras.service.ProcessoCompraService.gerarPedidoDeCompra(ProcessoCompraService.java:151)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.zlogcompras.service.ProcessoCompraService$$SpringCGLIB$$0.gerarPedidoDeCompra(<generated>)
	at com.zlogcompras.controller.ProcessoCompraController.gerarPedidoDeCompra(ProcessoCompraController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
, message=Orçamento não encontrado com ID: 1, path=/api/processo-compra/gerar-pedido/1}]
2025-07-28T04:24:41.221-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-07-28T04:24:41.221-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:24:41.221-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T04:24:56.239-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:24:56.239-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/processo-compra/gerar-pedido/2
2025-07-28T04:24:56.239-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:24:56.239-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:24:56.240-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:24:56.240-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:24:56.240-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:24:56.240-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:24:56.240-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:24:56.241-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:24:56.241-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/gerar-pedido/2
2025-07-28T04:24:56.241-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:24:56.242-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:24:56.243-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:24:56.243-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:24:56.244-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:24:56.253-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:24:56.255-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:24:56.255-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:24:56.255-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:24:56.259-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:24:56.259-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:24:56.259-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:24:56.259-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:24:56.259-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:24:56.259-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:24:56.259-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:24:56.259-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:24:56.259-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:24:56.259-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:24:56.259-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/processo-compra/gerar-pedido/2
2025-07-28T04:24:56.259-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/processo-compra/gerar-pedido/2 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:24:56.259-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/processo-compra/gerar-pedido/2
2025-07-28T04:24:56.259-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/processo-compra/gerar-pedido/2", parameters={}
2025-07-28T04:24:56.259-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#gerarPedidoDeCompra(Long)
2025-07-28T04:24:56.259-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.gerarPedidoDeCompra]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:24:56.263-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1796031878<open>)] for JPA transaction
2025-07-28T04:24:56.264-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@538bea06]
2025-07-28T04:24:56.265-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1796031878<open>)] for JPA transaction
2025-07-28T04:24:56.265-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:24:56.266-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        o1_0.id,
        o1_0.condicoes_pagamento,
        o1_0.data_atualizacao,
        o1_0.data_cotacao,
        o1_0.data_criacao,
        o1_0.fornecedor_id,
        o1_0.numero_orcamento,
        o1_0.observacoes,
        o1_0.prazo_entrega,
        o1_0.solicitacao_compra_id,
        o1_0.status,
        o1_0.valor_total,
        o1_0.version 
    from
        orcamentos o1_0 
    where
        o1_0.id=?
2025-07-28T04:24:56.267-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:24:56.278-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pc1_0.id 
    from
        pedidos_compra pc1_0 
    where
        pc1_0.orcamento_id=? 
    limit
        ?
2025-07-28T04:24:56.279-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:24:56.279-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (2:INTEGER) <- [1]
2025-07-28T04:24:56.284-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2025-07-28T04:24:56.285-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(1796031878<open>)]
2025-07-28T04:24:56.286-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1796031878<open>)] after transaction
2025-07-28T04:24:56.286-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:24:56.286-03:00  WARN 2572 --- [zlog_compras] [http-nio-8080-exec-4] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 409 CONFLICT "Já existe um pedido de compra gerado para o orçamento 2."]
2025-07-28T04:24:56.286-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 409 CONFLICT
2025-07-28T04:24:56.287-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:24:56.287-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:24:56.288-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-07-28T04:24:56.288-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:24:56.288-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:24:56.288-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:24:56.288-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:24:56.288-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:24:56.288-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:24:56.289-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:24:56.289-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:24:56.289-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:24:56.289-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:24:56.289-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:24:56.289-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:24:56.290-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:24:56.290-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:24:56.290-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing POST /error
2025-07-28T04:24:56.290-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000274d3aa3c10@52d92c00
2025-07-28T04:24:56.291-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /error
2025-07-28T04:24:56.291-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2025-07-28T04:24:56.291-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:24:56.292-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T04:24:56.293-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:24:56.293-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 04:24:56 BRT 2025, status=409, error=Conflict, trace=org.springframework.web.server.ResponseStatusException: 409 CONFLICT "Já existe um pedido de compra gerado para o orçamento 2."
	at com.zlogcompras.service.ProcessoCompraService.gerarPedidoDeCompra(ProcessoCompraService.java:161)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.zlogcompras.service.ProcessoCompraService$$SpringCGLIB$$0.gerarPedidoDeCompra(<generated>)
	at com.zlogcompras.controller.ProcessoCompraController.gerarPedidoDeCompra(ProcessoCompraController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
, message=Já existe um pedido de compra gerado para o orçamento 2., path=/api/processo-compra/gerar-pedido/2}]
2025-07-28T04:24:56.298-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 409
2025-07-28T04:24:56.298-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:24:56.299-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T04:26:38.519-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:26:38.520-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/processo-compra/gerar-pedido/3
2025-07-28T04:26:38.520-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:26:38.520-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:26:38.520-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:26:38.521-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:26:38.521-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:26:38.521-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:26:38.522-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:26:38.522-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:26:38.522-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/gerar-pedido/3
2025-07-28T04:26:38.522-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:26:38.523-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:26:38.523-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:26:38.523-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:26:38.536-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:26:38.538-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:26:38.540-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:26:38.545-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:26:38.547-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:26:38.554-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:26:38.557-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:26:38.557-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:26:38.557-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:26:38.557-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:26:38.557-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:26:38.558-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:26:38.558-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:26:38.558-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:26:38.558-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:26:38.558-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/processo-compra/gerar-pedido/3
2025-07-28T04:26:38.558-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/processo-compra/gerar-pedido/3 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:26:38.558-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/processo-compra/gerar-pedido/3
2025-07-28T04:26:38.560-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/processo-compra/gerar-pedido/3", parameters={}
2025-07-28T04:26:38.561-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#gerarPedidoDeCompra(Long)
2025-07-28T04:26:38.562-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.gerarPedidoDeCompra]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:26:38.569-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(162374795<open>)] for JPA transaction
2025-07-28T04:26:38.570-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@42b42e12]
2025-07-28T04:26:38.570-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(162374795<open>)] for JPA transaction
2025-07-28T04:26:38.570-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:26:38.571-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        o1_0.id,
        o1_0.condicoes_pagamento,
        o1_0.data_atualizacao,
        o1_0.data_cotacao,
        o1_0.data_criacao,
        o1_0.fornecedor_id,
        o1_0.numero_orcamento,
        o1_0.observacoes,
        o1_0.prazo_entrega,
        o1_0.solicitacao_compra_id,
        o1_0.status,
        o1_0.valor_total,
        o1_0.version 
    from
        orcamentos o1_0 
    where
        o1_0.id=?
2025-07-28T04:26:38.572-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T04:26:38.573-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2025-07-28T04:26:38.574-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(162374795<open>)]
2025-07-28T04:26:38.575-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(162374795<open>)] after transaction
2025-07-28T04:26:38.575-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:26:38.575-03:00  WARN 2572 --- [zlog_compras] [http-nio-8080-exec-6] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 400 BAD_REQUEST "Não é possível gerar um pedido de compra para um orçamento com status: Aguardando Aprovação. O orçamento deve estar APROVADO."]
2025-07-28T04:26:38.576-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:26:38.576-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing POST /error
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000274d3aa3c10@52d92c00
2025-07-28T04:26:38.576-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /error
2025-07-28T04:26:38.576-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T04:26:38.576-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:26:38.576-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 04:26:38 BRT 2025, status=400, error=Bad Request, trace=org.springframework.web.server.ResponseStatusException: 400 BAD_REQUEST "Não é possível gerar um pedido de compra para um orçamento com status: Aguardando Aprovação. O orçamento deve estar APROVADO."
	at com.zlogcompras.service.ProcessoCompraService.gerarPedidoDeCompra(ProcessoCompraService.java:157)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.zlogcompras.service.ProcessoCompraService$$SpringCGLIB$$0.gerarPedidoDeCompra(<generated>)
	at com.zlogcompras.controller.ProcessoCompraController.gerarPedidoDeCompra(ProcessoCompraController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
, message=Não é possível gerar um pedido de compra para um orçamento com status: Aguardando Aprovação. O orçamento deve estar APROVADO., path=/api/processo-compra/gerar-pedido/3}]
2025-07-28T04:26:38.576-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 400
2025-07-28T04:26:38.585-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:26:38.585-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T04:27:58.927-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:27:58.928-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing PATCH /api/orcamentos/3/aprovar
2025-07-28T04:27:58.929-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:27:58.929-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:27:58.930-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:27:58.930-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:27:58.930-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:27:58.930-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:27:58.931-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:27:58.931-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:27:58.931-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/orcamentos/3/aprovar
2025-07-28T04:27:58.931-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:27:58.933-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:27:58.933-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:27:58.933-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:27:58.937-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:27:58.939-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:27:58.941-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:27:58.942-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:27:58.944-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:27:58.944-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:27:58.945-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:27:58.945-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:27:58.945-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:27:58.945-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:27:58.945-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:27:58.946-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:27:58.946-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:27:58.946-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:27:58.946-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:27:58.946-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing PATCH /api/orcamentos/3/aprovar
2025-07-28T04:27:58.946-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on PATCH /api/orcamentos/3/aprovar using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:27:58.946-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured PATCH /api/orcamentos/3/aprovar
2025-07-28T04:27:58.946-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : PATCH "/api/orcamentos/3/aprovar", parameters={}
2025-07-28T04:27:58.947-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.OrcamentoController#aprovarOrcamento(Long)
2025-07-28T04:27:58.949-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.OrcamentoService.aprovarOrcamento]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:27:58.949-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1531373516<open>)] for JPA transaction
2025-07-28T04:27:58.950-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3e7c20ca]
2025-07-28T04:27:58.950-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1531373516<open>)] for JPA transaction
2025-07-28T04:27:58.951-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:27:58.951-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        o1_0.id,
        o1_0.condicoes_pagamento,
        o1_0.data_atualizacao,
        o1_0.data_cotacao,
        o1_0.data_criacao,
        o1_0.fornecedor_id,
        o1_0.numero_orcamento,
        o1_0.observacoes,
        o1_0.prazo_entrega,
        o1_0.solicitacao_compra_id,
        o1_0.status,
        o1_0.valor_total,
        o1_0.version 
    from
        orcamentos o1_0 
    where
        o1_0.id=?
2025-07-28T04:27:58.952-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T04:27:58.952-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1531373516<open>)] for JPA transaction
2025-07-28T04:27:58.952-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:27:58.961-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    update
        orcamentos 
    set
        condicoes_pagamento=?,
        data_atualizacao=?,
        data_cotacao=?,
        fornecedor_id=?,
        numero_orcamento=?,
        observacoes=?,
        prazo_entrega=?,
        solicitacao_compra_id=?,
        status=?,
        valor_total=?,
        version=? 
    where
        id=? 
        and version=?
2025-07-28T04:27:58.962-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [null]
2025-07-28T04:27:58.963-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (2:TIMESTAMP) <- [2025-07-28T04:27:58.959127400]
2025-07-28T04:27:58.963-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (3:DATE) <- [2025-07-28]
2025-07-28T04:27:58.963-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [1]
2025-07-28T04:27:58.963-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [null]
2025-07-28T04:27:58.964-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [Orçamento inicial gerado automaticamente para solicitação 1]
2025-07-28T04:27:58.964-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (7:VARCHAR) <- [null]
2025-07-28T04:27:58.964-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [1]
2025-07-28T04:27:58.964-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (9:ENUM) <- [APROVADO]
2025-07-28T04:27:58.964-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (10:NUMERIC) <- [49607.30]
2025-07-28T04:27:58.964-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (11:BIGINT) <- [1]
2025-07-28T04:27:58.964-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (12:BIGINT) <- [3]
2025-07-28T04:27:58.965-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (13:BIGINT) <- [0]
2025-07-28T04:27:58.967-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        o1_0.id,
        o1_0.condicoes_pagamento,
        o1_0.data_atualizacao,
        o1_0.data_cotacao,
        o1_0.data_criacao,
        o1_0.fornecedor_id,
        o1_0.numero_orcamento,
        o1_0.observacoes,
        o1_0.prazo_entrega,
        o1_0.solicitacao_compra_id,
        o1_0.status,
        o1_0.valor_total,
        o1_0.version 
    from
        orcamentos o1_0 
    where
        o1_0.solicitacao_compra_id=? 
        and o1_0.id<>?
2025-07-28T04:27:58.968-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:27:58.968-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (2:BIGINT) <- [3]
2025-07-28T04:27:58.971-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T04:27:58.973-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:27:58.981-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1531373516<open>)] for JPA transaction
2025-07-28T04:27:58.981-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:27:58.983-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1531373516<open>)] for JPA transaction
2025-07-28T04:27:58.984-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:27:58.984-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        io1_0.orcamento_id,
        io1_0.id,
        io1_0.codigo_produto,
        io1_0.nome_produto,
        io1_0.observacoes,
        io1_0.preco_unitario_cotado,
        io1_0.produto_id,
        io1_0.quantidade,
        io1_0.unidade_medida_produto,
        io1_0.version 
    from
        itens_orcamento io1_0 
    where
        io1_0.orcamento_id=?
2025-07-28T04:27:58.985-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T04:27:58.992-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1531373516<open>)] for JPA transaction
2025-07-28T04:27:58.993-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:27:58.996-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        pedidos_compra
        (data_pedido, fornecedor_id, observacoes, orcamento_id, status, valor_total) 
    values
        (?, ?, ?, ?, ?, ?)
2025-07-28T04:27:58.997-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:DATE) <- [2025-07-28]
2025-07-28T04:27:58.998-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (2:BIGINT) <- [1]
2025-07-28T04:27:58.998-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [null]
2025-07-28T04:27:58.998-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [3]
2025-07-28T04:27:58.998-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (5:ENUM) <- [AGUARDANDO_ENVIO]
2025-07-28T04:27:58.999-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (6:NUMERIC) <- [49607.30000]
2025-07-28T04:27:59.005-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        itens_pedido_compra
        (codigo_produto, nome_produto, observacoes, pedido_compra_id, preco_unitario, produto_id, quantidade, subtotal, unidade_medida, version) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-07-28T04:27:59.007-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [SKU003]
2025-07-28T04:27:59.007-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [Mouse Sem Fio Ergonômico]
2025-07-28T04:27:59.007-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Item solicitado para orçamento da solicitação: 1]
2025-07-28T04:27:59.008-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [3]
2025-07-28T04:27:59.008-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (5:NUMERIC) <- [120.50]
2025-07-28T04:27:59.008-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [3]
2025-07-28T04:27:59.008-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (7:INTEGER) <- [15]
2025-07-28T04:27:59.008-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (8:NUMERIC) <- [1807.50000]
2025-07-28T04:27:59.008-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (9:VARCHAR) <- [UN]
2025-07-28T04:27:59.009-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (10:BIGINT) <- [0]
2025-07-28T04:27:59.010-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:27:59.010-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1531373516<open>)]
2025-07-28T04:27:59.014-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    update
        solicitacoes_compra 
    set
        data_atualizacao=?,
        data_solicitacao=?,
        descricao=?,
        solicitante=?,
        status=?,
        version=? 
    where
        id=? 
        and version=?
2025-07-28T04:27:59.016-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T04:27:59.012049500]
2025-07-28T04:27:59.016-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (2:DATE) <- [2025-07-28]
2025-07-28T04:27:59.017-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Solicitação de compra para equipamentos de informática - Q3/2025]
2025-07-28T04:27:59.017-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [Departamento de TI]
2025-07-28T04:27:59.017-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (5:ENUM) <- [ORCAMENTO_APROVADO]
2025-07-28T04:27:59.017-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [3]
2025-07-28T04:27:59.017-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [1]
2025-07-28T04:27:59.017-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [2]
2025-07-28T04:27:59.022-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1531373516<open>)] after transaction
2025-07-28T04:27:59.022-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:27:59.024-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-07-28T04:27:59.024-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 204 NO_CONTENT
2025-07-28T04:27:59.025-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:28:14.934-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:28:14.937-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/processo-compra/gerar-pedido/3
2025-07-28T04:28:14.937-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:28:14.937-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:28:14.937-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:28:14.937-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:28:14.937-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:28:14.938-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:28:14.938-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:28:14.938-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:28:14.938-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/gerar-pedido/3
2025-07-28T04:28:14.939-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:28:14.939-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:28:14.939-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:28:14.940-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:28:14.942-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:28:14.943-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:28:14.946-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:28:14.946-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:28:14.950-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:28:14.950-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:28:14.960-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:28:14.962-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:28:14.962-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:28:14.962-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:28:14.962-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:28:14.962-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:28:14.963-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:28:14.963-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:28:14.963-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:28:14.963-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/processo-compra/gerar-pedido/3
2025-07-28T04:28:14.963-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/processo-compra/gerar-pedido/3 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:28:14.963-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/processo-compra/gerar-pedido/3
2025-07-28T04:28:14.963-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/processo-compra/gerar-pedido/3", parameters={}
2025-07-28T04:28:14.964-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#gerarPedidoDeCompra(Long)
2025-07-28T04:28:14.964-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.gerarPedidoDeCompra]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:28:14.964-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(38745155<open>)] for JPA transaction
2025-07-28T04:28:14.965-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@58a135f1]
2025-07-28T04:28:14.965-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(38745155<open>)] for JPA transaction
2025-07-28T04:28:14.965-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:28:14.966-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        o1_0.id,
        o1_0.condicoes_pagamento,
        o1_0.data_atualizacao,
        o1_0.data_cotacao,
        o1_0.data_criacao,
        o1_0.fornecedor_id,
        o1_0.numero_orcamento,
        o1_0.observacoes,
        o1_0.prazo_entrega,
        o1_0.solicitacao_compra_id,
        o1_0.status,
        o1_0.valor_total,
        o1_0.version 
    from
        orcamentos o1_0 
    where
        o1_0.id=?
2025-07-28T04:28:14.967-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T04:28:14.969-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        pc1_0.id 
    from
        pedidos_compra pc1_0 
    where
        pc1_0.orcamento_id=? 
    limit
        ?
2025-07-28T04:28:14.970-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T04:28:14.970-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (2:INTEGER) <- [1]
2025-07-28T04:28:14.972-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2025-07-28T04:28:14.973-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(38745155<open>)]
2025-07-28T04:28:14.976-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(38745155<open>)] after transaction
2025-07-28T04:28:14.976-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:28:14.976-03:00  WARN 2572 --- [zlog_compras] [http-nio-8080-exec-8] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 409 CONFLICT "Já existe um pedido de compra gerado para o orçamento 3."]
2025-07-28T04:28:14.978-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 409 CONFLICT
2025-07-28T04:28:14.978-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:28:14.979-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:28:14.979-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-07-28T04:28:14.979-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:28:14.979-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:28:14.980-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:28:14.980-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:28:14.980-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:28:14.980-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:28:14.980-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:28:14.981-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:28:14.981-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:28:14.981-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:28:14.981-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:28:14.981-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:28:14.981-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:28:14.982-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:28:14.982-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /error
2025-07-28T04:28:14.982-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000274d3aa3c10@52d92c00
2025-07-28T04:28:14.982-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /error
2025-07-28T04:28:14.983-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2025-07-28T04:28:14.983-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:28:14.984-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T04:28:14.984-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:28:14.985-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 04:28:14 BRT 2025, status=409, error=Conflict, trace=org.springframework.web.server.ResponseStatusException: 409 CONFLICT "Já existe um pedido de compra gerado para o orçamento 3."
	at com.zlogcompras.service.ProcessoCompraService.gerarPedidoDeCompra(ProcessoCompraService.java:161)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.zlogcompras.service.ProcessoCompraService$$SpringCGLIB$$0.gerarPedidoDeCompra(<generated>)
	at com.zlogcompras.controller.ProcessoCompraController.gerarPedidoDeCompra(ProcessoCompraController.java:61)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
, message=Já existe um pedido de compra gerado para o orçamento 3., path=/api/processo-compra/gerar-pedido/3}]
2025-07-28T04:28:14.988-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 409
2025-07-28T04:28:14.989-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:28:14.989-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T04:28:38.938-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:28:38.939-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /api/processo-compra/3/status/PEDIDO_GERADO
2025-07-28T04:28:38.939-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:28:38.939-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:28:38.939-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:28:38.940-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:28:38.940-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:28:38.940-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:28:38.941-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:28:38.941-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:28:38.941-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/3/status/PEDIDO_GERADO
2025-07-28T04:28:38.941-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:28:38.943-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:28:38.943-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:28:38.944-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:28:38.946-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:28:38.948-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:28:38.949-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:28:38.950-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:28:38.953-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:28:38.953-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:28:38.955-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:28:38.956-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:28:38.956-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:28:38.956-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:28:38.956-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:28:38.956-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:28:38.957-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:28:38.957-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:28:38.957-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:28:38.957-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/processo-compra/3/status/PEDIDO_GERADO
2025-07-28T04:28:38.957-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/processo-compra/3/status/PEDIDO_GERADO using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:28:38.957-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /api/processo-compra/3/status/PEDIDO_GERADO
2025-07-28T04:28:38.958-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : PUT "/api/processo-compra/3/status/PEDIDO_GERADO", parameters={}
2025-07-28T04:28:38.958-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#atualizarStatusSolicitacao(Long, StatusSolicitacaoCompra)
2025-07-28T04:28:38.959-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:28:38.960-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1369516538<open>)] for JPA transaction
2025-07-28T04:28:38.960-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@51de4857]
2025-07-28T04:28:38.961-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1369516538<open>)] for JPA transaction
2025-07-28T04:28:38.961-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:28:38.962-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T04:28:38.962-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T04:28:38.963-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2025-07-28T04:28:38.964-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(1369516538<open>)]
2025-07-28T04:28:38.964-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1369516538<open>)] after transaction
2025-07-28T04:28:38.965-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:28:38.965-03:00  WARN 2572 --- [zlog_compras] [http-nio-8080-exec-10] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "Solicitação de Compra não encontrada com ID: 3"]
2025-07-28T04:28:38.965-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-07-28T04:28:38.966-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:28:38.966-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:28:38.967-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-07-28T04:28:38.967-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:28:38.967-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:28:38.967-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:28:38.967-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:28:38.967-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:28:38.968-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:28:38.968-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:28:38.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:28:38.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:28:38.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:28:38.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:28:38.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:28:38.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:28:38.970-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:28:38.970-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Authorizing PUT /error
2025-07-28T04:28:38.970-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000274d3aa3c10@52d92c00
2025-07-28T04:28:38.970-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-07-28T04:28:38.970-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-07-28T04:28:38.971-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:28:38.971-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T04:28:38.973-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:28:38.973-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 04:28:38 BRT 2025, status=404, error=Not Found, trace=org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "Solicitação de Compra não encontrada com ID: 3"
	at com.zlogcompras.service.ProcessoCompraService.lambda$atualizarStatusSolicitacao$3(ProcessoCompraService.java:243)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao(ProcessoCompraService.java:243)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.zlogcompras.service.ProcessoCompraService$$SpringCGLIB$$0.atualizarStatusSolicitacao(<generated>)
	at com.zlogcompras.controller.ProcessoCompraController.atualizarStatusSolicitacao(ProcessoCompraController.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
, message=Solicitação de Compra não encontrada com ID: 3, path=/api/processo-compra/3/status/PEDIDO_GERADO}]
2025-07-28T04:28:38.975-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-07-28T04:28:38.976-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:28:38.976-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T04:28:56.898-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:28:56.898-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing PUT /api/processo-compra/1/status/PEDIDO_GERADO
2025-07-28T04:28:56.898-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:28:56.899-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:28:56.899-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:28:56.899-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:28:56.900-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:28:56.900-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:28:56.901-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:28:56.902-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:28:56.902-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/1/status/PEDIDO_GERADO
2025-07-28T04:28:56.902-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:28:56.902-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:28:56.902-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:28:56.903-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:28:56.906-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:28:56.933-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:28:56.936-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:28:56.937-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:28:56.939-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:28:56.940-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:28:56.942-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:28:56.942-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:28:56.944-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:28:56.944-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:28:56.944-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:28:56.944-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:28:56.944-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:28:56.944-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:28:56.944-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:28:56.944-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/processo-compra/1/status/PEDIDO_GERADO
2025-07-28T04:28:56.946-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/processo-compra/1/status/PEDIDO_GERADO using org.springframework.security.authorization.AuthenticatedAuthorizationManager@143186cd
2025-07-28T04:28:56.946-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured PUT /api/processo-compra/1/status/PEDIDO_GERADO
2025-07-28T04:28:56.946-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : PUT "/api/processo-compra/1/status/PEDIDO_GERADO", parameters={}
2025-07-28T04:28:56.946-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#atualizarStatusSolicitacao(Long, StatusSolicitacaoCompra)
2025-07-28T04:28:56.946-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:28:56.946-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(582525369<open>)] for JPA transaction
2025-07-28T04:28:56.946-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@71960741]
2025-07-28T04:28:56.946-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(582525369<open>)] for JPA transaction
2025-07-28T04:28:56.946-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:28:56.946-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T04:28:56.950-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:28:56.951-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(582525369<open>)] for JPA transaction
2025-07-28T04:28:56.951-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:28:56.952-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:28:56.953-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(582525369<open>)]
2025-07-28T04:28:56.953-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    update
        solicitacoes_compra 
    set
        data_atualizacao=?,
        data_solicitacao=?,
        descricao=?,
        solicitante=?,
        status=?,
        version=? 
    where
        id=? 
        and version=?
2025-07-28T04:28:56.955-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T04:28:56.953474300]
2025-07-28T04:28:56.955-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (2:DATE) <- [2025-07-28]
2025-07-28T04:28:56.955-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Solicitação de compra para equipamentos de informática - Q3/2025]
2025-07-28T04:28:56.955-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [Departamento de TI]
2025-07-28T04:28:56.955-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (5:ENUM) <- [PEDIDO_GERADO]
2025-07-28T04:28:56.955-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [4]
2025-07-28T04:28:56.955-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [1]
2025-07-28T04:28:56.956-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [3]
2025-07-28T04:28:56.958-03:00  WARN 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1265, SQLState: 01000
2025-07-28T04:28:56.958-03:00 ERROR 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : Data truncated for column 'status' at row 1
2025-07-28T04:28:56.958-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback after commit exception

org.springframework.orm.jpa.JpaSystemException: could not execute statement [Data truncated for column 'status' at row 1] [update solicitacoes_compra set data_atualizacao=?,data_solicitacao=?,descricao=?,solicitante=?,status=?,version=? where id=? and version=?]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:341) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:676) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:426) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.8.jar:6.1.8]
	at com.zlogcompras.service.ProcessoCompraService$$SpringCGLIB$$0.atualizarStatusSolicitacao(<generated>) ~[classes/:na]
	at com.zlogcompras.controller.ProcessoCompraController.atualizarStatusSolicitacao(ProcessoCompraController.java:48) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.hibernate.exception.GenericJDBCException: could not execute statement [Data truncated for column 'status' at row 1] [update solicitacoes_compra set data_atualizacao=?,data_solicitacao=?,descricao=?,solicitante=?,status=?,version=? where id=? and version=?]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:63) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.doStaticUpdate(UpdateCoordinatorStandard.java:781) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.performUpdate(UpdateCoordinatorStandard.java:328) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.update(UpdateCoordinatorStandard.java:245) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:169) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:632) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:499) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:371) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:487) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2324) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1981) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.1.8.jar:6.1.8]
	... 111 common frames omitted
Caused by: java.sql.SQLException: Data truncated for column 'status' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:113) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:938) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1106) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1045) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1369) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1030) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	... 132 common frames omitted

2025-07-28T04:28:56.969-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(582525369<open>)]
2025-07-28T04:28:56.969-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(582525369<open>)] after transaction
2025-07-28T04:28:56.969-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.orm.jpa.JpaSystemException: could not execute statement [Data truncated for column 'status' at row 1] [update solicitacoes_compra set data_atualizacao=?,data_solicitacao=?,descricao=?,solicitante=?,status=?,version=? where id=? and version=?]
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:28:56.969-03:00 ERROR 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: could not execute statement [Data truncated for column 'status' at row 1] [update solicitacoes_compra set data_atualizacao=?,data_solicitacao=?,descricao=?,solicitante=?,status=?,version=? where id=? and version=?]] with root cause

java.sql.SQLException: Data truncated for column 'status' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:113) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:938) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1106) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1045) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1369) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1030) ~[mysql-connector-j-8.4.0.jar:8.4.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.doStaticUpdate(UpdateCoordinatorStandard.java:781) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.performUpdate(UpdateCoordinatorStandard.java:328) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.update(UpdateCoordinatorStandard.java:245) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:169) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:632) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:499) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:371) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:487) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2324) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1981) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:676) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:426) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.8.jar:6.1.8]
	at com.zlogcompras.service.ProcessoCompraService$$SpringCGLIB$$0.atualizarStatusSolicitacao(<generated>) ~[classes/:na]
	at com.zlogcompras.controller.ProcessoCompraController.atualizarStatusSolicitacao(ProcessoCompraController.java:48) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f2cd2b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3332477b, org.springframework.security.web.context.SecurityContextHolderFilter@53f66a8e, org.springframework.security.web.header.HeaderWriterFilter@54f189b3, org.springframework.web.filter.CorsFilter@7ceb4880, org.springframework.security.web.authentication.logout.LogoutFilter@648284bd, com.zlogcompras.config.JwtAuthenticationFilter@64e92c00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a9f45b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e789d6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c317e22, org.springframework.security.web.session.SessionManagementFilter@15724ba4, org.springframework.security.web.access.ExceptionTranslationFilter@56ac3782, org.springframework.security.web.access.intercept.AuthorizationFilter@6a50d455]] (1/1)
2025-07-28T04:28:56.969-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing PUT /error
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000274d3aa3c10@52d92c00
2025-07-28T04:28:56.969-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-07-28T04:28:56.969-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:28:56.969-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T04:28:56.986-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:28:56.986-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 04:28:56 BRT 2025, status=500, error=Internal Server Error, trace=org.springframework.orm.jpa.JpaSystemException: could not execute statement [Data truncated for column 'status' at row 1] [update solicitacoes_compra set data_atualizacao=?,data_solicitacao=?,descricao=?,solicitante=?,status=?,version=? where id=? and version=?]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:341)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:676)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:426)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.zlogcompras.service.ProcessoCompraService$$SpringCGLIB$$0.atualizarStatusSolicitacao(<generated>)
	at com.zlogcompras.controller.ProcessoCompraController.atualizarStatusSolicitacao(ProcessoCompraController.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.GenericJDBCException: could not execute statement [Data truncated for column 'status' at row 1] [update solicitacoes_compra set data_atualizacao=?,data_solicitacao=?,descricao=?,solicitante=?,status=?,version=? where id=? and version=?]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:63)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.doStaticUpdate(UpdateCoordinatorStandard.java:781)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.performUpdate(UpdateCoordinatorStandard.java:328)
	at org.hibernate.persister.entity.mutation.UpdateCoordinatorStandard.update(UpdateCoordinatorStandard.java:245)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:169)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:632)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:499)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:371)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:487)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2324)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1981)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	... 111 more
Caused by: java.sql.SQLException: Data truncated for column 'status' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:113)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:938)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1106)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1045)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1369)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1030)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 132 more
, message=could not execute statement [Data truncated for column 'status' at row 1] [update solicitacoes_compra set data_atualizacao=?,data_solicitacao=?,descricao=?,solicitante=?,status=?,version=? where id=? and version=?], path=/api/processo-compra/1/status/PEDIDO_GERADO}]
2025-07-28T04:28:56.989-03:00 DEBUG 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-07-28T04:28:56.989-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:28:56.989-03:00 TRACE 2572 --- [zlog_compras] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T04:35:04.699-03:00  INFO 2572 --- [zlog_compras] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 117 class path changes (1 addition, 116 deletions, 0 modifications)
2025-07-28T04:35:06.548-03:00  INFO 2572 --- [zlog_compras] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:35:06.856-03:00  INFO 2572 --- [zlog_compras] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-28T04:35:07.003-03:00  INFO 2572 --- [zlog_compras] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-28T04:35:07.574-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 2572 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:35:07.574-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:35:07.575-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:35:09.111-03:00  INFO 2572 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:35:09.244-03:00  INFO 2572 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 129 ms. Found 13 JPA repository interfaces.
2025-07-28T04:35:09.507-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:35:09.509-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:35:09.509-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:35:09.534-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T04:35:09.534-03:00  INFO 2572 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1956 ms
2025-07-28T04:35:09.599-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:35:09.599-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:35:09.602-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:35:09.619-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:35:09.621-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-28T04:35:09.801-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@74201e29
2025-07-28T04:35:09.802-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-28T04:35:09.839-03:00  WARN 2572 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:35:10.135-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:35:10.136-03:00  INFO 2572 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:35:10.155-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:35:10.157-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:35:10.159-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.161-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.170-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.173-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:35:10.174-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:35:10.174-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.186-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:35:10.201-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@72259215}
2025-07-28T04:35:10.204-03:00  INFO 2572 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:35:10.204-03:00  WARN 2572 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:35:10.208-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.210-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.211-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:35:10.212-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:35:10.212-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.221-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.227-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.228-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:35:10.228-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:35:10.229-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.230-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:35:10.230-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:35:10.230-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.236-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.237-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.238-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:35:10.238-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:35:10.238-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.358-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.363-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.366-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:35:10.366-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:35:10.366-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.382-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.398-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.399-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:35:10.400-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:35:10.400-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.403-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:35:10.403-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:35:10.403-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.404-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:35:10.405-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:35:10.405-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.406-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:35:10.407-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:35:10.407-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.408-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:35:10.408-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:35:10.409-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.410-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:35:10.410-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:35:10.410-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.411-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:35:10.412-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:35:10.412-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.420-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.421-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.427-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.428-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.429-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:35:10.429-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:35:10.430-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.431-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:35:10.431-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:35:10.431-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.433-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:35:10.433-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:35:10.433-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.446-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.452-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.453-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:35:10.454-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:35:10.454-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.455-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:35:10.456-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:35:10.456-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.457-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:35:10.458-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:35:10.458-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.464-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.465-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.467-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:35:10.467-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:35:10.467-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.495-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.496-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.498-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:35:10.498-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:35:10.498-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.499-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:35:10.500-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:35:10.500-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.501-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:35:10.502-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:35:10.502-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.620-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-07-28T04:35:10.626-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
2025-07-28T04:35:10.631-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
2025-07-28T04:35:10.636-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
2025-07-28T04:35:10.641-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T04:35:10.645-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T04:35:10.648-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
2025-07-28T04:35:10.651-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
2025-07-28T04:35:10.655-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T04:35:10.664-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-07-28T04:35:10.667-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T04:35:10.672-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T04:35:10.676-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T04:35:10.765-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T04:35:10.779-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ff73532, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20f58f33, org.springframework.security.web.context.SecurityContextHolderFilter@6837e709, org.springframework.security.web.header.HeaderWriterFilter@59ce1342, org.springframework.web.filter.CorsFilter@5459baed, org.springframework.security.web.authentication.logout.LogoutFilter@255d4215, com.zlogcompras.config.JwtAuthenticationFilter@6b9e02fd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d34d353, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@14c993b4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@537611a1, org.springframework.security.web.session.SessionManagementFilter@4087a075, org.springframework.security.web.access.ExceptionTranslationFilter@e6b77b3, org.springframework.security.web.access.intercept.AuthorizationFilter@1462695e]
2025-07-28T04:35:10.829-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T04:35:10.842-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T04:35:10.917-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.921-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.923-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:35:10.924-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:35:10.924-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.929-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.929-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.936-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:35:10.937-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:35:10.937-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:10.981-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T04:35:11.015-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T04:35:11.059-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 3.525 seconds (process running for 2417.284)
2025-07-28T04:35:11.063-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:11.102-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:35:11.107-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T04:35:11.219-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:11.221-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:35:11.221-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T04:35:11.238-03:00  INFO 2572 --- [zlog_compras] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-28T04:35:12.439-03:00  INFO 2572 --- [zlog_compras] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 118 class path changes (116 additions, 0 deletions, 2 modifications)
2025-07-28T04:35:12.450-03:00  INFO 2572 --- [zlog_compras] [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:35:12.452-03:00  INFO 2572 --- [zlog_compras] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-28T04:35:12.455-03:00  INFO 2572 --- [zlog_compras] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-28T04:35:12.545-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 2572 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:35:12.546-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:35:12.546-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:35:12.884-03:00  INFO 2572 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:35:12.925-03:00  INFO 2572 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 13 JPA repository interfaces.
2025-07-28T04:35:13.101-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:35:13.103-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:35:13.103-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:35:13.124-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T04:35:13.124-03:00  INFO 2572 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 576 ms
2025-07-28T04:35:13.240-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:35:13.247-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:35:13.249-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:35:13.258-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:35:13.260-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-07-28T04:35:13.266-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7d358577
2025-07-28T04:35:13.267-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-07-28T04:35:13.269-03:00  WARN 2572 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:35:13.499-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:35:13.500-03:00  INFO 2572 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:35:13.527-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:35:13.528-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:35:13.532-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.540-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.542-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:35:13.542-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:35:13.543-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.559-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:35:13.579-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@179a727}
2025-07-28T04:35:13.582-03:00  INFO 2572 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:35:13.582-03:00  WARN 2572 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:35:13.586-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.588-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.589-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:35:13.590-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:35:13.590-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.602-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.609-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.610-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:35:13.611-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:35:13.611-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.612-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:35:13.612-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:35:13.613-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.623-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.624-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.625-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:35:13.626-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:35:13.626-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.688-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.692-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.694-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:35:13.695-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:35:13.695-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.708-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.718-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.720-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:35:13.720-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:35:13.720-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.721-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:35:13.722-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:35:13.722-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.724-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:35:13.725-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:35:13.725-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.727-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:35:13.727-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:35:13.727-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.728-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:35:13.729-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:35:13.729-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.730-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:35:13.731-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:35:13.731-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.732-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:35:13.732-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:35:13.733-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.741-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.742-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.747-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.748-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.752-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:35:13.752-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:35:13.753-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.755-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:35:13.755-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:35:13.755-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.757-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:35:13.757-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:35:13.757-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.766-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.777-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.778-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:35:13.779-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:35:13.779-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.781-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:35:13.782-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:35:13.782-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.783-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:35:13.783-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:35:13.783-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.790-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.791-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.792-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:35:13.792-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:35:13.793-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.814-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.815-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.817-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:35:13.818-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:35:13.818-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.819-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:35:13.820-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:35:13.820-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.822-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:35:13.822-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:35:13.822-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:13.887-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-07-28T04:35:13.888-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
2025-07-28T04:35:13.891-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
2025-07-28T04:35:13.893-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
2025-07-28T04:35:13.897-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T04:35:13.900-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T04:35:13.901-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
2025-07-28T04:35:13.903-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
2025-07-28T04:35:13.905-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T04:35:13.908-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-07-28T04:35:13.909-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T04:35:13.910-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T04:35:13.911-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T04:35:13.942-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T04:35:13.953-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2d9cc008, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1970af47, org.springframework.security.web.context.SecurityContextHolderFilter@230853b9, org.springframework.security.web.header.HeaderWriterFilter@7787f037, org.springframework.web.filter.CorsFilter@2c001dd2, org.springframework.security.web.authentication.logout.LogoutFilter@62cac24e, com.zlogcompras.config.JwtAuthenticationFilter@35bd1212, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aa2249c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32ec65b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48dbbeca, org.springframework.security.web.session.SessionManagementFilter@4634ad, org.springframework.security.web.access.ExceptionTranslationFilter@54f1b054, org.springframework.security.web.access.intercept.AuthorizationFilter@58b79101]
2025-07-28T04:35:13.978-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T04:35:13.983-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T04:35:14.011-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:14.014-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:14.015-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:35:14.015-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:35:14.015-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:14.022-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:14.024-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:14.026-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:35:14.026-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:35:14.026-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:14.063-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T04:35:14.090-03:00  INFO 2572 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T04:35:14.108-03:00  INFO 2572 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 1.595 seconds (process running for 2420.333)
2025-07-28T04:35:14.113-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:14.153-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:35:14.155-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T04:35:14.178-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:14.179-03:00 DEBUG 2572 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:35:14.180-03:00 TRACE 2572 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T04:35:14.183-03:00  INFO 2572 --- [zlog_compras] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-28T04:35:50.292-03:00  INFO 1756 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Starting ZlogComprasApplicationTests using Java 21.0.8 with PID 1756 (started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:35:50.294-03:00 DEBUG 1756 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:35:50.295-03:00  INFO 1756 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : The following 1 profile is active: "test"
2025-07-28T04:35:50.329-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0
2025-07-28T04:35:53.371-03:00 DEBUG 1756 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:35:53.796-03:00  INFO 1756 --- [zlog_compras] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:35:53.864-03:00  WARN 1756 --- [zlog_compras] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:35:55.309-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-07-28T04:35:55.313-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-07-28T04:35:55.313-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-07-28T04:35:55.313-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-07-28T04:35:55.313-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-07-28T04:35:55.313-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-07-28T04:35:55.313-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-07-28T04:35:55.314-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-07-28T04:35:55.314-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-07-28T04:35:55.314-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-07-28T04:35:55.314-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-07-28T04:35:55.315-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-07-28T04:35:55.315-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-07-28T04:35:55.315-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-07-28T04:35:55.322-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table estoque (
        quantidade integer not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        data_ultima_entrada timestamp(6),
        data_ultima_saida timestamp(6),
        id bigint generated by default as identity,
        produto_id bigint not null,
        version bigint,
        localizacao varchar(255),
        observacoes varchar(255),
        primary key (id)
    )
2025-07-28T04:35:55.332-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table fornecedores (
        id bigint generated by default as identity,
        version bigint,
        telefone varchar(15),
        cnpj varchar(18) not null unique,
        contato varchar(255),
        email varchar(255) unique,
        endereco varchar(255) not null,
        razao_social varchar(255) not null,
        primary key (id)
    )
2025-07-28T04:35:55.334-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_orcamento (
        preco_unitario_cotado numeric(12,2) not null,
        quantidade numeric(10,3) not null,
        id bigint generated by default as identity,
        orcamento_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida_produto varchar(20),
        codigo_produto varchar(50),
        nome_produto varchar(255) not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-07-28T04:35:55.338-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_pedido_compra (
        preco_unitario numeric(12,2) not null,
        quantidade integer not null,
        subtotal numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida varchar(50),
        codigo_produto varchar(100),
        observacoes varchar(500),
        nome_produto varchar(255),
        primary key (id)
    )
2025-07-28T04:35:55.341-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_solicitacao_compra (
        quantidade numeric(10,3) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        produto_id bigint not null,
        solicitacao_compra_id bigint not null,
        version bigint,
        descricao_adicional varchar(255),
        status enum ('AGUARDANDO_ORCAMENTO','APROVADO','CANCELADO','COMPRADO','EM_COMPRA','ORCAMENTO_RECEBIDO','PENDENTE','REJEITADO') not null,
        primary key (id)
    )
2025-07-28T04:35:55.344-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table movimentacoes_estoque (
        quantidade numeric(10,3) not null,
        data_movimentacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        codigo_material varchar(255) not null,
        referencia varchar(255),
        tipo_movimentacao varchar(255) not null,
        primary key (id)
    )
2025-07-28T04:35:55.347-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table notas_fiscais (
        data_emissao date not null,
        valor_total numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        version bigint,
        numero_nota_fiscal varchar(255) not null unique,
        primary key (id)
    )
2025-07-28T04:35:55.354-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table orcamentos (
        data_cotacao date not null,
        valor_total numeric(12,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        fornecedor_id bigint not null,
        id bigint generated by default as identity,
        solicitacao_compra_id bigint not null,
        version bigint,
        condicoes_pagamento varchar(255),
        numero_orcamento varchar(255) not null,
        observacoes varchar(255),
        prazo_entrega varchar(255),
        status enum ('ABERTO','AGUARDANDO_APROVACAO','APROVADO','CANCELADO','CONCLUIDO','COTADO','PEDIDO_GERADO','PENDENTE','RECUSADO','REJEITADO') not null,
        primary key (id)
    )
2025-07-28T04:35:55.356-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table pedidos_compra (
        data_pedido date,
        valor_total numeric(38,2),
        fornecedor_id bigint,
        id bigint generated by default as identity,
        orcamento_id bigint unique,
        observacoes varchar(255),
        status enum ('AGUARDANDO_APROVACAO','AGUARDANDO_ENVIO','APROVADO','CANCELADO','CONCLUIDO','ENVIADO','FINALIZADO','PENDENTE','RECEBIDO_PARCIALMENTE','RECEBIDO_TOTALMENTE','RECUSADO','REJEITADO_PELO_FORNECEDOR'),
        primary key (id)
    )
2025-07-28T04:35:55.357-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table produtos (
        estoque integer not null,
        preco_unitario numeric(10,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        categoria varchar(50) not null,
        codigo varchar(50) not null unique,
        codigo_produto varchar(50) not null unique,
        descricao varchar(255),
        nome varchar(255),
        unidade_medida varchar(255) not null,
        primary key (id)
    )
2025-07-28T04:35:55.364-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table roles (
        id bigint generated by default as identity,
        name varchar(255) not null unique,
        primary key (id)
    )
2025-07-28T04:35:55.366-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table solicitacoes_compra (
        data_solicitacao date not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        descricao varchar(255),
        solicitante varchar(255) not null,
        status enum ('ABERTA','AGUARDANDO_PARECER','CANCELADA','CONCLUIDA','EM_ANDAMENTO','ORCAMENTO_APROVADO','PEDIDO_GERADO','PENDENTE','REJEITADO','SUSPENSO') not null,
        primary key (id)
    )
2025-07-28T04:35:55.368-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table user_roles (
        role_id bigint not null,
        user_id bigint not null,
        primary key (role_id, user_id)
    )
2025-07-28T04:35:55.369-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table users (
        enabled boolean not null,
        id bigint generated by default as identity,
        password varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-07-28T04:35:55.372-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists estoque 
       add constraint FKmonotpf9w7pfuomk89nqxgeq1 
       foreign key (produto_id) 
       references produtos
2025-07-28T04:35:55.398-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKqlfm2lrgelma3n8kwabcvw9qh 
       foreign key (orcamento_id) 
       references orcamentos
2025-07-28T04:35:55.401-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKbc0qr2yj9stqdgavwvoohki0m 
       foreign key (produto_id) 
       references produtos
2025-07-28T04:35:55.404-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FK8p88mt761a5vacmlhrc68148b 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-07-28T04:35:55.406-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FKrv4ebgf6fdlg2v3b6dcbep8dn 
       foreign key (produto_id) 
       references produtos
2025-07-28T04:35:55.408-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FKntep08q88crstb33ej6npyul5 
       foreign key (produto_id) 
       references produtos
2025-07-28T04:35:55.410-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FK19xietjd5tfpljngdy8daw06x 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-07-28T04:35:55.411-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists notas_fiscais 
       add constraint FKe4e784ip50emjknglqkpkovg4 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-07-28T04:35:55.414-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FKntj4otux0et5xc0cm2lgq3uey 
       foreign key (fornecedor_id) 
       references fornecedores
2025-07-28T04:35:55.416-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FK5bj47al0ogq18q5ge2roy9e53 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-07-28T04:35:55.418-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FKan3yv2vk5m3gbphqf4f6yxj4j 
       foreign key (fornecedor_id) 
       references fornecedores
2025-07-28T04:35:55.420-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FK5f0lurv407qu48ns0sdhky4du 
       foreign key (orcamento_id) 
       references orcamentos
2025-07-28T04:35:55.429-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-07-28T04:35:55.432-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-28T04:35:55.440-03:00  INFO 1756 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:35:55.554-03:00 DEBUG 1756 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:35:55.579-03:00 DEBUG 1756 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:35:55.616-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:55.674-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:55.780-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:55.841-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:35:55.845-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:35:55.851-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:55.949-03:00 TRACE 1756 --- [zlog_compras] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@87f8146}
2025-07-28T04:35:55.995-03:00  INFO 1756 --- [zlog_compras] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:35:55.996-03:00  WARN 1756 --- [zlog_compras] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:35:56.002-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.004-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.007-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:35:56.008-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:35:56.008-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.027-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.041-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.044-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:35:56.045-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:35:56.045-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.052-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:35:56.054-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:35:56.054-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.063-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.063-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.065-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:35:56.066-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:35:56.066-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.787-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.793-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.796-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:35:56.797-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:35:56.797-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.818-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.838-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.842-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:35:56.844-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:35:56.844-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.848-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:35:56.848-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:35:56.848-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.850-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:35:56.851-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:35:56.851-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.854-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:35:56.854-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:35:56.854-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.855-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:35:56.856-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:35:56.856-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.857-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:35:56.859-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:35:56.859-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.861-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:35:56.861-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:35:56.861-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.868-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.869-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.879-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.881-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.896-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:35:56.896-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:35:56.897-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.898-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:35:56.900-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:35:56.901-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.904-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:35:56.905-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:35:56.905-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.918-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.931-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.933-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:35:56.934-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:35:56.934-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.935-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:35:56.936-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:35:56.936-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.937-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:35:56.938-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:35:56.938-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.951-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.952-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:56.955-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:35:56.955-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:35:56.956-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:57.008-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:57.009-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:57.011-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:35:57.012-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:35:57.012-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:57.014-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:35:57.015-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:35:57.015-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:57.017-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:35:57.018-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:35:57.018-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:57.576-03:00 TRACE 1756 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-07-28T04:35:57.590-03:00 TRACE 1756 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
2025-07-28T04:35:57.598-03:00 TRACE 1756 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
2025-07-28T04:35:57.603-03:00 TRACE 1756 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos]}: listarOrcamentos()
2025-07-28T04:35:57.607-03:00 TRACE 1756 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
2025-07-28T04:35:57.614-03:00 TRACE 1756 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
2025-07-28T04:35:57.617-03:00 TRACE 1756 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
2025-07-28T04:35:57.624-03:00 TRACE 1756 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
2025-07-28T04:35:57.634-03:00 TRACE 1756 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T04:35:57.681-03:00 TRACE 1756 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-07-28T04:35:57.691-03:00 TRACE 1756 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T04:35:57.693-03:00 TRACE 1756 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T04:35:57.697-03:00 DEBUG 1756 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T04:35:57.972-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T04:35:58.052-03:00  INFO 1756 --- [zlog_compras] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c903e12, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@693d797e, org.springframework.security.web.context.SecurityContextHolderFilter@11514c77, org.springframework.security.web.header.HeaderWriterFilter@8936d23, org.springframework.web.filter.CorsFilter@6cacab23, org.springframework.security.web.authentication.logout.LogoutFilter@10decc1e, com.zlogcompras.config.JwtAuthenticationFilter@3b6f7ab3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31ef9ac6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@550d3cd7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@794d8b4c, org.springframework.security.web.session.SessionManagementFilter@642bfa5e, org.springframework.security.web.access.ExceptionTranslationFilter@47362f88, org.springframework.security.web.access.intercept.AuthorizationFilter@613c829c]
2025-07-28T04:35:58.392-03:00 DEBUG 1756 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T04:35:58.477-03:00 DEBUG 1756 --- [zlog_compras] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T04:35:58.653-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:58.657-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:58.659-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:35:58.661-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:35:58.661-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:58.676-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:58.680-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:58.683-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:35:58.684-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:35:58.684-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:58.808-03:00  INFO 1756 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Started ZlogComprasApplicationTests in 8.998 seconds (process running for 13.495)
2025-07-28T04:35:58.824-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:59.061-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:35:59.067-03:00 TRACE 1756 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T04:35:59.092-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:35:59.093-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(683884247<open>)] for JPA transaction
2025-07-28T04:35:59.099-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@763de177]
2025-07-28T04:35:59.131-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-07-28T04:35:59.134-03:00 TRACE 1756 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T04:35:59.154-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:35:59.155-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(683884247<open>)]
2025-07-28T04:35:59.165-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(683884247<open>)] after transaction
2025-07-28T04:35:59.166-03:00 DEBUG 1756 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:35:59.167-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:35:59.168-03:00 TRACE 1756 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T04:35:59.170-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:35:59.172-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1278164801<open>)] for JPA transaction
2025-07-28T04:35:59.172-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@77fdbe42]
2025-07-28T04:35:59.172-03:00 DEBUG 1756 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-07-28T04:35:59.174-03:00 TRACE 1756 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T04:35:59.175-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:35:59.175-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1278164801<open>)]
2025-07-28T04:35:59.177-03:00 DEBUG 1756 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1278164801<open>)] after transaction
2025-07-28T04:35:59.253-03:00 DEBUG 1756 --- [zlog_compras] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0, started on Mon Jul 28 04:35:50 BRT 2025
2025-07-28T04:35:59.264-03:00  INFO 1756 --- [zlog_compras] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:35:59.265-03:00 DEBUG 1756 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-07-28T04:35:59.270-03:00 DEBUG 1756 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-07-28T04:35:59.271-03:00 DEBUG 1756 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-07-28T04:35:59.272-03:00 DEBUG 1756 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-07-28T04:35:59.273-03:00 DEBUG 1756 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-07-28T04:35:59.274-03:00 DEBUG 1756 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-07-28T04:35:59.274-03:00 DEBUG 1756 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-07-28T04:35:59.275-03:00 DEBUG 1756 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-07-28T04:35:59.275-03:00 DEBUG 1756 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-07-28T04:35:59.276-03:00 DEBUG 1756 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-07-28T04:35:59.276-03:00 DEBUG 1756 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-07-28T04:35:59.277-03:00 DEBUG 1756 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-07-28T04:35:59.278-03:00 DEBUG 1756 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-07-28T04:35:59.279-03:00 DEBUG 1756 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-07-28T04:36:02.747-03:00  INFO 19648 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 19648 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:36:02.751-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:36:02.752-03:00  INFO 19648 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:36:02.836-03:00  INFO 19648 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28T04:36:02.837-03:00  INFO 19648 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28T04:36:04.283-03:00  INFO 19648 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:36:04.423-03:00  INFO 19648 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 132 ms. Found 13 JPA repository interfaces.
2025-07-28T04:36:05.536-03:00  INFO 19648 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:36:05.563-03:00  INFO 19648 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:36:05.564-03:00  INFO 19648 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:36:05.636-03:00  INFO 19648 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T04:36:05.637-03:00  INFO 19648 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2799 ms
2025-07-28T04:36:05.848-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:36:05.875-03:00  INFO 19648 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:36:05.964-03:00  INFO 19648 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-07-28T04:36:06.024-03:00  INFO 19648 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:36:06.403-03:00  INFO 19648 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:36:06.445-03:00  INFO 19648 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-28T04:36:06.635-03:00  INFO 19648 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@17f42cff
2025-07-28T04:36:06.638-03:00  INFO 19648 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-28T04:36:06.800-03:00  WARN 19648 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:36:08.292-03:00  INFO 19648 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:36:08.296-03:00  INFO 19648 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:36:08.333-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:36:08.354-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:36:08.387-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:08.443-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:08.526-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:08.574-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:36:08.577-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:36:08.580-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:08.698-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:36:08.753-03:00 TRACE 19648 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@616e7612}
2025-07-28T04:36:08.785-03:00  INFO 19648 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:36:08.787-03:00  WARN 19648 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:36:08.792-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:08.795-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:08.798-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:36:08.800-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:36:08.800-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:08.816-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:08.830-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:08.833-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:36:08.834-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:36:08.834-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:08.837-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:36:08.838-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:36:08.839-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:08.855-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:08.856-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:08.860-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:36:08.861-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:36:08.862-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.346-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.353-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.356-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:36:09.357-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:36:09.357-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.388-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.413-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.416-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:36:09.416-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:36:09.417-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.420-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:36:09.420-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:36:09.421-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.425-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:36:09.426-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:36:09.426-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.428-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:36:09.429-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:36:09.429-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.431-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:36:09.431-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:36:09.432-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.434-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:36:09.434-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:36:09.435-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.437-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:36:09.437-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:36:09.437-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.444-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.445-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.455-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.455-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.458-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:36:09.458-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:36:09.459-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.462-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:36:09.462-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:36:09.462-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.464-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:36:09.464-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:36:09.464-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.477-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.488-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.491-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:36:09.492-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:36:09.492-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.497-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:36:09.498-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:36:09.498-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.500-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:36:09.500-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:36:09.500-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.508-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.509-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.511-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:36:09.512-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:36:09.512-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.562-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.564-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.566-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:36:09.567-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:36:09.568-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.570-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:36:09.571-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:36:09.571-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.573-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:36:09.574-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:36:09.575-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:09.958-03:00 TRACE 19648 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-07-28T04:36:09.970-03:00 TRACE 19648 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques]}: listarTodosEstoques()
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
2025-07-28T04:36:09.979-03:00 TRACE 19648 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
2025-07-28T04:36:09.987-03:00 TRACE 19648 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
2025-07-28T04:36:09.991-03:00 TRACE 19648 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T04:36:09.996-03:00 TRACE 19648 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T04:36:10.005-03:00 TRACE 19648 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
2025-07-28T04:36:10.012-03:00 TRACE 19648 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-07-28T04:36:10.024-03:00 TRACE 19648 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T04:36:10.061-03:00 TRACE 19648 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-07-28T04:36:10.067-03:00 TRACE 19648 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T04:36:10.070-03:00 TRACE 19648 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T04:36:10.076-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T04:36:10.194-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T04:36:10.258-03:00  INFO 19648 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@72883637, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f222fd9, org.springframework.security.web.context.SecurityContextHolderFilter@4df7ee20, org.springframework.security.web.header.HeaderWriterFilter@7ab83445, org.springframework.web.filter.CorsFilter@5677d3d6, org.springframework.security.web.authentication.logout.LogoutFilter@926d717, com.zlogcompras.config.JwtAuthenticationFilter@45974de0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@719d84e1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4dddde3a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57cd9334, org.springframework.security.web.session.SessionManagementFilter@2e320e4d, org.springframework.security.web.access.ExceptionTranslationFilter@2e1459f1, org.springframework.security.web.access.intercept.AuthorizationFilter@23f7c80f]
2025-07-28T04:36:10.400-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T04:36:10.446-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T04:36:10.611-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:10.615-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:10.617-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:36:10.618-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:36:10.618-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:10.627-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:10.632-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:10.635-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:36:10.637-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:36:10.637-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:10.762-03:00  INFO 19648 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T04:36:10.819-03:00  INFO 19648 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T04:36:10.836-03:00  INFO 19648 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 8.641 seconds (process running for 9.689)
2025-07-28T04:36:10.850-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:11.072-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:36:11.081-03:00 TRACE 19648 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T04:36:11.619-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:36:11.620-03:00 DEBUG 19648 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:36:11.620-03:00 TRACE 19648 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T04:36:11.940-03:00  INFO 19648 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-07-28T04:36:11.959-03:00  INFO 19648 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:36:11.963-03:00  INFO 19648 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-28T04:36:11.975-03:00  INFO 19648 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-28T04:37:09.964-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:37:09.966-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:37:09.967-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:37:10.056-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28T04:37:10.056-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28T04:37:11.362-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:37:11.447-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86 ms. Found 13 JPA repository interfaces.
2025-07-28T04:37:12.322-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:37:12.340-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:37:12.340-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:37:12.418-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T04:37:12.418-03:00  INFO 12536 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2362 ms
2025-07-28T04:37:12.626-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:37:12.663-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:37:13.197-03:00  INFO 12536 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-07-28T04:37:13.249-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:37:13.547-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:37:13.581-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-28T04:37:13.750-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1dcf91d8
2025-07-28T04:37:13.750-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-28T04:37:13.800-03:00  WARN 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:37:14.980-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:37:14.989-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:37:15.019-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:37:15.023-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:37:15.047-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.072-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.131-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.164-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:37:15.164-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:37:15.164-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.280-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:37:15.331-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@1da9616}
2025-07-28T04:37:15.363-03:00  INFO 12536 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:37:15.363-03:00  WARN 12536 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:37:15.363-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.375-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.378-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:37:15.379-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:37:15.380-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.428-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.449-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.452-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:37:15.456-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:37:15.457-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.467-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:37:15.467-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:37:15.467-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.474-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.474-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.476-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:37:15.477-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:37:15.477-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.858-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.858-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.858-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:37:15.858-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:37:15.858-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.869-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.885-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.892-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:37:15.892-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:37:15.892-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.895-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:37:15.895-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:37:15.896-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.897-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:37:15.897-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:37:15.898-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.900-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:37:15.901-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:37:15.902-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.903-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:37:15.904-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:37:15.905-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.905-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:37:15.905-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:37:15.905-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.905-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:37:15.905-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:37:15.905-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.913-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.914-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.921-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.922-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.922-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:37:15.922-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:37:15.922-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.922-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:37:15.922-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:37:15.922-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.922-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:37:15.922-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:37:15.922-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.933-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.942-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.943-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:37:15.944-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:37:15.944-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.948-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:37:15.949-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:37:15.949-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.951-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:37:15.951-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:37:15.952-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.955-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.955-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.958-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:37:15.959-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:37:15.959-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.987-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.988-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.989-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:37:15.989-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:37:15.989-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.989-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:37:15.989-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:37:15.989-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:15.989-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:37:15.989-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:37:15.989-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:16.213-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-07-28T04:37:16.213-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-07-28T04:37:16.228-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-07-28T04:37:16.233-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
2025-07-28T04:37:16.236-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T04:37:16.240-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
2025-07-28T04:37:16.243-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{GET [/api/produtos]}: listarTodosProdutos()
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
2025-07-28T04:37:16.245-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-07-28T04:37:16.249-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T04:37:16.256-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T04:37:16.261-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T04:37:16.263-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T04:37:16.266-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T04:37:16.330-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T04:37:16.364-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4a14f174, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aa7cc20, org.springframework.security.web.context.SecurityContextHolderFilter@3fac9c8b, org.springframework.security.web.header.HeaderWriterFilter@2a251684, org.springframework.web.filter.CorsFilter@7df917e7, org.springframework.security.web.authentication.logout.LogoutFilter@4debfd96, com.zlogcompras.config.JwtAuthenticationFilter@48101942, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66784385, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ed7dc27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@102f4608, org.springframework.security.web.session.SessionManagementFilter@376ef181, org.springframework.security.web.access.ExceptionTranslationFilter@77db95f0, org.springframework.security.web.access.intercept.AuthorizationFilter@13bc6ff1]
2025-07-28T04:37:16.447-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T04:37:16.469-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T04:37:16.661-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:16.661-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:16.661-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:37:16.661-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:37:16.661-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:16.661-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:16.675-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:16.676-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:37:16.677-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:37:16.677-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:16.731-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T04:37:16.781-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T04:37:16.781-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 7.252 seconds (process running for 7.665)
2025-07-28T04:37:16.801-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:16.913-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:37:16.913-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T04:37:16.933-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:37:16.943-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:37:16.943-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T04:38:52.038-03:00  INFO 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28T04:38:52.039-03:00  INFO 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-28T04:38:52.040-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-07-28T04:38:52.040-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-07-28T04:38:52.040-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-07-28T04:38:52.042-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5c3b3678
2025-07-28T04:38:52.042-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@45555b2
2025-07-28T04:38:52.043-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-28T04:38:52.044-03:00  INFO 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-07-28T04:38:52.075-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4a14f174, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aa7cc20, org.springframework.security.web.context.SecurityContextHolderFilter@3fac9c8b, org.springframework.security.web.header.HeaderWriterFilter@2a251684, org.springframework.web.filter.CorsFilter@7df917e7, org.springframework.security.web.authentication.logout.LogoutFilter@4debfd96, com.zlogcompras.config.JwtAuthenticationFilter@48101942, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66784385, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ed7dc27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@102f4608, org.springframework.security.web.session.SessionManagementFilter@376ef181, org.springframework.security.web.access.ExceptionTranslationFilter@77db95f0, org.springframework.security.web.access.intercept.AuthorizationFilter@13bc6ff1]] (1/1)
2025-07-28T04:38:52.076-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-07-28T04:38:52.077-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:38:52.079-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:38:52.083-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:38:52.085-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:38:52.087-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:38:52.098-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:38:52.099-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:38:52.099-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:38:52.099-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/auth/login
2025-07-28T04:38:52.100-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4NTc3OSwiZXhwIjoxNzUzNzcyMTc5fQ.6yC98Xat1M8jLmrl8_-AwVwJxkZodGGuzy7bbxqmN_4
2025-07-28T04:38:52.295-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:38:52.296-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:38:52.299-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:38:52.304-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:38:52.306-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:38:52.335-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:38:52.337-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:38:52.385-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:38:52.386-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:38:52.389-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:38:52.390-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:38:52.390-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:38:52.392-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:38:52.393-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:38:52.394-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:38:52.394-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:38:52.395-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:38:52.395-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:38:52.397-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-07-28T04:38:52.398-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000028a01aa3160@a9851f3
2025-07-28T04:38:52.399-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-07-28T04:38:52.411-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-07-28T04:38:52.413-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-07-28T04:38:52.503-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=MarcioSouza, password=12345678)]
2025-07-28T04:38:52.513-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-07-28T04:38:52.612-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:38:52.614-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:38:52.615-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:38:52.617-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:38:52.619-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:38:52.715-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-07-28T04:38:52.717-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:38:52.719-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:38:52.719-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:38:52.721-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:38:52.722-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:38:52.785-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:38:52.785-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4ODMzMiwiZXhwIjoxNzUzNzc0NzMyfQ.IgseV865gTqom8GLQgJmds-0_YlGbgxlmB87uh33BQ0)]
2025-07-28T04:38:52.792-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:38:52.799-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T04:39:55.595-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4a14f174, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aa7cc20, org.springframework.security.web.context.SecurityContextHolderFilter@3fac9c8b, org.springframework.security.web.header.HeaderWriterFilter@2a251684, org.springframework.web.filter.CorsFilter@7df917e7, org.springframework.security.web.authentication.logout.LogoutFilter@4debfd96, com.zlogcompras.config.JwtAuthenticationFilter@48101942, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66784385, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ed7dc27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@102f4608, org.springframework.security.web.session.SessionManagementFilter@376ef181, org.springframework.security.web.access.ExceptionTranslationFilter@77db95f0, org.springframework.security.web.access.intercept.AuthorizationFilter@13bc6ff1]] (1/1)
2025-07-28T04:39:55.595-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing PUT /api/processo-compra/1/status/PEDIDO_GERADO
2025-07-28T04:39:55.596-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:39:55.596-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:39:55.597-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:39:55.597-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:39:55.597-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:39:55.598-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:39:55.598-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:39:55.626-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:39:55.626-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/1/status/PEDIDO_GERADO
2025-07-28T04:39:55.626-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4ODMzMiwiZXhwIjoxNzUzNzc0NzMyfQ.IgseV865gTqom8GLQgJmds-0_YlGbgxlmB87uh33BQ0
2025-07-28T04:39:55.626-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:39:55.626-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:39:55.626-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:39:55.633-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:39:55.635-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:39:55.639-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:39:55.640-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:39:55.642-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:39:55.642-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:39:55.643-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:39:55.644-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:39:55.644-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:39:55.644-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:39:55.644-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:39:55.645-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:39:55.645-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:39:55.645-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:39:55.645-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:39:55.645-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/processo-compra/1/status/PEDIDO_GERADO
2025-07-28T04:39:55.646-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/processo-compra/1/status/PEDIDO_GERADO using org.springframework.security.authorization.AuthenticatedAuthorizationManager@32829964
2025-07-28T04:39:55.646-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /api/processo-compra/1/status/PEDIDO_GERADO
2025-07-28T04:39:55.646-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : PUT "/api/processo-compra/1/status/PEDIDO_GERADO", parameters={}
2025-07-28T04:39:55.647-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#atualizarStatusSolicitacao(Long, StatusSolicitacaoCompra)
2025-07-28T04:39:55.652-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:39:55.654-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1360905312<open>)] for JPA transaction
2025-07-28T04:39:55.659-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@70e5f423]
2025-07-28T04:39:55.665-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1360905312<open>)] for JPA transaction
2025-07-28T04:39:55.666-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:39:55.676-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T04:39:55.677-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:39:55.753-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1360905312<open>)] for JPA transaction
2025-07-28T04:39:55.753-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:39:55.774-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:39:55.774-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1360905312<open>)]
2025-07-28T04:39:55.832-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    update
        solicitacoes_compra 
    set
        data_atualizacao=?,
        data_solicitacao=?,
        descricao=?,
        solicitante=?,
        status=?,
        version=? 
    where
        id=? 
        and version=?
2025-07-28T04:39:55.836-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T04:39:55.785970600]
2025-07-28T04:39:55.837-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (2:DATE) <- [2025-07-28]
2025-07-28T04:39:55.837-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Solicitação de compra para equipamentos de informática - Q3/2025]
2025-07-28T04:39:55.838-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [Departamento de TI]
2025-07-28T04:39:55.838-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (5:ENUM) <- [PEDIDO_GERADO]
2025-07-28T04:39:55.838-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [4]
2025-07-28T04:39:55.838-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [1]
2025-07-28T04:39:55.838-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [3]
2025-07-28T04:39:55.888-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1360905312<open>)] after transaction
2025-07-28T04:39:55.907-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:39:55.908-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session]
2025-07-28T04:39:55.923-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:39:55.923-03:00  WARN 12536 --- [zlog_compras] [http-nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session]
2025-07-28T04:39:55.924-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-07-28T04:39:55.932-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:39:55.932-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4a14f174, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aa7cc20, org.springframework.security.web.context.SecurityContextHolderFilter@3fac9c8b, org.springframework.security.web.header.HeaderWriterFilter@2a251684, org.springframework.web.filter.CorsFilter@7df917e7, org.springframework.security.web.authentication.logout.LogoutFilter@4debfd96, com.zlogcompras.config.JwtAuthenticationFilter@48101942, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66784385, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ed7dc27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@102f4608, org.springframework.security.web.session.SessionManagementFilter@376ef181, org.springframework.security.web.access.ExceptionTranslationFilter@77db95f0, org.springframework.security.web.access.intercept.AuthorizationFilter@13bc6ff1]] (1/1)
2025-07-28T04:39:55.932-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-07-28T04:39:55.932-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:39:55.932-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:39:55.932-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:39:55.932-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:39:55.932-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:39:55.932-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:39:55.932-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:39:55.932-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:39:55.932-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:39:55.939-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:39:55.939-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:39:55.939-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:39:55.939-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:39:55.939-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:39:55.939-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing PUT /error
2025-07-28T04:39:55.941-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000028a01aa3160@a9851f3
2025-07-28T04:39:55.941-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-07-28T04:39:55.942-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-07-28T04:39:55.942-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:39:55.942-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T04:39:55.948-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:39:55.948-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 04:39:55 BRT 2025, status=500, error=Internal Server Error, trace=org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:492)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.fasterxml.jackson.databind.JsonMappingException: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session (through reference chain: com.zlogcompras.model.SolicitacaoCompra["orcamentos"])
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:402)
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:361)
	at com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:323)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:778)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1574)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	... 101 more
Caused by: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session
	at org.hibernate.collection.spi.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:634)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:217)
	at org.hibernate.collection.spi.AbstractPersistentCollection.readSize(AbstractPersistentCollection.java:148)
	at org.hibernate.collection.spi.PersistentSet.size(PersistentSet.java:148)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:97)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770)
	... 107 more
, message=Could not write JSON: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session, path=/api/processo-compra/1/status/PEDIDO_GERADO}]
2025-07-28T04:39:55.961-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-07-28T04:39:55.961-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:39:55.962-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T04:40:30.448-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4a14f174, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aa7cc20, org.springframework.security.web.context.SecurityContextHolderFilter@3fac9c8b, org.springframework.security.web.header.HeaderWriterFilter@2a251684, org.springframework.web.filter.CorsFilter@7df917e7, org.springframework.security.web.authentication.logout.LogoutFilter@4debfd96, com.zlogcompras.config.JwtAuthenticationFilter@48101942, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66784385, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ed7dc27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@102f4608, org.springframework.security.web.session.SessionManagementFilter@376ef181, org.springframework.security.web.access.ExceptionTranslationFilter@77db95f0, org.springframework.security.web.access.intercept.AuthorizationFilter@13bc6ff1]] (1/1)
2025-07-28T04:40:30.449-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/processo-compra/1/status/CONCLUIDA
2025-07-28T04:40:30.449-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:40:30.449-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:40:30.450-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:40:30.450-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:40:30.450-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:40:30.452-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:40:30.468-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:40:30.480-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:40:30.480-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/1/status/CONCLUIDA
2025-07-28T04:40:30.482-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4ODMzMiwiZXhwIjoxNzUzNzc0NzMyfQ.IgseV865gTqom8GLQgJmds-0_YlGbgxlmB87uh33BQ0
2025-07-28T04:40:30.483-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:40:30.484-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:40:30.484-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:40:30.488-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:40:30.495-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:40:30.497-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:40:30.498-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:40:30.499-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:40:30.500-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:40:30.501-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:40:30.501-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:40:30.501-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:40:30.501-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:40:30.501-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:40:30.502-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:40:30.502-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:40:30.502-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:40:30.503-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:40:30.503-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/processo-compra/1/status/CONCLUIDA
2025-07-28T04:40:30.503-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/processo-compra/1/status/CONCLUIDA using org.springframework.security.authorization.AuthenticatedAuthorizationManager@32829964
2025-07-28T04:40:30.503-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/processo-compra/1/status/CONCLUIDA
2025-07-28T04:40:30.503-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/api/processo-compra/1/status/CONCLUIDA", parameters={}
2025-07-28T04:40:30.504-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#atualizarStatusSolicitacao(Long, StatusSolicitacaoCompra)
2025-07-28T04:40:30.505-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:40:30.505-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1358671406<open>)] for JPA transaction
2025-07-28T04:40:30.506-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@338da25d]
2025-07-28T04:40:30.506-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1358671406<open>)] for JPA transaction
2025-07-28T04:40:30.506-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:40:30.507-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T04:40:30.508-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:40:30.509-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1358671406<open>)] for JPA transaction
2025-07-28T04:40:30.509-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:40:30.510-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:40:30.510-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1358671406<open>)]
2025-07-28T04:40:30.511-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    update
        solicitacoes_compra 
    set
        data_atualizacao=?,
        data_solicitacao=?,
        descricao=?,
        solicitante=?,
        status=?,
        version=? 
    where
        id=? 
        and version=?
2025-07-28T04:40:30.512-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T04:40:30.511527900]
2025-07-28T04:40:30.513-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (2:DATE) <- [2025-07-28]
2025-07-28T04:40:30.513-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Solicitação de compra para equipamentos de informática - Q3/2025]
2025-07-28T04:40:30.513-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [Departamento de TI]
2025-07-28T04:40:30.513-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (5:ENUM) <- [CONCLUIDA]
2025-07-28T04:40:30.513-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [5]
2025-07-28T04:40:30.513-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [1]
2025-07-28T04:40:30.514-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [4]
2025-07-28T04:40:30.520-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1358671406<open>)] after transaction
2025-07-28T04:40:30.521-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:40:30.521-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session]
2025-07-28T04:40:30.522-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:40:30.522-03:00  WARN 12536 --- [zlog_compras] [http-nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session]
2025-07-28T04:40:30.523-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-07-28T04:40:30.523-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:40:30.524-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4a14f174, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aa7cc20, org.springframework.security.web.context.SecurityContextHolderFilter@3fac9c8b, org.springframework.security.web.header.HeaderWriterFilter@2a251684, org.springframework.web.filter.CorsFilter@7df917e7, org.springframework.security.web.authentication.logout.LogoutFilter@4debfd96, com.zlogcompras.config.JwtAuthenticationFilter@48101942, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66784385, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ed7dc27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@102f4608, org.springframework.security.web.session.SessionManagementFilter@376ef181, org.springframework.security.web.access.ExceptionTranslationFilter@77db95f0, org.springframework.security.web.access.intercept.AuthorizationFilter@13bc6ff1]] (1/1)
2025-07-28T04:40:30.524-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-07-28T04:40:30.524-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:40:30.524-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:40:30.525-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:40:30.525-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:40:30.525-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:40:30.525-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:40:30.525-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:40:30.526-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:40:30.526-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:40:30.526-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:40:30.526-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:40:30.526-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:40:30.526-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:40:30.526-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:40:30.528-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing PUT /error
2025-07-28T04:40:30.528-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000028a01aa3160@a9851f3
2025-07-28T04:40:30.528-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-07-28T04:40:30.528-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-07-28T04:40:30.528-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:40:30.528-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T04:40:30.530-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:40:30.532-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 04:40:30 BRT 2025, status=500, error=Internal Server Error, trace=org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:492)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.fasterxml.jackson.databind.JsonMappingException: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session (through reference chain: com.zlogcompras.model.SolicitacaoCompra["orcamentos"])
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:402)
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:361)
	at com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:323)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:778)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1574)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	... 101 more
Caused by: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session
	at org.hibernate.collection.spi.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:634)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:217)
	at org.hibernate.collection.spi.AbstractPersistentCollection.readSize(AbstractPersistentCollection.java:148)
	at org.hibernate.collection.spi.PersistentSet.size(PersistentSet.java:148)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:97)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770)
	... 107 more
, message=Could not write JSON: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session, path=/api/processo-compra/1/status/CONCLUIDA}]
2025-07-28T04:40:30.535-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-07-28T04:40:30.535-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:40:30.535-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T04:41:02.586-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4a14f174, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aa7cc20, org.springframework.security.web.context.SecurityContextHolderFilter@3fac9c8b, org.springframework.security.web.header.HeaderWriterFilter@2a251684, org.springframework.web.filter.CorsFilter@7df917e7, org.springframework.security.web.authentication.logout.LogoutFilter@4debfd96, com.zlogcompras.config.JwtAuthenticationFilter@48101942, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66784385, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ed7dc27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@102f4608, org.springframework.security.web.session.SessionManagementFilter@376ef181, org.springframework.security.web.access.ExceptionTranslationFilter@77db95f0, org.springframework.security.web.access.intercept.AuthorizationFilter@13bc6ff1]] (1/1)
2025-07-28T04:41:02.587-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing PUT /api/processo-compra/2/status/CONCLUIDA
2025-07-28T04:41:02.587-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:41:02.587-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:41:02.588-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:41:02.588-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:41:02.588-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:41:02.588-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:41:02.588-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:41:02.588-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:41:02.589-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/2/status/CONCLUIDA
2025-07-28T04:41:02.589-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4ODMzMiwiZXhwIjoxNzUzNzc0NzMyfQ.IgseV865gTqom8GLQgJmds-0_YlGbgxlmB87uh33BQ0
2025-07-28T04:41:02.590-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:41:02.590-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:41:02.592-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:41:02.621-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:41:02.623-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:41:02.625-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:41:02.626-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:41:02.628-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:41:02.629-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:41:02.630-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:41:02.632-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:41:02.632-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:41:02.632-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:41:02.632-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:41:02.633-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:41:02.633-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:41:02.633-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:41:02.633-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:41:02.633-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/processo-compra/2/status/CONCLUIDA
2025-07-28T04:41:02.633-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/processo-compra/2/status/CONCLUIDA using org.springframework.security.authorization.AuthenticatedAuthorizationManager@32829964
2025-07-28T04:41:02.634-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured PUT /api/processo-compra/2/status/CONCLUIDA
2025-07-28T04:41:02.634-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : PUT "/api/processo-compra/2/status/CONCLUIDA", parameters={}
2025-07-28T04:41:02.634-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#atualizarStatusSolicitacao(Long, StatusSolicitacaoCompra)
2025-07-28T04:41:02.635-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:41:02.635-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1879231538<open>)] for JPA transaction
2025-07-28T04:41:02.636-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@376b1725]
2025-07-28T04:41:02.637-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1879231538<open>)] for JPA transaction
2025-07-28T04:41:02.637-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:41:02.638-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T04:41:02.638-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-07-28T04:41:02.666-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2025-07-28T04:41:02.667-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(1879231538<open>)]
2025-07-28T04:41:02.670-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1879231538<open>)] after transaction
2025-07-28T04:41:02.672-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:41:02.673-03:00  WARN 12536 --- [zlog_compras] [http-nio-8080-exec-5] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "Solicitação de Compra não encontrada com ID: 2"]
2025-07-28T04:41:02.673-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-07-28T04:41:02.675-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:41:02.676-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4a14f174, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aa7cc20, org.springframework.security.web.context.SecurityContextHolderFilter@3fac9c8b, org.springframework.security.web.header.HeaderWriterFilter@2a251684, org.springframework.web.filter.CorsFilter@7df917e7, org.springframework.security.web.authentication.logout.LogoutFilter@4debfd96, com.zlogcompras.config.JwtAuthenticationFilter@48101942, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66784385, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ed7dc27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@102f4608, org.springframework.security.web.session.SessionManagementFilter@376ef181, org.springframework.security.web.access.ExceptionTranslationFilter@77db95f0, org.springframework.security.web.access.intercept.AuthorizationFilter@13bc6ff1]] (1/1)
2025-07-28T04:41:02.677-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-07-28T04:41:02.677-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:41:02.677-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:41:02.678-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:41:02.678-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:41:02.679-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:41:02.679-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:41:02.679-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:41:02.680-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:41:02.681-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:41:02.681-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:41:02.681-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:41:02.682-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:41:02.682-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:41:02.682-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:41:02.682-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing PUT /error
2025-07-28T04:41:02.683-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000028a01aa3160@a9851f3
2025-07-28T04:41:02.683-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-07-28T04:41:02.683-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-07-28T04:41:02.684-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:41:02.685-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T04:41:02.687-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:41:02.687-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 04:41:02 BRT 2025, status=404, error=Not Found, trace=org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "Solicitação de Compra não encontrada com ID: 2"
	at com.zlogcompras.service.ProcessoCompraService.lambda$atualizarStatusSolicitacao$3(ProcessoCompraService.java:243)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao(ProcessoCompraService.java:243)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.zlogcompras.service.ProcessoCompraService$$SpringCGLIB$$0.atualizarStatusSolicitacao(<generated>)
	at com.zlogcompras.controller.ProcessoCompraController.atualizarStatusSolicitacao(ProcessoCompraController.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
, message=Solicitação de Compra não encontrada com ID: 2, path=/api/processo-compra/2/status/CONCLUIDA}]
2025-07-28T04:41:02.693-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-07-28T04:41:02.694-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:41:02.694-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T04:41:26.039-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4a14f174, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aa7cc20, org.springframework.security.web.context.SecurityContextHolderFilter@3fac9c8b, org.springframework.security.web.header.HeaderWriterFilter@2a251684, org.springframework.web.filter.CorsFilter@7df917e7, org.springframework.security.web.authentication.logout.LogoutFilter@4debfd96, com.zlogcompras.config.JwtAuthenticationFilter@48101942, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66784385, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ed7dc27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@102f4608, org.springframework.security.web.session.SessionManagementFilter@376ef181, org.springframework.security.web.access.ExceptionTranslationFilter@77db95f0, org.springframework.security.web.access.intercept.AuthorizationFilter@13bc6ff1]] (1/1)
2025-07-28T04:41:26.040-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing PUT /api/processo-compra/3/status/CONCLUIDA
2025-07-28T04:41:26.040-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:41:26.040-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:41:26.040-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:41:26.040-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:41:26.040-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:41:26.040-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:41:26.042-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:41:26.042-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:41:26.042-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/3/status/CONCLUIDA
2025-07-28T04:41:26.042-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4ODMzMiwiZXhwIjoxNzUzNzc0NzMyfQ.IgseV865gTqom8GLQgJmds-0_YlGbgxlmB87uh33BQ0
2025-07-28T04:41:26.043-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:41:26.043-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:41:26.044-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:41:26.045-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:41:26.046-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:41:26.048-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:41:26.049-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:41:26.051-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:41:26.069-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:41:26.078-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:41:26.080-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:41:26.080-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:41:26.080-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:41:26.081-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:41:26.081-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:41:26.081-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:41:26.081-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:41:26.081-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:41:26.081-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/processo-compra/3/status/CONCLUIDA
2025-07-28T04:41:26.081-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/processo-compra/3/status/CONCLUIDA using org.springframework.security.authorization.AuthenticatedAuthorizationManager@32829964
2025-07-28T04:41:26.081-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured PUT /api/processo-compra/3/status/CONCLUIDA
2025-07-28T04:41:26.082-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : PUT "/api/processo-compra/3/status/CONCLUIDA", parameters={}
2025-07-28T04:41:26.082-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#atualizarStatusSolicitacao(Long, StatusSolicitacaoCompra)
2025-07-28T04:41:26.083-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:41:26.083-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1256527094<open>)] for JPA transaction
2025-07-28T04:41:26.084-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7dd02a6]
2025-07-28T04:41:26.085-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1256527094<open>)] for JPA transaction
2025-07-28T04:41:26.085-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:41:26.086-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T04:41:26.088-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-07-28T04:41:26.090-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2025-07-28T04:41:26.090-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(1256527094<open>)]
2025-07-28T04:41:26.092-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1256527094<open>)] after transaction
2025-07-28T04:41:26.093-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:41:26.093-03:00  WARN 12536 --- [zlog_compras] [http-nio-8080-exec-6] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "Solicitação de Compra não encontrada com ID: 3"]
2025-07-28T04:41:26.093-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-07-28T04:41:26.094-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:41:26.094-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4a14f174, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aa7cc20, org.springframework.security.web.context.SecurityContextHolderFilter@3fac9c8b, org.springframework.security.web.header.HeaderWriterFilter@2a251684, org.springframework.web.filter.CorsFilter@7df917e7, org.springframework.security.web.authentication.logout.LogoutFilter@4debfd96, com.zlogcompras.config.JwtAuthenticationFilter@48101942, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66784385, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ed7dc27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@102f4608, org.springframework.security.web.session.SessionManagementFilter@376ef181, org.springframework.security.web.access.ExceptionTranslationFilter@77db95f0, org.springframework.security.web.access.intercept.AuthorizationFilter@13bc6ff1]] (1/1)
2025-07-28T04:41:26.094-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-07-28T04:41:26.094-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:41:26.094-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:41:26.095-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:41:26.095-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:41:26.095-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:41:26.095-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:41:26.095-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:41:26.095-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:41:26.095-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:41:26.096-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:41:26.096-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:41:26.096-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:41:26.096-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:41:26.096-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:41:26.096-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Authorizing PUT /error
2025-07-28T04:41:26.097-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000028a01aa3160@a9851f3
2025-07-28T04:41:26.097-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-07-28T04:41:26.097-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-07-28T04:41:26.097-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:41:26.097-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T04:41:26.099-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:41:26.099-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 04:41:26 BRT 2025, status=404, error=Not Found, trace=org.springframework.web.server.ResponseStatusException: 404 NOT_FOUND "Solicitação de Compra não encontrada com ID: 3"
	at com.zlogcompras.service.ProcessoCompraService.lambda$atualizarStatusSolicitacao$3(ProcessoCompraService.java:243)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao(ProcessoCompraService.java:243)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.zlogcompras.service.ProcessoCompraService$$SpringCGLIB$$0.atualizarStatusSolicitacao(<generated>)
	at com.zlogcompras.controller.ProcessoCompraController.atualizarStatusSolicitacao(ProcessoCompraController.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
, message=Solicitação de Compra não encontrada com ID: 3, path=/api/processo-compra/3/status/CONCLUIDA}]
2025-07-28T04:41:26.103-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-07-28T04:41:26.103-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:41:26.104-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T04:41:48.056-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4a14f174, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aa7cc20, org.springframework.security.web.context.SecurityContextHolderFilter@3fac9c8b, org.springframework.security.web.header.HeaderWriterFilter@2a251684, org.springframework.web.filter.CorsFilter@7df917e7, org.springframework.security.web.authentication.logout.LogoutFilter@4debfd96, com.zlogcompras.config.JwtAuthenticationFilter@48101942, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66784385, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ed7dc27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@102f4608, org.springframework.security.web.session.SessionManagementFilter@376ef181, org.springframework.security.web.access.ExceptionTranslationFilter@77db95f0, org.springframework.security.web.access.intercept.AuthorizationFilter@13bc6ff1]] (1/1)
2025-07-28T04:41:48.057-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /api/processo-compra/1/status/CONCLUIDA
2025-07-28T04:41:48.057-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:41:48.057-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:41:48.058-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:41:48.058-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:41:48.058-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:41:48.058-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:41:48.059-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:41:48.059-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:41:48.060-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/1/status/CONCLUIDA
2025-07-28T04:41:48.060-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4ODMzMiwiZXhwIjoxNzUzNzc0NzMyfQ.IgseV865gTqom8GLQgJmds-0_YlGbgxlmB87uh33BQ0
2025-07-28T04:41:48.061-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:41:48.062-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:41:48.088-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:41:48.093-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:41:48.094-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:41:48.097-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:41:48.102-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:41:48.104-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:41:48.105-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:41:48.106-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:41:48.106-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:41:48.107-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:41:48.107-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:41:48.107-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:41:48.107-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:41:48.107-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:41:48.108-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:41:48.108-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:41:48.108-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/processo-compra/1/status/CONCLUIDA
2025-07-28T04:41:48.108-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/processo-compra/1/status/CONCLUIDA using org.springframework.security.authorization.AuthenticatedAuthorizationManager@32829964
2025-07-28T04:41:48.108-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured PUT /api/processo-compra/1/status/CONCLUIDA
2025-07-28T04:41:48.109-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : PUT "/api/processo-compra/1/status/CONCLUIDA", parameters={}
2025-07-28T04:41:48.109-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#atualizarStatusSolicitacao(Long, StatusSolicitacaoCompra)
2025-07-28T04:41:48.109-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:41:48.110-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1473850156<open>)] for JPA transaction
2025-07-28T04:41:48.110-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1644bfb1]
2025-07-28T04:41:48.110-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1473850156<open>)] for JPA transaction
2025-07-28T04:41:48.110-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:41:48.112-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T04:41:48.113-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:41:48.115-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1473850156<open>)] for JPA transaction
2025-07-28T04:41:48.115-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T04:41:48.115-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:41:48.115-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1473850156<open>)]
2025-07-28T04:41:48.118-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1473850156<open>)] after transaction
2025-07-28T04:41:48.119-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:41:48.119-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session]
2025-07-28T04:41:48.120-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:41:48.120-03:00  WARN 12536 --- [zlog_compras] [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session]
2025-07-28T04:41:48.120-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-07-28T04:41:48.121-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:41:48.121-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4a14f174, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aa7cc20, org.springframework.security.web.context.SecurityContextHolderFilter@3fac9c8b, org.springframework.security.web.header.HeaderWriterFilter@2a251684, org.springframework.web.filter.CorsFilter@7df917e7, org.springframework.security.web.authentication.logout.LogoutFilter@4debfd96, com.zlogcompras.config.JwtAuthenticationFilter@48101942, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66784385, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ed7dc27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@102f4608, org.springframework.security.web.session.SessionManagementFilter@376ef181, org.springframework.security.web.access.ExceptionTranslationFilter@77db95f0, org.springframework.security.web.access.intercept.AuthorizationFilter@13bc6ff1]] (1/1)
2025-07-28T04:41:48.122-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-07-28T04:41:48.122-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:41:48.122-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:41:48.122-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:41:48.122-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:41:48.122-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:41:48.123-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:41:48.123-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:41:48.123-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:41:48.123-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:41:48.123-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:41:48.123-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:41:48.123-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:41:48.123-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:41:48.124-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:41:48.124-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing PUT /error
2025-07-28T04:41:48.124-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000028a01aa3160@a9851f3
2025-07-28T04:41:48.124-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-07-28T04:41:48.124-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-07-28T04:41:48.125-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T04:41:48.125-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T04:41:48.126-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:41:48.126-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 04:41:48 BRT 2025, status=500, error=Internal Server Error, trace=org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:492)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.fasterxml.jackson.databind.JsonMappingException: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session (through reference chain: com.zlogcompras.model.SolicitacaoCompra["orcamentos"])
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:402)
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:361)
	at com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:323)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:778)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1574)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	... 101 more
Caused by: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session
	at org.hibernate.collection.spi.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:634)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:217)
	at org.hibernate.collection.spi.AbstractPersistentCollection.readSize(AbstractPersistentCollection.java:148)
	at org.hibernate.collection.spi.PersistentSet.size(PersistentSet.java:148)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:97)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770)
	... 107 more
, message=Could not write JSON: failed to lazily initialize a collection of role: com.zlogcompras.model.SolicitacaoCompra.orcamentos: could not initialize proxy - no Session, path=/api/processo-compra/1/status/CONCLUIDA}]
2025-07-28T04:41:48.126-03:00 DEBUG 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-07-28T04:41:48.126-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:41:48.126-03:00 TRACE 12536 --- [zlog_compras] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T04:49:41.605-03:00  INFO 12536 --- [zlog_compras] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-28T04:49:41.861-03:00  INFO 12536 --- [zlog_compras] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:49:41.929-03:00  INFO 12536 --- [zlog_compras] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-28T04:49:42.041-03:00  INFO 12536 --- [zlog_compras] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-28T04:49:43.011-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:49:43.011-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:49:43.012-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:49:43.446-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:49:43.492-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 13 JPA repository interfaces.
2025-07-28T04:49:43.699-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:49:43.699-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:49:43.699-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:49:43.719-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T04:49:43.719-03:00  INFO 12536 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 703 ms
2025-07-28T04:49:43.769-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:49:43.769-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:49:43.774-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:49:43.789-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:49:43.797-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-28T04:49:44.114-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@57d0a5
2025-07-28T04:49:44.114-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-28T04:49:44.119-03:00  WARN 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:49:44.403-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:49:44.403-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:49:44.427-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:49:44.429-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:49:44.432-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.435-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.443-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.447-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:49:44.447-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:49:44.448-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.462-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:49:44.477-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@485a7f58}
2025-07-28T04:49:44.480-03:00  INFO 12536 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:49:44.480-03:00  WARN 12536 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:49:44.490-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.493-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.495-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:49:44.495-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:49:44.496-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.503-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.509-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.510-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:49:44.511-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:49:44.511-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.512-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:49:44.512-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:49:44.512-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.517-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.517-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.519-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:49:44.520-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:49:44.520-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.606-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.610-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.612-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:49:44.612-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:49:44.613-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.662-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.696-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.707-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:49:44.707-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:49:44.709-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.711-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:49:44.713-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:49:44.713-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.717-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:49:44.718-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:49:44.718-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.719-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:49:44.720-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:49:44.720-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.721-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:49:44.722-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:49:44.722-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.723-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:49:44.724-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:49:44.724-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.726-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:49:44.726-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:49:44.726-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.733-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.734-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.739-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.740-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.741-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:49:44.741-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:49:44.741-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.742-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:49:44.743-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:49:44.743-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.743-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:49:44.744-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:49:44.744-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.755-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.764-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.766-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:49:44.767-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:49:44.767-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.769-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:49:44.769-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:49:44.770-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.771-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:49:44.771-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:49:44.771-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.777-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.778-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.780-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:49:44.781-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:49:44.781-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:44.803-03:00  WARN 12536 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@26b50c4e] failed
2025-07-28T04:49:44.804-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:49:44.805-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-28T04:49:44.808-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-28T04:49:44.808-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T04:49:44.817-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T04:49:44.844-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@26b50c4e] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@26b50c4e] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1296) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 23 common frames omitted
Caused by: java.lang.NoClassDefFoundError: SolicitacaoMapper
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.8.jar:6.1.8]
	... 35 common frames omitted
Caused by: java.lang.ClassNotFoundException: SolicitacaoMapper
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 39 common frames omitted

2025-07-28T04:49:46.336-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:49:46.336-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:49:46.336-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:49:46.705-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:49:46.748-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 13 JPA repository interfaces.
2025-07-28T04:49:46.924-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:49:46.927-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:49:46.927-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:49:46.956-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-28T04:49:46.956-03:00  INFO 12536 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 619 ms
2025-07-28T04:49:47.012-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:49:47.013-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:49:47.015-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:49:47.024-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:49:47.025-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-07-28T04:49:47.035-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@42ca8819
2025-07-28T04:49:47.036-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-07-28T04:49:47.038-03:00  WARN 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:49:47.279-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:49:47.289-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:49:47.317-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:49:47.319-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:49:47.322-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.337-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.339-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:49:47.339-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:49:47.340-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.358-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:49:47.380-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@4e47c672}
2025-07-28T04:49:47.384-03:00  INFO 12536 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:49:47.384-03:00  WARN 12536 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:49:47.389-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.392-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.393-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:49:47.393-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:49:47.394-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.406-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.413-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.416-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:49:47.416-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:49:47.417-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.418-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:49:47.418-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:49:47.418-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.425-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.426-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.429-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:49:47.429-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:49:47.430-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.491-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.496-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.498-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:49:47.499-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:49:47.499-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.514-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.527-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.530-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:49:47.531-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:49:47.531-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.533-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:49:47.533-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:49:47.533-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.535-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:49:47.535-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:49:47.536-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.537-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:49:47.537-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:49:47.537-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.539-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:49:47.539-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:49:47.539-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.541-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:49:47.541-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:49:47.542-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.544-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:49:47.545-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:49:47.545-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.553-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.554-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.562-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.563-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.565-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:49:47.566-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:49:47.566-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.569-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:49:47.570-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:49:47.570-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.572-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:49:47.572-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:49:47.572-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.585-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.590-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.592-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:49:47.593-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:49:47.593-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.596-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:49:47.596-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:49:47.596-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.598-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:49:47.599-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:49:47.599-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.606-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.607-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.610-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:49:47.610-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:49:47.611-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:47.631-03:00  WARN 12536 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@2a20a380] failed
2025-07-28T04:49:47.632-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:49:47.633-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-07-28T04:49:47.636-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-07-28T04:49:47.636-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T04:49:47.641-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T04:49:47.645-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@2a20a380] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@2a20a380] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1296) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 23 common frames omitted
Caused by: java.lang.NoClassDefFoundError: SolicitacaoMapper
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.8.jar:6.1.8]
	... 35 common frames omitted
Caused by: java.lang.ClassNotFoundException: SolicitacaoMapper
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 39 common frames omitted

2025-07-28T04:49:54.418-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:49:54.418-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:49:54.418-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:49:54.679-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:49:54.711-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 13 JPA repository interfaces.
2025-07-28T04:49:54.826-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:49:54.828-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:49:54.829-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:49:54.867-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-28T04:49:54.869-03:00  INFO 12536 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 448 ms
2025-07-28T04:49:54.926-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:49:54.926-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:49:54.929-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:49:54.939-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:49:54.942-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-07-28T04:49:54.989-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@55c799f8
2025-07-28T04:49:54.989-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-07-28T04:49:54.999-03:00  WARN 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:49:55.220-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:49:55.220-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:49:55.239-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:49:55.239-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:49:55.239-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.249-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.249-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:49:55.254-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:49:55.254-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.264-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:49:55.283-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@135081f6}
2025-07-28T04:49:55.287-03:00  INFO 12536 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:49:55.287-03:00  WARN 12536 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:49:55.290-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.293-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.295-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:49:55.296-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:49:55.297-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.323-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.328-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.331-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:49:55.332-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:49:55.332-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.334-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:49:55.334-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:49:55.334-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.339-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.340-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.342-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:49:55.343-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:49:55.343-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.387-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.390-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.391-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:49:55.392-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:49:55.392-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.405-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.416-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.418-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:49:55.419-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:49:55.419-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.420-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:49:55.420-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:49:55.420-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.421-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:49:55.421-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:49:55.421-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.422-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:49:55.422-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:49:55.423-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.423-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:49:55.423-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:49:55.424-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.425-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:49:55.426-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:49:55.426-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.427-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:49:55.427-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:49:55.427-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.432-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.433-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.438-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.439-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.440-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:49:55.441-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:49:55.441-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.442-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:49:55.442-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:49:55.443-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.444-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:49:55.444-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:49:55.444-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.452-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.456-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.457-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:49:55.458-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:49:55.458-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.459-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:49:55.459-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:49:55.459-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.460-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:49:55.461-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:49:55.461-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.465-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.466-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.467-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:49:55.468-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:49:55.468-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:49:55.484-03:00  WARN 12536 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@396692be] failed
2025-07-28T04:49:55.485-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:49:55.485-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-07-28T04:49:55.487-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-07-28T04:49:55.489-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T04:49:55.493-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T04:49:55.495-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@396692be] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@396692be] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1296) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 23 common frames omitted
Caused by: java.lang.NoClassDefFoundError: SolicitacaoMapper
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.8.jar:6.1.8]
	... 35 common frames omitted
Caused by: java.lang.ClassNotFoundException: SolicitacaoMapper
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 39 common frames omitted

2025-07-28T04:52:55.207-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:52:55.207-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:52:55.209-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:53:00.108-03:00  WARN 12536 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer
2025-07-28T04:53:00.148-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T04:53:00.162-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.3.0.jar:3.3.0]
	at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:429) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:788) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:606) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.zlogcompras.config.ApplicationConfig] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@699de3b5]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:750) ~[spring-beans-6.1.8.jar:6.1.8]
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:749) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:682) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:653) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1687) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:534) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:247) ~[spring-boot-autoconfigure-3.3.0.jar:3.3.0]
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:240) ~[spring-boot-autoconfigure-3.3.0.jar:3.3.0]
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:230) ~[spring-boot-autoconfigure-3.3.0.jar:3.3.0]
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:183) ~[spring-boot-autoconfigure-3.3.0.jar:3.3.0]
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:158) ~[spring-boot-autoconfigure-3.3.0.jar:3.3.0]
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.3.0.jar:3.3.0]
	... 20 common frames omitted
Caused by: java.lang.NoClassDefFoundError: com/zlogcompras/model/Estoque
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578) ~[na:na]
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676) ~[na:na]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.1.8.jar:6.1.8]
	... 36 common frames omitted
Caused by: java.lang.ClassNotFoundException: com.zlogcompras.model.Estoque
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 40 common frames omitted

2025-07-28T04:53:04.561-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:53:04.561-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:53:04.561-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:53:05.251-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:53:05.282-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 13 JPA repository interfaces.
2025-07-28T04:53:05.395-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:53:05.398-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:53:05.398-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:53:05.414-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-3].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-28T04:53:05.415-03:00  INFO 12536 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 854 ms
2025-07-28T04:53:05.463-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:53:05.463-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:53:05.465-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:53:05.472-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:53:05.473-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-07-28T04:53:05.993-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@25023289
2025-07-28T04:53:05.993-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-07-28T04:53:05.997-03:00  WARN 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:53:06.311-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.InstantiationException: Could not instantiate entity 'com.zlogcompras.model.SolicitacaoCompra' due to: null
2025-07-28T04:53:06.311-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes\com\zlogcompras\config\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userDetailsServiceImpl' defined in file [C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes\com\zlogcompras\service\UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.zlogcompras.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-07-28T04:53:06.323-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T04:53:06.323-03:00  WARN 12536 --- [zlog_compras] [restartedMain] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-5 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-07-28T04:53:06.323-03:00  WARN 12536 --- [zlog_compras] [restartedMain] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-5 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:509)
 com.zaxxer.hikari.util.UtilityElf.quietlySleep(UtilityElf.java:53)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:729)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:703)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-07-28T04:53:06.323-03:00  WARN 12536 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-07-28T04:53:06.323-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-07-28T04:53:06.338-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-07-28T04:53:06.341-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T04:53:06.343-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:516) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:222) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-3.3.0.jar:3.3.0]
	... 11 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes\com\zlogcompras\config\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userDetailsServiceImpl' defined in file [C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes\com\zlogcompras\service\UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.zlogcompras.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4414) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:874) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128) ~[spring-boot-3.3.0.jar:3.3.0]
	... 16 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes\com\zlogcompras\service\UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.zlogcompras.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 57 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.zlogcompras.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1436) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 71 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1167) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.1.8.jar:6.1.8]
	... 85 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.InstantiationException: Could not instantiate entity 'com.zlogcompras.model.SolicitacaoCompra' due to: null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.1.8.jar:6.1.8]
	... 97 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.InstantiationException: Could not instantiate entity 'com.zlogcompras.model.SolicitacaoCompra' due to: null
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 104 common frames omitted
Caused by: org.hibernate.InstantiationException: Could not instantiate entity 'com.zlogcompras.model.SolicitacaoCompra' due to: null
	at org.hibernate.metamodel.internal.EntityInstantiatorPojoStandard.instantiate(EntityInstantiatorPojoStandard.java:100) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMappingModel$15(AbstractEntityPersister.java:5160) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.util.LazyValue.getValue(LazyValue.java:30) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.internal.UnsavedValueFactory.getUnsavedIdentifierValue(UnsavedValueFactory.java:45) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.metamodel.mapping.internal.BasicEntityIdentifierMappingImpl.<init>(BasicEntityIdentifierMappingImpl.java:119) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.generateIdentifierMapping(AbstractEntityPersister.java:5526) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMappingModel$16(AbstractEntityPersister.java:5165) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.processSubPart(MappingModelCreationProcess.java:163) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.prepareMappingModel(AbstractEntityPersister.java:5163) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.prepareMappingModel(AbstractEntityPersister.java:5009) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:84) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:42) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:199) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:371) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:300) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.8.jar:6.1.8]
	... 108 common frames omitted
Caused by: java.lang.reflect.InvocationTargetException: null
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:74) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486) ~[na:na]
	at org.hibernate.metamodel.internal.EntityInstantiatorPojoStandard.instantiate(EntityInstantiatorPojoStandard.java:97) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	... 127 common frames omitted
Caused by: java.lang.Error: Unresolved compilation problem: 
	JsonManagedReference cannot be resolved to a type

	at com.zlogcompras.model.SolicitacaoCompra.<init>(SolicitacaoCompra.java:61) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62) ~[na:na]
	... 130 common frames omitted

2025-07-28T04:53:21.758-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:53:21.759-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:53:21.759-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:53:21.987-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:53:22.015-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 13 JPA repository interfaces.
2025-07-28T04:53:22.136-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:53:22.137-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:53:22.137-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:53:22.171-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-4].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-28T04:53:22.171-03:00  INFO 12536 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 409 ms
2025-07-28T04:53:22.206-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:53:22.206-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:53:22.209-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:53:22.211-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:53:22.211-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-07-28T04:53:22.223-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@29ef8192
2025-07-28T04:53:22.223-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-07-28T04:53:22.228-03:00  WARN 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:53:22.385-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:53:22.386-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:53:22.404-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:53:22.405-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:53:22.407-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.416-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.422-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.425-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:53:22.425-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:53:22.425-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.438-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:53:22.441-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@32699888}
2025-07-28T04:53:22.453-03:00  INFO 12536 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:53:22.453-03:00  WARN 12536 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:53:22.457-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.459-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.459-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:53:22.459-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:53:22.461-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.469-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.471-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.471-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:53:22.471-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:53:22.476-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.476-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:53:22.476-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:53:22.476-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.482-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.482-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.484-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:53:22.485-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:53:22.485-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.526-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.528-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.529-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:53:22.531-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:53:22.531-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.541-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.546-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.548-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:53:22.548-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:53:22.549-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.551-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:53:22.551-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:53:22.551-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.552-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:53:22.553-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:53:22.553-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.554-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:53:22.554-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:53:22.555-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.556-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:53:22.556-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:53:22.557-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.557-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:53:22.558-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:53:22.558-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.559-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:53:22.559-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:53:22.559-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.564-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.565-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.569-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.571-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.572-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:53:22.573-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:53:22.573-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.574-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:53:22.574-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:53:22.574-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.575-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:53:22.575-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:53:22.575-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.583-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.587-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.589-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:53:22.589-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:53:22.590-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.591-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:53:22.591-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:53:22.591-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.592-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:53:22.592-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:53:22.592-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.597-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.598-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.599-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:53:22.599-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:53:22.600-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:22.615-03:00  WARN 12536 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@402587ee] failed
2025-07-28T04:53:22.616-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:53:22.617-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-07-28T04:53:22.634-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-07-28T04:53:22.635-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T04:53:22.639-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T04:53:22.641-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@402587ee] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@402587ee] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1296) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 23 common frames omitted
Caused by: java.lang.NoClassDefFoundError: SolicitacaoMapper
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.8.jar:6.1.8]
	... 35 common frames omitted
Caused by: java.lang.ClassNotFoundException: SolicitacaoMapper
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 39 common frames omitted

2025-07-28T04:53:53.144-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:53:53.145-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:53:53.145-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:53:53.338-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:53:53.376-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 13 JPA repository interfaces.
2025-07-28T04:53:53.629-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:53:53.657-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:53:53.659-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:53:53.705-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-5].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-28T04:53:53.707-03:00  INFO 12536 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 561 ms
2025-07-28T04:53:53.847-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:53:53.847-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:53:53.850-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:53:53.860-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:53:53.862-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-07-28T04:53:53.870-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@35fad1fc
2025-07-28T04:53:53.870-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-07-28T04:53:53.871-03:00  WARN 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:53:54.056-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:53:54.057-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:53:54.073-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:53:54.074-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:53:54.076-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.081-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.083-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:53:54.083-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:53:54.083-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.095-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:53:54.109-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@1c8bdf7f}
2025-07-28T04:53:54.110-03:00  INFO 12536 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:53:54.111-03:00  WARN 12536 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:53:54.114-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.118-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.119-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:53:54.120-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:53:54.120-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.130-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.139-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.141-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:53:54.142-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:53:54.142-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.143-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:53:54.144-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:53:54.144-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.157-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.158-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.160-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:53:54.160-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:53:54.160-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.259-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.262-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.263-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:53:54.264-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:53:54.264-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.283-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.296-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.300-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:53:54.302-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:53:54.302-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.305-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:53:54.305-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:53:54.305-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.307-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:53:54.309-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:53:54.311-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.313-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:53:54.313-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:53:54.313-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.314-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:53:54.315-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:53:54.315-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.316-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:53:54.316-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:53:54.316-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.318-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:53:54.319-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:53:54.319-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.326-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.327-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.334-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.335-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.336-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:53:54.336-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:53:54.336-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.338-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:53:54.339-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:53:54.339-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.340-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:53:54.340-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:53:54.340-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.347-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.353-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.355-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:53:54.355-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:53:54.356-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.357-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:53:54.357-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:53:54.357-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.358-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:53:54.358-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:53:54.358-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.367-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.368-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.371-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:53:54.372-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:53:54.373-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:53:54.399-03:00  WARN 12536 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4ddb1e36] failed
2025-07-28T04:53:54.401-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:53:54.402-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-07-28T04:53:54.441-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2025-07-28T04:53:54.442-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T04:53:54.445-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T04:53:54.449-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4ddb1e36] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4ddb1e36] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1296) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 23 common frames omitted
Caused by: java.lang.NoClassDefFoundError: SolicitacaoMapper
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.8.jar:6.1.8]
	... 35 common frames omitted
Caused by: java.lang.ClassNotFoundException: SolicitacaoMapper
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 39 common frames omitted

2025-07-28T04:53:59.346-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:53:59.347-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:53:59.347-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:53:59.739-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:53:59.794-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 13 JPA repository interfaces.
2025-07-28T04:54:00.112-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:54:00.114-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:54:00.118-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:54:00.147-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-6].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-28T04:54:00.148-03:00  INFO 12536 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 798 ms
2025-07-28T04:54:00.232-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:54:00.250-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:54:00.259-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:54:00.275-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:54:00.278-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2025-07-28T04:54:00.298-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3e2153e3
2025-07-28T04:54:00.298-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2025-07-28T04:54:00.309-03:00  WARN 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:54:00.608-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:54:00.608-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:54:00.627-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:54:00.628-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:54:00.629-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:00.841-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:00.843-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:54:00.843-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:54:00.844-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:00.856-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:54:00.870-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@9c553cf}
2025-07-28T04:54:00.872-03:00  INFO 12536 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:54:00.872-03:00  WARN 12536 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:54:00.876-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:00.879-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.130-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:54:01.137-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:54:01.137-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.149-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.153-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.154-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:54:01.155-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:54:01.155-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.156-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:54:01.157-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:54:01.157-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.161-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.162-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.163-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:54:01.163-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:54:01.163-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.198-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.201-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.202-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:54:01.202-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:54:01.202-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.212-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.218-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.219-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:54:01.219-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:54:01.219-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.220-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:54:01.220-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:54:01.220-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.221-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:54:01.221-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:54:01.221-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.222-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:54:01.222-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:54:01.222-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.223-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:54:01.223-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:54:01.223-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.224-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:54:01.224-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:54:01.224-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.225-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:54:01.225-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:54:01.225-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.230-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.230-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.235-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.235-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.236-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:54:01.236-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:54:01.236-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.237-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:54:01.237-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:54:01.237-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.238-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:54:01.238-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:54:01.238-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.246-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.249-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.250-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:54:01.250-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:54:01.250-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.251-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:54:01.251-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:54:01.252-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.252-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:54:01.252-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:54:01.253-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.257-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.257-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:01.259-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:54:01.259-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:54:01.259-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:02.057-03:00  WARN 12536 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4bdddc73] failed
2025-07-28T04:54:02.058-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:54:02.058-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2025-07-28T04:54:02.076-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.
2025-07-28T04:54:02.077-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T04:54:02.080-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T04:54:02.082-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4bdddc73] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4bdddc73] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1296) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 23 common frames omitted
Caused by: java.lang.NoClassDefFoundError: SolicitacaoMapper
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.8.jar:6.1.8]
	... 35 common frames omitted
Caused by: java.lang.ClassNotFoundException: SolicitacaoMapper
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 39 common frames omitted

2025-07-28T04:54:32.826-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:54:32.830-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:54:32.830-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:54:33.435-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:54:33.478-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 13 JPA repository interfaces.
2025-07-28T04:54:33.617-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:54:33.618-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:54:33.620-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:54:33.641-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-7].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-28T04:54:33.641-03:00  INFO 12536 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 804 ms
2025-07-28T04:54:33.685-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:54:33.686-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:54:33.688-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:54:33.694-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:54:33.695-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2025-07-28T04:54:33.704-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@610a05e8
2025-07-28T04:54:33.704-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2025-07-28T04:54:33.705-03:00  WARN 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:54:33.907-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:54:33.908-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:54:33.925-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:54:33.926-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:54:33.928-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:33.934-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:33.936-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:54:33.936-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:54:33.936-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:33.947-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:54:33.958-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@10e254e4}
2025-07-28T04:54:33.961-03:00  INFO 12536 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:54:33.961-03:00  WARN 12536 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:54:33.964-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:33.966-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:33.968-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:54:33.968-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:54:33.968-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:33.975-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:33.978-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:33.979-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:54:33.979-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:54:33.979-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:33.981-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:54:33.981-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:54:33.982-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:33.986-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:33.987-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:33.988-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:54:33.988-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:54:33.988-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.028-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.030-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.032-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:54:34.032-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:54:34.032-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.046-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.053-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.055-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:54:34.055-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:54:34.056-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.056-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:54:34.057-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:54:34.057-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.057-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:54:34.058-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:54:34.058-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.059-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:54:34.059-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:54:34.059-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.060-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:54:34.060-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:54:34.060-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.061-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:54:34.061-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:54:34.061-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.061-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:54:34.062-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:54:34.062-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.068-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.068-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.073-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.073-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.074-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:54:34.075-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:54:34.075-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.076-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:54:34.076-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:54:34.076-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.077-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:54:34.077-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:54:34.077-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.086-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.090-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.090-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:54:34.091-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:54:34.091-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.092-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:54:34.092-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:54:34.092-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.093-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:54:34.094-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:54:34.094-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.099-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.099-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.101-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:54:34.101-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:54:34.102-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:54:34.116-03:00  WARN 12536 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@149d176e] failed
2025-07-28T04:54:34.116-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:54:34.117-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown initiated...
2025-07-28T04:54:34.131-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown completed.
2025-07-28T04:54:34.133-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T04:54:34.136-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T04:54:34.139-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@149d176e] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@149d176e] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1296) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 23 common frames omitted
Caused by: java.lang.NoClassDefFoundError: SolicitacaoMapper
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.8.jar:6.1.8]
	... 35 common frames omitted
Caused by: java.lang.ClassNotFoundException: SolicitacaoMapper
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 39 common frames omitted

2025-07-28T04:55:02.544-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:55:02.544-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:55:02.545-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:55:02.966-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:55:03.051-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86 ms. Found 13 JPA repository interfaces.
2025-07-28T04:55:03.298-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:55:03.303-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:55:03.304-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:55:03.350-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-8].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-28T04:55:03.350-03:00  INFO 12536 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 803 ms
2025-07-28T04:55:03.439-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:55:03.442-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:55:03.447-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:55:03.466-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:55:03.468-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Starting...
2025-07-28T04:55:03.477-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-10 - Added connection com.mysql.cj.jdbc.ConnectionImpl@51155478
2025-07-28T04:55:03.479-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Start completed.
2025-07-28T04:55:03.481-03:00  WARN 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:55:03.721-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:55:03.721-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:55:03.749-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:55:03.751-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:55:03.753-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.764-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.767-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:55:03.767-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:55:03.767-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.786-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:55:03.801-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@5a65a43c}
2025-07-28T04:55:03.803-03:00  INFO 12536 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:55:03.803-03:00  WARN 12536 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:55:03.807-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.809-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.811-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:55:03.811-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:55:03.811-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.816-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.823-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.825-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:55:03.825-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:55:03.825-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.826-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:55:03.826-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:55:03.826-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.831-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.833-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.835-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:55:03.835-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:55:03.835-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.885-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.886-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.886-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:55:03.886-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:55:03.886-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.907-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.926-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.929-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:55:03.930-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:55:03.930-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.932-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:55:03.932-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:55:03.932-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.932-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:55:03.932-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:55:03.932-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.932-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:55:03.932-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:55:03.932-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.932-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:55:03.932-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:55:03.932-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.938-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:55:03.938-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:55:03.938-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.939-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:55:03.939-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:55:03.939-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.944-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.944-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.952-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.952-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.955-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:55:03.955-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:55:03.955-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.956-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:55:03.957-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:55:03.957-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.958-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:55:03.958-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:55:03.958-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.971-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.975-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.978-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:55:03.978-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:55:03.978-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.979-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:55:03.979-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:55:03.981-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.983-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:55:03.983-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:55:03.983-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.989-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.989-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:03.992-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:55:03.993-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:55:03.993-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:04.005-03:00  WARN 12536 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@78ebf8e4] failed
2025-07-28T04:55:04.005-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:55:04.005-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown initiated...
2025-07-28T04:55:04.013-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown completed.
2025-07-28T04:55:04.013-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T04:55:04.016-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T04:55:04.016-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@78ebf8e4] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@78ebf8e4] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1296) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 23 common frames omitted
Caused by: java.lang.NoClassDefFoundError: SolicitacaoMapper
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.8.jar:6.1.8]
	... 35 common frames omitted
Caused by: java.lang.ClassNotFoundException: SolicitacaoMapper
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 39 common frames omitted

2025-07-28T04:55:51.887-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:55:51.889-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:55:51.889-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:55:52.371-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:55:52.398-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 13 JPA repository interfaces.
2025-07-28T04:55:52.497-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:55:52.498-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:55:52.498-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:55:52.514-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-9].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-28T04:55:52.514-03:00  INFO 12536 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 623 ms
2025-07-28T04:55:52.547-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:55:52.547-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:55:52.549-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:55:52.555-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:55:52.555-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Starting...
2025-07-28T04:55:52.564-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-11 - Added connection com.mysql.cj.jdbc.ConnectionImpl@76fe9dc
2025-07-28T04:55:52.565-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Start completed.
2025-07-28T04:55:52.566-03:00  WARN 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:55:52.716-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:55:52.716-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:55:52.734-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:55:52.735-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:55:52.737-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.744-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.747-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:55:52.748-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:55:52.748-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.759-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:55:52.774-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@c499389}
2025-07-28T04:55:52.776-03:00  INFO 12536 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:55:52.776-03:00  WARN 12536 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:55:52.780-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.784-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.785-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:55:52.786-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:55:52.786-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.792-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.796-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.797-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:55:52.798-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:55:52.798-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.799-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:55:52.799-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:55:52.799-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.803-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.804-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.805-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:55:52.805-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:55:52.805-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.854-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.856-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.857-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:55:52.857-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:55:52.858-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.868-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.875-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.876-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:55:52.876-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:55:52.877-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.878-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:55:52.879-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:55:52.879-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.881-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:55:52.881-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:55:52.881-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.882-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:55:52.882-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:55:52.882-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.883-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:55:52.883-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:55:52.884-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.884-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:55:52.884-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:55:52.884-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.885-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:55:52.885-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:55:52.885-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.889-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.890-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.895-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.896-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.898-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:55:52.898-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:55:52.898-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.899-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:55:52.899-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:55:52.901-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.901-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:55:52.902-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:55:52.902-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.913-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.916-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.917-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:55:52.918-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:55:52.918-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.919-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:55:52.919-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:55:52.919-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.920-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:55:52.920-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:55:52.921-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.924-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.925-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.927-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:55:52.927-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:55:52.927-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:55:52.945-03:00  WARN 12536 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@6d547361] failed
2025-07-28T04:55:52.946-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:55:52.946-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown initiated...
2025-07-28T04:55:52.968-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown completed.
2025-07-28T04:55:52.969-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T04:55:52.972-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T04:55:52.976-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@6d547361] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@6d547361] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1296) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 23 common frames omitted
Caused by: java.lang.NoClassDefFoundError: SolicitacaoMapper
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.8.jar:6.1.8]
	... 35 common frames omitted
Caused by: java.lang.ClassNotFoundException: SolicitacaoMapper
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 39 common frames omitted

2025-07-28T04:56:01.649-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:56:01.649-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:56:01.649-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:56:02.021-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:56:02.110-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 13 JPA repository interfaces.
2025-07-28T04:56:02.281-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:56:02.281-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:56:02.281-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:56:02.308-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-10].[localhost].[/]    : Initializing Spring embedded WebApplicationContext
2025-07-28T04:56:02.308-03:00  INFO 12536 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 658 ms
2025-07-28T04:56:02.347-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:56:02.347-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:56:02.349-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:56:02.354-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:56:02.354-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Starting...
2025-07-28T04:56:02.361-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-12 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2b459ca2
2025-07-28T04:56:02.361-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Start completed.
2025-07-28T04:56:02.363-03:00  WARN 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:56:02.492-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:56:02.492-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:56:02.520-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:56:02.521-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:56:02.523-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.528-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.530-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:56:02.531-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:56:02.531-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.540-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:56:02.553-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@2e59349b}
2025-07-28T04:56:02.555-03:00  INFO 12536 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:56:02.556-03:00  WARN 12536 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:56:02.558-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.560-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.561-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:56:02.561-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:56:02.562-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.569-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.571-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.571-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:56:02.571-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:56:02.571-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.571-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:56:02.571-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:56:02.571-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.579-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.579-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.581-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:56:02.582-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:56:02.582-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.617-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.619-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.621-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:56:02.621-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:56:02.621-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.632-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.638-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.640-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:56:02.641-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:56:02.641-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.641-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:56:02.642-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:56:02.642-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.643-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:56:02.643-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:56:02.644-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.645-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:56:02.645-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:56:02.645-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.646-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:56:02.647-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:56:02.647-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.648-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:56:02.648-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:56:02.648-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.649-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:56:02.649-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:56:02.649-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.654-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.654-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.660-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.661-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.663-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:56:02.663-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:56:02.664-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.664-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:56:02.665-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:56:02.665-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.666-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:56:02.666-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:56:02.666-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.676-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.681-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.683-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:56:02.683-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:56:02.683-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.684-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:56:02.684-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:56:02.686-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.686-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:56:02.687-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:56:02.687-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.691-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.692-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.693-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:56:02.693-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:56:02.693-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:02.713-03:00  WARN 12536 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@484f14fc] failed
2025-07-28T04:56:02.713-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:56:02.715-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Shutdown initiated...
2025-07-28T04:56:02.775-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Shutdown completed.
2025-07-28T04:56:02.776-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T04:56:02.782-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T04:56:02.786-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@484f14fc] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@484f14fc] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1296) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 23 common frames omitted
Caused by: java.lang.NoClassDefFoundError: SolicitacaoMapper
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.8.jar:6.1.8]
	... 35 common frames omitted
Caused by: java.lang.ClassNotFoundException: SolicitacaoMapper
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 39 common frames omitted

2025-07-28T04:56:14.624-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:56:14.625-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:56:14.626-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:56:14.832-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:56:14.862-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 13 JPA repository interfaces.
2025-07-28T04:56:14.949-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:56:14.949-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:56:14.950-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:56:14.963-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-11].[localhost].[/]    : Initializing Spring embedded WebApplicationContext
2025-07-28T04:56:14.964-03:00  INFO 12536 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 336 ms
2025-07-28T04:56:14.995-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:56:14.995-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:56:14.998-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:56:15.001-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:56:15.001-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Starting...
2025-07-28T04:56:15.009-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-13 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2e9109cf
2025-07-28T04:56:15.009-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Start completed.
2025-07-28T04:56:15.011-03:00  WARN 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:56:15.191-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:56:15.193-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:56:15.220-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:56:15.220-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:56:15.222-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.229-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.230-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:56:15.231-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:56:15.231-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.240-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:56:15.251-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@4ab7eeb}
2025-07-28T04:56:15.254-03:00  INFO 12536 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:56:15.254-03:00  WARN 12536 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:56:15.257-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.260-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.261-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:56:15.261-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:56:15.262-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.269-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.273-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.274-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:56:15.275-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:56:15.275-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.276-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:56:15.276-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:56:15.276-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.281-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.316-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.323-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:56:15.328-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:56:15.329-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.378-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.380-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.381-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:56:15.382-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:56:15.382-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.391-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.398-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.400-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:56:15.400-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:56:15.400-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.400-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:56:15.401-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:56:15.401-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.401-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:56:15.402-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:56:15.402-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.402-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:56:15.403-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:56:15.403-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.404-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:56:15.404-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:56:15.404-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.405-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:56:15.405-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:56:15.405-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.406-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:56:15.407-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:56:15.407-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.410-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.411-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.415-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.415-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.416-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:56:15.417-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:56:15.417-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.418-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:56:15.418-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:56:15.418-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.419-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:56:15.419-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:56:15.419-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.427-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.430-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.432-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:56:15.432-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:56:15.432-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.433-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:56:15.434-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:56:15.434-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.434-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:56:15.435-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:56:15.435-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.439-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.445-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.447-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:56:15.448-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:56:15.448-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:15.461-03:00  WARN 12536 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@34954cfc] failed
2025-07-28T04:56:15.462-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:56:15.463-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Shutdown initiated...
2025-07-28T04:56:15.465-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Shutdown completed.
2025-07-28T04:56:15.466-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T04:56:15.471-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T04:56:15.474-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@34954cfc] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@34954cfc] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1296) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 23 common frames omitted
Caused by: java.lang.NoClassDefFoundError: SolicitacaoMapper
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.8.jar:6.1.8]
	... 35 common frames omitted
Caused by: java.lang.ClassNotFoundException: SolicitacaoMapper
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 39 common frames omitted

2025-07-28T04:56:44.814-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:56:44.814-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:56:44.814-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:56:45.031-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:56:45.059-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 13 JPA repository interfaces.
2025-07-28T04:56:45.160-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:56:45.161-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:56:45.161-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:56:45.179-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-12].[localhost].[/]    : Initializing Spring embedded WebApplicationContext
2025-07-28T04:56:45.180-03:00  INFO 12536 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 365 ms
2025-07-28T04:56:45.230-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:56:45.230-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:56:45.233-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:56:45.240-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:56:45.242-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Starting...
2025-07-28T04:56:45.250-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-14 - Added connection com.mysql.cj.jdbc.ConnectionImpl@58aecea6
2025-07-28T04:56:45.250-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Start completed.
2025-07-28T04:56:45.253-03:00  WARN 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:56:45.448-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:56:45.449-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:56:45.464-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:56:45.466-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:56:45.467-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.473-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.475-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:56:45.475-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:56:45.475-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.487-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:56:45.498-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@278f80a1}
2025-07-28T04:56:45.499-03:00  INFO 12536 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:56:45.500-03:00  WARN 12536 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:56:45.503-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.505-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.507-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:56:45.507-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:56:45.507-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.517-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.522-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.523-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:56:45.524-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:56:45.524-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.525-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:56:45.525-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:56:45.525-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.531-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.532-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.533-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:56:45.534-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:56:45.534-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.584-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.585-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.586-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:56:45.587-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:56:45.587-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.598-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.605-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.606-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:56:45.606-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:56:45.606-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.607-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:56:45.607-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:56:45.607-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.609-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:56:45.609-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:56:45.609-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.610-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:56:45.610-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:56:45.611-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.611-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:56:45.613-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:56:45.613-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.614-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:56:45.614-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:56:45.614-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.615-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:56:45.616-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:56:45.616-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.619-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.621-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.625-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.626-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.627-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:56:45.627-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:56:45.627-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.628-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:56:45.629-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:56:45.629-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.629-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:56:45.629-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:56:45.629-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.635-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.638-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.639-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:56:45.639-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:56:45.639-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.640-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:56:45.640-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:56:45.641-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.641-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:56:45.641-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:56:45.641-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.646-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.646-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.649-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:56:45.649-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:56:45.650-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:45.665-03:00  WARN 12536 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@139ebe52] failed
2025-07-28T04:56:45.665-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:56:45.666-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Shutdown initiated...
2025-07-28T04:56:45.710-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Shutdown completed.
2025-07-28T04:56:45.711-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T04:56:45.714-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T04:56:45.716-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@139ebe52] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@139ebe52] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1296) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 23 common frames omitted
Caused by: java.lang.NoClassDefFoundError: SolicitacaoMapper
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.8.jar:6.1.8]
	... 35 common frames omitted
Caused by: java.lang.ClassNotFoundException: SolicitacaoMapper
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 39 common frames omitted

2025-07-28T04:56:56.481-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:56:56.482-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:56:56.482-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:56:56.834-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:56:56.892-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 13 JPA repository interfaces.
2025-07-28T04:56:57.288-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:56:57.290-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:56:57.290-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:56:57.325-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-13].[localhost].[/]    : Initializing Spring embedded WebApplicationContext
2025-07-28T04:56:57.326-03:00  INFO 12536 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 842 ms
2025-07-28T04:56:57.624-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:56:57.661-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:56:57.691-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:56:57.752-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:56:57.755-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Starting...
2025-07-28T04:56:57.763-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-15 - Added connection com.mysql.cj.jdbc.ConnectionImpl@662d3cbf
2025-07-28T04:56:57.764-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Start completed.
2025-07-28T04:56:57.766-03:00  WARN 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:56:58.321-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:56:58.321-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:56:58.351-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:56:58.353-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:56:58.356-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.368-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.371-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:56:58.372-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:56:58.372-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.412-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:56:58.439-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@54ccdf3a}
2025-07-28T04:56:58.444-03:00  INFO 12536 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:56:58.444-03:00  WARN 12536 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:56:58.451-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.456-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.459-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:56:58.460-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:56:58.460-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.473-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.478-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.479-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:56:58.479-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:56:58.479-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.480-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:56:58.480-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:56:58.480-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.486-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.486-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.488-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:56:58.488-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:56:58.488-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.539-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.542-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.548-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:56:58.548-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:56:58.549-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.566-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.578-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.579-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:56:58.579-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:56:58.579-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.581-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:56:58.582-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:56:58.582-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.583-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:56:58.583-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:56:58.583-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.584-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:56:58.584-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:56:58.584-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.585-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:56:58.586-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:56:58.586-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.586-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:56:58.587-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:56:58.587-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.588-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:56:58.588-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:56:58.588-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.595-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.596-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.603-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.604-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.606-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:56:58.606-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:56:58.607-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.607-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:56:58.608-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:56:58.608-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.608-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:56:58.609-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:56:58.609-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.620-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.623-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.624-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:56:58.624-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:56:58.624-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.626-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:56:58.626-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:56:58.626-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.627-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:56:58.628-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:56:58.629-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.635-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.635-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.638-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:56:58.638-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:56:58.639-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:56:58.653-03:00  WARN 12536 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@5d1f083b] failed
2025-07-28T04:56:58.653-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:56:58.653-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Shutdown initiated...
2025-07-28T04:56:58.656-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Shutdown completed.
2025-07-28T04:56:58.656-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T04:56:58.660-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T04:56:58.663-03:00 ERROR 12536 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processoCompraController': Unsatisfied dependency expressed through field 'processoCompraService': Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@5d1f083b] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processoCompraService': Resolution of declared constructors on bean Class [com.zlogcompras.service.ProcessoCompraService] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@5d1f083b] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1296) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 23 common frames omitted
Caused by: java.lang.NoClassDefFoundError: SolicitacaoMapper
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.8.jar:6.1.8]
	... 35 common frames omitted
Caused by: java.lang.ClassNotFoundException: SolicitacaoMapper
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 39 common frames omitted

2025-07-28T04:57:10.534-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12536 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:57:10.534-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:57:10.534-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:57:10.726-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:57:10.748-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 13 JPA repository interfaces.
2025-07-28T04:57:10.835-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:57:10.835-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:57:10.836-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:57:10.851-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-14].[localhost].[/]    : Initializing Spring embedded WebApplicationContext
2025-07-28T04:57:10.851-03:00  INFO 12536 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 317 ms
2025-07-28T04:57:10.884-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:57:10.884-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:57:10.885-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:57:10.892-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:57:10.893-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Starting...
2025-07-28T04:57:10.902-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-16 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2e46b3b
2025-07-28T04:57:10.902-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Start completed.
2025-07-28T04:57:10.903-03:00  WARN 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:57:11.053-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:57:11.053-03:00  INFO 12536 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:57:11.069-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:57:11.069-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:57:11.071-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.077-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.078-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:57:11.078-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:57:11.079-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.088-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:57:11.099-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@3b1fa1b6}
2025-07-28T04:57:11.101-03:00  INFO 12536 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:57:11.102-03:00  WARN 12536 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:57:11.104-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.107-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.108-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:57:11.108-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:57:11.109-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.117-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.122-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.123-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:57:11.124-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:57:11.124-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.125-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:57:11.125-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:57:11.125-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.130-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.131-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.132-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:57:11.133-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:57:11.133-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.172-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.174-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.175-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:57:11.175-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:57:11.176-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.186-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.193-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.194-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:57:11.195-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:57:11.195-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.196-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:57:11.196-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:57:11.196-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.197-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:57:11.197-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:57:11.197-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.198-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:57:11.199-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:57:11.199-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.200-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:57:11.200-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:57:11.200-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.201-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:57:11.201-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:57:11.201-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.202-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:57:11.202-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:57:11.203-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.207-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.207-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.213-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.213-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.214-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:57:11.215-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:57:11.215-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.216-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:57:11.217-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:57:11.217-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.217-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:57:11.218-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:57:11.218-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.224-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.227-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.228-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:57:11.229-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:57:11.229-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.230-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:57:11.230-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:57:11.230-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.232-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:57:11.232-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:57:11.233-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.236-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.236-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.237-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:57:11.238-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:57:11.238-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.260-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.260-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.261-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:57:11.262-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:57:11.262-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.263-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:57:11.263-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:57:11.263-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.264-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:57:11.264-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:57:11.265-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.341-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-07-28T04:57:11.351-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-07-28T04:57:11.354-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-07-28T04:57:11.358-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
2025-07-28T04:57:11.360-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T04:57:11.363-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
2025-07-28T04:57:11.364-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{GET [/api/produtos]}: listarTodosProdutos()
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
2025-07-28T04:57:11.366-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-07-28T04:57:11.368-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T04:57:11.371-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T04:57:11.373-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T04:57:11.374-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T04:57:11.376-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T04:57:11.406-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T04:57:11.415-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@74c4e92d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28f29db5, org.springframework.security.web.context.SecurityContextHolderFilter@2472fe98, org.springframework.security.web.header.HeaderWriterFilter@43e4f60f, org.springframework.web.filter.CorsFilter@4e590efa, org.springframework.security.web.authentication.logout.LogoutFilter@8ea9010, com.zlogcompras.config.JwtAuthenticationFilter@60a90116, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@bb178f3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f81a304, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10c2530b, org.springframework.security.web.session.SessionManagementFilter@6a92cd, org.springframework.security.web.access.ExceptionTranslationFilter@6e58368b, org.springframework.security.web.access.intercept.AuthorizationFilter@1c0859bb]
2025-07-28T04:57:11.444-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T04:57:11.449-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T04:57:11.492-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.495-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.496-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:57:11.496-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:57:11.496-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.501-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.513-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.515-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:57:11.516-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:57:11.516-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.548-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T04:57:11.571-03:00  INFO 12536 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T04:57:11.577-03:00  INFO 12536 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 1.058 seconds (process running for 1202.448)
2025-07-28T04:57:11.580-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.641-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:57:11.645-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T04:57:11.821-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:57:11.821-03:00 DEBUG 12536 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:57:11.821-03:00 TRACE 12536 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T04:57:11.831-03:00  INFO 12536 --- [zlog_compras] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-28T04:58:11.415-03:00  INFO 20936 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Starting ZlogComprasApplicationTests using Java 21.0.8 with PID 20936 (started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:58:11.418-03:00 DEBUG 20936 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:58:11.419-03:00  INFO 20936 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : The following 1 profile is active: "test"
2025-07-28T04:58:11.470-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0
2025-07-28T04:58:15.691-03:00 DEBUG 20936 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:58:16.448-03:00  INFO 20936 --- [zlog_compras] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:58:16.531-03:00  WARN 20936 --- [zlog_compras] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:58:18.438-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-07-28T04:58:18.444-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-07-28T04:58:18.444-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-07-28T04:58:18.444-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-07-28T04:58:18.445-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-07-28T04:58:18.445-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-07-28T04:58:18.445-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-07-28T04:58:18.446-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-07-28T04:58:18.446-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-07-28T04:58:18.446-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-07-28T04:58:18.446-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-07-28T04:58:18.447-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-07-28T04:58:18.447-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-07-28T04:58:18.447-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-07-28T04:58:18.454-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table estoque (
        quantidade integer not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        data_ultima_entrada timestamp(6),
        data_ultima_saida timestamp(6),
        id bigint generated by default as identity,
        produto_id bigint not null,
        version bigint,
        localizacao varchar(255),
        observacoes varchar(255),
        primary key (id)
    )
2025-07-28T04:58:18.468-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table fornecedores (
        id bigint generated by default as identity,
        version bigint,
        telefone varchar(15),
        cnpj varchar(18) not null unique,
        contato varchar(255),
        email varchar(255) unique,
        endereco varchar(255) not null,
        razao_social varchar(255) not null,
        primary key (id)
    )
2025-07-28T04:58:18.473-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_orcamento (
        preco_unitario_cotado numeric(12,2) not null,
        quantidade numeric(10,3) not null,
        id bigint generated by default as identity,
        orcamento_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida_produto varchar(20),
        codigo_produto varchar(50),
        nome_produto varchar(255) not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-07-28T04:58:18.475-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_pedido_compra (
        preco_unitario numeric(12,2) not null,
        quantidade integer not null,
        subtotal numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida varchar(50),
        codigo_produto varchar(100),
        observacoes varchar(500),
        nome_produto varchar(255),
        primary key (id)
    )
2025-07-28T04:58:18.477-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_solicitacao_compra (
        quantidade numeric(10,3) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        produto_id bigint not null,
        solicitacao_compra_id bigint not null,
        version bigint,
        descricao_adicional varchar(255),
        status enum ('AGUARDANDO_ORCAMENTO','APROVADO','CANCELADO','COMPRADO','EM_COMPRA','ORCAMENTO_RECEBIDO','PENDENTE','REJEITADO') not null,
        primary key (id)
    )
2025-07-28T04:58:18.478-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table movimentacoes_estoque (
        quantidade numeric(10,3) not null,
        data_movimentacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        codigo_material varchar(255) not null,
        referencia varchar(255),
        tipo_movimentacao varchar(255) not null,
        primary key (id)
    )
2025-07-28T04:58:18.480-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table notas_fiscais (
        data_emissao date not null,
        valor_total numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        version bigint,
        numero_nota_fiscal varchar(255) not null unique,
        primary key (id)
    )
2025-07-28T04:58:18.481-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table orcamentos (
        data_cotacao date not null,
        valor_total numeric(12,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        fornecedor_id bigint not null,
        id bigint generated by default as identity,
        solicitacao_compra_id bigint not null,
        version bigint,
        condicoes_pagamento varchar(255),
        numero_orcamento varchar(255) not null,
        observacoes varchar(255),
        prazo_entrega varchar(255),
        status enum ('ABERTO','AGUARDANDO_APROVACAO','APROVADO','CANCELADO','CONCLUIDO','COTADO','PEDIDO_GERADO','PENDENTE','RECUSADO','REJEITADO') not null,
        primary key (id)
    )
2025-07-28T04:58:18.482-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table pedidos_compra (
        data_pedido date,
        valor_total numeric(38,2),
        fornecedor_id bigint,
        id bigint generated by default as identity,
        orcamento_id bigint unique,
        observacoes varchar(255),
        status enum ('AGUARDANDO_APROVACAO','AGUARDANDO_ENVIO','APROVADO','CANCELADO','CONCLUIDO','ENVIADO','FINALIZADO','PENDENTE','RECEBIDO_PARCIALMENTE','RECEBIDO_TOTALMENTE','RECUSADO','REJEITADO_PELO_FORNECEDOR'),
        primary key (id)
    )
2025-07-28T04:58:18.483-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table produtos (
        estoque integer not null,
        preco_unitario numeric(10,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        categoria varchar(50) not null,
        codigo varchar(50) not null unique,
        codigo_produto varchar(50) not null unique,
        descricao varchar(255),
        nome varchar(255),
        unidade_medida varchar(255) not null,
        primary key (id)
    )
2025-07-28T04:58:18.488-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table roles (
        id bigint generated by default as identity,
        name varchar(255) not null unique,
        primary key (id)
    )
2025-07-28T04:58:18.491-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table solicitacoes_compra (
        data_solicitacao date not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        descricao varchar(255),
        solicitante varchar(255) not null,
        status enum ('ABERTA','AGUARDANDO_PARECER','CANCELADA','CONCLUIDA','EM_ANDAMENTO','ORCAMENTO_APROVADO','PEDIDO_GERADO','PENDENTE','REJEITADO','SUSPENSO') not null,
        primary key (id)
    )
2025-07-28T04:58:18.494-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table user_roles (
        role_id bigint not null,
        user_id bigint not null,
        primary key (role_id, user_id)
    )
2025-07-28T04:58:18.495-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table users (
        enabled boolean not null,
        id bigint generated by default as identity,
        password varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-07-28T04:58:18.498-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists estoque 
       add constraint FKmonotpf9w7pfuomk89nqxgeq1 
       foreign key (produto_id) 
       references produtos
2025-07-28T04:58:18.524-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKqlfm2lrgelma3n8kwabcvw9qh 
       foreign key (orcamento_id) 
       references orcamentos
2025-07-28T04:58:18.526-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKbc0qr2yj9stqdgavwvoohki0m 
       foreign key (produto_id) 
       references produtos
2025-07-28T04:58:18.528-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FK8p88mt761a5vacmlhrc68148b 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-07-28T04:58:18.530-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FKrv4ebgf6fdlg2v3b6dcbep8dn 
       foreign key (produto_id) 
       references produtos
2025-07-28T04:58:18.531-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FKntep08q88crstb33ej6npyul5 
       foreign key (produto_id) 
       references produtos
2025-07-28T04:58:18.532-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FK19xietjd5tfpljngdy8daw06x 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-07-28T04:58:18.534-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists notas_fiscais 
       add constraint FKe4e784ip50emjknglqkpkovg4 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-07-28T04:58:18.535-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FKntj4otux0et5xc0cm2lgq3uey 
       foreign key (fornecedor_id) 
       references fornecedores
2025-07-28T04:58:18.539-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FK5bj47al0ogq18q5ge2roy9e53 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-07-28T04:58:18.541-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FKan3yv2vk5m3gbphqf4f6yxj4j 
       foreign key (fornecedor_id) 
       references fornecedores
2025-07-28T04:58:18.542-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FK5f0lurv407qu48ns0sdhky4du 
       foreign key (orcamento_id) 
       references orcamentos
2025-07-28T04:58:18.544-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-07-28T04:58:18.545-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-28T04:58:18.553-03:00  INFO 20936 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:58:18.778-03:00 DEBUG 20936 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:58:18.884-03:00 DEBUG 20936 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:58:18.941-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:19.041-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:19.251-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:19.361-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:58:19.366-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:58:19.374-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:19.590-03:00 TRACE 20936 --- [zlog_compras] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@32a37d12}
2025-07-28T04:58:19.663-03:00  INFO 20936 --- [zlog_compras] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:58:19.664-03:00  WARN 20936 --- [zlog_compras] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:58:19.675-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:19.677-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:19.683-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:58:19.684-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:58:19.685-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:19.713-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:19.737-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:19.744-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:58:19.745-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:58:19.746-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:19.762-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:58:19.765-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:58:19.766-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:19.781-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:19.784-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:19.788-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:58:19.789-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:58:19.789-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.785-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.794-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.797-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:58:20.798-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:58:20.798-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.822-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.854-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.859-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:58:20.860-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:58:20.860-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.867-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:58:20.868-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:58:20.868-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.871-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:58:20.872-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:58:20.873-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.874-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:58:20.876-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:58:20.876-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.877-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:58:20.878-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:58:20.878-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.880-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:58:20.881-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:58:20.881-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.882-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:58:20.882-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:58:20.882-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.896-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.897-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.909-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.910-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.914-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:58:20.915-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:58:20.915-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.917-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:58:20.918-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:58:20.918-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.920-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:58:20.921-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:58:20.921-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.935-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.951-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.956-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:58:20.957-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:58:20.958-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.961-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:58:20.961-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:58:20.961-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.964-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:58:20.965-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:58:20.966-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.979-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.980-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:20.983-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:58:20.984-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:58:20.985-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:21.078-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:21.079-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:21.082-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:58:21.083-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:58:21.084-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:21.087-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:58:21.089-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:58:21.089-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:21.095-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:58:21.095-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:58:21.095-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:21.819-03:00 TRACE 20936 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-07-28T04:58:21.836-03:00 TRACE 20936 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
2025-07-28T04:58:21.846-03:00 TRACE 20936 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
2025-07-28T04:58:21.854-03:00 TRACE 20936 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos]}: listarOrcamentos()
2025-07-28T04:58:21.862-03:00 TRACE 20936 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
2025-07-28T04:58:21.871-03:00 TRACE 20936 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T04:58:21.875-03:00 TRACE 20936 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
2025-07-28T04:58:21.881-03:00 TRACE 20936 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
2025-07-28T04:58:21.892-03:00 TRACE 20936 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T04:58:21.931-03:00 TRACE 20936 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-07-28T04:58:21.936-03:00 TRACE 20936 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T04:58:21.944-03:00 TRACE 20936 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T04:58:21.949-03:00 DEBUG 20936 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T04:58:22.291-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T04:58:22.401-03:00  INFO 20936 --- [zlog_compras] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7aeb4c8a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a4a1973, org.springframework.security.web.context.SecurityContextHolderFilter@19801b8d, org.springframework.security.web.header.HeaderWriterFilter@550d3cd7, org.springframework.web.filter.CorsFilter@73c57370, org.springframework.security.web.authentication.logout.LogoutFilter@1cca09bc, com.zlogcompras.config.JwtAuthenticationFilter@13653a0b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@524023c8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20531934, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c8f8206, org.springframework.security.web.session.SessionManagementFilter@5f4491b9, org.springframework.security.web.access.ExceptionTranslationFilter@3caf87e6, org.springframework.security.web.access.intercept.AuthorizationFilter@618a237f]
2025-07-28T04:58:22.877-03:00 DEBUG 20936 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T04:58:22.959-03:00 DEBUG 20936 --- [zlog_compras] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T04:58:23.211-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:23.218-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:23.222-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:58:23.223-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:58:23.223-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:23.240-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:23.245-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:23.247-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:58:23.248-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:58:23.248-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:23.377-03:00  INFO 20936 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Started ZlogComprasApplicationTests in 12.662 seconds (process running for 26.141)
2025-07-28T04:58:23.400-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:23.753-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:58:23.758-03:00 TRACE 20936 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T04:58:23.787-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:58:23.788-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1030625460<open>)] for JPA transaction
2025-07-28T04:58:23.795-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3b6d5459]
2025-07-28T04:58:23.839-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-07-28T04:58:23.845-03:00 TRACE 20936 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T04:58:23.872-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:58:23.873-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1030625460<open>)]
2025-07-28T04:58:23.888-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1030625460<open>)] after transaction
2025-07-28T04:58:23.888-03:00 DEBUG 20936 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:23.890-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:58:23.891-03:00 TRACE 20936 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T04:58:23.895-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T04:58:23.895-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(651460282<open>)] for JPA transaction
2025-07-28T04:58:23.896-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3cbe4472]
2025-07-28T04:58:23.898-03:00 DEBUG 20936 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-07-28T04:58:23.899-03:00 TRACE 20936 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T04:58:23.901-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T04:58:23.901-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(651460282<open>)]
2025-07-28T04:58:23.902-03:00 DEBUG 20936 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(651460282<open>)] after transaction
2025-07-28T04:58:23.992-03:00 DEBUG 20936 --- [zlog_compras] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0, started on Mon Jul 28 04:58:11 BRT 2025
2025-07-28T04:58:24.000-03:00  INFO 20936 --- [zlog_compras] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:58:24.002-03:00 DEBUG 20936 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-07-28T04:58:24.007-03:00 DEBUG 20936 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-07-28T04:58:24.009-03:00 DEBUG 20936 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-07-28T04:58:24.011-03:00 DEBUG 20936 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-07-28T04:58:24.012-03:00 DEBUG 20936 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-07-28T04:58:24.013-03:00 DEBUG 20936 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-07-28T04:58:24.016-03:00 DEBUG 20936 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-07-28T04:58:24.017-03:00 DEBUG 20936 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-07-28T04:58:24.018-03:00 DEBUG 20936 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-07-28T04:58:24.019-03:00 DEBUG 20936 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-07-28T04:58:24.020-03:00 DEBUG 20936 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-07-28T04:58:24.021-03:00 DEBUG 20936 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-07-28T04:58:24.021-03:00 DEBUG 20936 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-07-28T04:58:24.022-03:00 DEBUG 20936 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-07-28T04:58:28.373-03:00  INFO 12448 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 12448 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:58:28.376-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:58:28.378-03:00  INFO 12448 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:58:28.455-03:00  INFO 12448 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28T04:58:28.456-03:00  INFO 12448 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28T04:58:29.967-03:00  INFO 12448 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:58:30.164-03:00  INFO 12448 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 187 ms. Found 13 JPA repository interfaces.
2025-07-28T04:58:31.314-03:00  INFO 12448 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:58:31.336-03:00  INFO 12448 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:58:31.337-03:00  INFO 12448 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:58:31.414-03:00  INFO 12448 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T04:58:31.415-03:00  INFO 12448 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2958 ms
2025-07-28T04:58:31.626-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:58:31.656-03:00  INFO 12448 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:58:31.781-03:00  INFO 12448 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-07-28T04:58:31.864-03:00  INFO 12448 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:58:32.363-03:00  INFO 12448 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:58:32.410-03:00  INFO 12448 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-28T04:58:32.679-03:00  INFO 12448 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1b150a5e
2025-07-28T04:58:32.684-03:00  INFO 12448 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-28T04:58:33.065-03:00  WARN 12448 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:58:34.413-03:00  INFO 12448 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:58:34.416-03:00  INFO 12448 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:58:34.452-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:58:34.476-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:58:34.502-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:34.551-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:34.639-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:34.692-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:58:34.697-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:58:34.701-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:34.827-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:58:34.884-03:00 TRACE 12448 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@1c673ef7}
2025-07-28T04:58:34.928-03:00  INFO 12448 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:58:34.930-03:00  WARN 12448 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:58:34.937-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:34.943-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:34.947-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:58:34.948-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:58:34.949-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:34.971-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:34.986-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:34.991-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:58:34.991-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:58:34.991-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.001-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:58:35.001-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:58:35.003-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.018-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.021-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.027-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:58:35.030-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:58:35.030-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.656-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.660-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.664-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:58:35.665-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:58:35.665-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.696-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.740-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.749-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:58:35.750-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:58:35.751-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.767-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:58:35.769-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:58:35.770-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.774-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:58:35.779-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:58:35.779-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.784-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:58:35.788-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:58:35.792-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.798-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:58:35.799-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:58:35.799-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.803-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:58:35.804-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:58:35.805-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.810-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:58:35.811-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:58:35.812-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.833-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.836-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.858-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.862-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.865-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:58:35.866-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:58:35.866-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.872-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:58:35.873-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:58:35.874-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.880-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:58:35.881-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:58:35.882-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.913-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.941-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.948-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:58:35.949-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:58:35.950-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.952-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:58:35.953-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:58:35.955-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.958-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:58:35.960-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:58:35.960-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:35.997-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:36.004-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:36.020-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:58:36.024-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:58:36.026-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:36.157-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:36.158-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:36.162-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:58:36.163-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:58:36.165-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:36.168-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:58:36.170-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:58:36.173-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:36.179-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:58:36.182-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:58:36.183-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:36.794-03:00 TRACE 12448 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-07-28T04:58:36.816-03:00 TRACE 12448 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-07-28T04:58:36.849-03:00 TRACE 12448 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-07-28T04:58:36.861-03:00 TRACE 12448 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
2025-07-28T04:58:36.875-03:00 TRACE 12448 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T04:58:36.895-03:00 TRACE 12448 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
2025-07-28T04:58:36.903-03:00 TRACE 12448 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{GET [/api/produtos]}: listarTodosProdutos()
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
2025-07-28T04:58:36.911-03:00 TRACE 12448 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
2025-07-28T04:58:36.930-03:00 TRACE 12448 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T04:58:36.977-03:00 TRACE 12448 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T04:58:37.105-03:00 TRACE 12448 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T04:58:37.108-03:00 TRACE 12448 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T04:58:37.113-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T04:58:37.326-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T04:58:37.404-03:00  INFO 12448 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b70cf68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@574d3511, org.springframework.security.web.context.SecurityContextHolderFilter@357c0e54, org.springframework.security.web.header.HeaderWriterFilter@17f95fcf, org.springframework.web.filter.CorsFilter@2eb48299, org.springframework.security.web.authentication.logout.LogoutFilter@79e63a14, com.zlogcompras.config.JwtAuthenticationFilter@5973db67, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66b7e486, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@30aaab84, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69b4c3e7, org.springframework.security.web.session.SessionManagementFilter@78a24b0a, org.springframework.security.web.access.ExceptionTranslationFilter@6bb57a1a, org.springframework.security.web.access.intercept.AuthorizationFilter@37f778d7]
2025-07-28T04:58:37.667-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T04:58:37.711-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T04:58:37.861-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:37.867-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:37.869-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:58:37.870-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:58:37.871-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:37.885-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:37.890-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:37.892-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:58:37.893-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:58:37.893-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:38.003-03:00  INFO 12448 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T04:58:38.056-03:00  INFO 12448 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T04:58:38.072-03:00  INFO 12448 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 10.26 seconds (process running for 12.015)
2025-07-28T04:58:38.091-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:38.285-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:58:38.293-03:00 TRACE 12448 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T04:58:38.326-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:58:38.328-03:00 DEBUG 12448 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:58:38.329-03:00 TRACE 12448 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T04:58:38.614-03:00  INFO 12448 --- [zlog_compras] [RMI TCP Connection(4)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-07-28T04:58:38.635-03:00  INFO 12448 --- [zlog_compras] [RMI TCP Connection(4)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:58:38.640-03:00  INFO 12448 --- [zlog_compras] [RMI TCP Connection(4)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-28T04:58:38.651-03:00  INFO 12448 --- [zlog_compras] [RMI TCP Connection(4)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-28T04:58:58.227-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 17956 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T04:58:58.230-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T04:58:58.230-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T04:58:58.318-03:00  INFO 17956 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28T04:58:58.319-03:00  INFO 17956 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28T04:58:59.072-03:00  INFO 17956 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T04:58:59.154-03:00  INFO 17956 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72 ms. Found 13 JPA repository interfaces.
2025-07-28T04:58:59.716-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T04:58:59.727-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T04:58:59.728-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T04:58:59.774-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T04:58:59.774-03:00  INFO 17956 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1454 ms
2025-07-28T04:58:59.885-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T04:58:59.892-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T04:58:59.948-03:00  INFO 17956 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-07-28T04:58:59.974-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T04:59:00.208-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T04:59:00.232-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-28T04:59:00.372-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@cc6994d
2025-07-28T04:59:00.372-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-28T04:59:00.421-03:00  WARN 17956 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T04:59:01.453-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T04:59:01.453-03:00  INFO 17956 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T04:59:01.487-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T04:59:01.492-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T04:59:01.519-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:01.544-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:01.598-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:01.632-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T04:59:01.637-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T04:59:01.639-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:01.722-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T04:59:01.762-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@4bd0d87d}
2025-07-28T04:59:01.787-03:00  INFO 17956 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T04:59:01.788-03:00  WARN 17956 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T04:59:01.792-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:01.798-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:01.800-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T04:59:01.800-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T04:59:01.801-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:01.813-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:01.822-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:01.825-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T04:59:01.825-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T04:59:01.826-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:01.827-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:59:01.828-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T04:59:01.828-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:01.837-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:01.837-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:01.840-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T04:59:01.840-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T04:59:01.840-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.146-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.146-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.152-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T04:59:02.152-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T04:59:02.152-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.162-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.180-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.182-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T04:59:02.182-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T04:59:02.182-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.182-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:59:02.182-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T04:59:02.182-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.188-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:59:02.188-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T04:59:02.189-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.192-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:59:02.193-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T04:59:02.193-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.195-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:59:02.195-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T04:59:02.196-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.196-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:59:02.196-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T04:59:02.196-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.196-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T04:59:02.196-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T04:59:02.196-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.206-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.207-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.213-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.214-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.216-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T04:59:02.217-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T04:59:02.217-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.218-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:59:02.218-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T04:59:02.218-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.219-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:59:02.220-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T04:59:02.220-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.230-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.235-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.236-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:59:02.236-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T04:59:02.237-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.242-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T04:59:02.243-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T04:59:02.243-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.244-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T04:59:02.244-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T04:59:02.244-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.247-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.247-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.251-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:59:02.251-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T04:59:02.251-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.281-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.290-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.292-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:59:02.292-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T04:59:02.292-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.295-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:59:02.295-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T04:59:02.295-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.297-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:59:02.298-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T04:59:02.298-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.554-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-07-28T04:59:02.554-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-07-28T04:59:02.570-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-07-28T04:59:02.575-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
2025-07-28T04:59:02.578-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
2025-07-28T04:59:02.582-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T04:59:02.584-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
2025-07-28T04:59:02.587-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-07-28T04:59:02.590-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T04:59:02.598-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T04:59:02.604-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T04:59:02.605-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T04:59:02.609-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T04:59:02.673-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T04:59:02.704-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3ee8613c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6281aaff, org.springframework.security.web.context.SecurityContextHolderFilter@3557197e, org.springframework.security.web.header.HeaderWriterFilter@6ee8b1f5, org.springframework.web.filter.CorsFilter@264e8d2e, org.springframework.security.web.authentication.logout.LogoutFilter@6981f845, com.zlogcompras.config.JwtAuthenticationFilter@4c738b32, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@419c8ac7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@575e5c2f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4debfd96, org.springframework.security.web.session.SessionManagementFilter@17e54693, org.springframework.security.web.access.ExceptionTranslationFilter@2be72288, org.springframework.security.web.access.intercept.AuthorizationFilter@a3ac1e7]
2025-07-28T04:59:02.786-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T04:59:02.822-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T04:59:02.952-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.952-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.952-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:59:02.952-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T04:59:02.962-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.971-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.974-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:02.977-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:59:02.978-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T04:59:02.978-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:03.042-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T04:59:03.086-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T04:59:03.096-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 5.352 seconds (process running for 5.812)
2025-07-28T04:59:03.105-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:03.252-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:59:03.265-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T04:59:03.287-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:03.287-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T04:59:03.287-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T04:59:23.855-03:00  INFO 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28T04:59:23.855-03:00  INFO 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-28T04:59:23.855-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-07-28T04:59:23.856-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-07-28T04:59:23.856-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-07-28T04:59:23.857-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5a21cc1e
2025-07-28T04:59:23.858-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@234138a
2025-07-28T04:59:23.858-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-28T04:59:23.859-03:00  INFO 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-07-28T04:59:23.891-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3ee8613c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6281aaff, org.springframework.security.web.context.SecurityContextHolderFilter@3557197e, org.springframework.security.web.header.HeaderWriterFilter@6ee8b1f5, org.springframework.web.filter.CorsFilter@264e8d2e, org.springframework.security.web.authentication.logout.LogoutFilter@6981f845, com.zlogcompras.config.JwtAuthenticationFilter@4c738b32, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@419c8ac7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@575e5c2f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4debfd96, org.springframework.security.web.session.SessionManagementFilter@17e54693, org.springframework.security.web.access.ExceptionTranslationFilter@2be72288, org.springframework.security.web.access.intercept.AuthorizationFilter@a3ac1e7]] (1/1)
2025-07-28T04:59:23.894-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-07-28T04:59:23.895-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T04:59:23.897-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T04:59:23.903-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T04:59:23.906-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T04:59:23.910-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T04:59:23.920-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T04:59:23.921-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T04:59:23.921-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T04:59:23.923-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/auth/login
2025-07-28T04:59:23.923-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4ODMzMiwiZXhwIjoxNzUzNzc0NzMyfQ.IgseV865gTqom8GLQgJmds-0_YlGbgxlmB87uh33BQ0
2025-07-28T04:59:24.131-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T04:59:24.133-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T04:59:24.134-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:24.140-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:59:24.143-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:59:24.292-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:59:24.294-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:59:24.340-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T04:59:24.341-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T04:59:24.346-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T04:59:24.346-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T04:59:24.347-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T04:59:24.349-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T04:59:24.350-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T04:59:24.351-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T04:59:24.351-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T04:59:24.352-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T04:59:24.352-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T04:59:24.354-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-07-28T04:59:24.355-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000021a01a9cc80@512d025d
2025-07-28T04:59:24.356-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-07-28T04:59:24.360-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-07-28T04:59:24.364-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-07-28T04:59:24.454-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=MarcioSouza, password=12345678)]
2025-07-28T04:59:24.462-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-07-28T04:59:24.610-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:24.611-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:59:24.613-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:59:24.616-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:59:24.617-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:59:24.777-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-07-28T04:59:24.782-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T04:59:24.782-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T04:59:24.782-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T04:59:24.786-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T04:59:24.786-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T04:59:24.835-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T04:59:24.836-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4OTU2NCwiZXhwIjoxNzUzNzc1OTY0fQ.tfrCRuuLRqMdtA3yHpGrqZ0n3Ly656DExCtaGASHOtA)]
2025-07-28T04:59:24.840-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T04:59:24.844-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T05:00:19.237-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3ee8613c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6281aaff, org.springframework.security.web.context.SecurityContextHolderFilter@3557197e, org.springframework.security.web.header.HeaderWriterFilter@6ee8b1f5, org.springframework.web.filter.CorsFilter@264e8d2e, org.springframework.security.web.authentication.logout.LogoutFilter@6981f845, com.zlogcompras.config.JwtAuthenticationFilter@4c738b32, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@419c8ac7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@575e5c2f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4debfd96, org.springframework.security.web.session.SessionManagementFilter@17e54693, org.springframework.security.web.access.ExceptionTranslationFilter@2be72288, org.springframework.security.web.access.intercept.AuthorizationFilter@a3ac1e7]] (1/1)
2025-07-28T05:00:19.238-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing PUT /api/processo-compra/1/status/CONCLUIDA
2025-07-28T05:00:19.238-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T05:00:19.238-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T05:00:19.238-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T05:00:19.238-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T05:00:19.239-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T05:00:19.239-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T05:00:19.254-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T05:00:19.254-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T05:00:19.255-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/1/status/CONCLUIDA
2025-07-28T05:00:19.255-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4OTU2NCwiZXhwIjoxNzUzNzc1OTY0fQ.tfrCRuuLRqMdtA3yHpGrqZ0n3Ly656DExCtaGASHOtA
2025-07-28T05:00:19.256-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T05:00:19.257-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T05:00:19.257-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:00:19.262-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T05:00:19.265-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T05:00:19.272-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T05:00:19.274-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T05:00:19.276-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T05:00:19.276-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T05:00:19.279-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T05:00:19.281-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T05:00:19.281-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T05:00:19.281-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T05:00:19.281-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T05:00:19.281-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T05:00:19.281-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T05:00:19.281-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T05:00:19.283-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T05:00:19.283-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/processo-compra/1/status/CONCLUIDA
2025-07-28T05:00:19.283-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/processo-compra/1/status/CONCLUIDA using org.springframework.security.authorization.AuthenticatedAuthorizationManager@49d9441c
2025-07-28T05:00:19.283-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /api/processo-compra/1/status/CONCLUIDA
2025-07-28T05:00:19.283-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : PUT "/api/processo-compra/1/status/CONCLUIDA", parameters={}
2025-07-28T05:00:19.285-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#atualizarStatusSolicitacao(Long, StatusSolicitacaoCompra)
2025-07-28T05:00:19.292-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T05:00:19.294-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(729605135<open>)] for JPA transaction
2025-07-28T05:00:19.297-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4d5f40c5]
2025-07-28T05:00:19.305-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(729605135<open>)] for JPA transaction
2025-07-28T05:00:19.305-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T05:00:19.316-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T05:00:19.317-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T05:00:19.326-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(729605135<open>)] for JPA transaction
2025-07-28T05:00:19.327-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T05:00:19.338-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2025-07-28T05:00:19.339-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(729605135<open>)]
2025-07-28T05:00:19.350-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(729605135<open>)] after transaction
2025-07-28T05:00:19.353-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.UnsupportedOperationException: Unimplemented method 'toResponseDto'
2025-07-28T05:00:19.354-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T05:00:19.355-03:00 ERROR 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.UnsupportedOperationException: Unimplemented method 'toResponseDto'] with root cause

java.lang.UnsupportedOperationException: Unimplemented method 'toResponseDto'
	at com.zlogcompras.model.SolicitacaoCompra.toResponseDto(SolicitacaoCompra.java:257) ~[classes/:na]
	at com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao(ProcessoCompraService.java:257) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768) ~[spring-aop-6.1.8.jar:6.1.8]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720) ~[spring-aop-6.1.8.jar:6.1.8]
	at com.zlogcompras.service.ProcessoCompraService$$SpringCGLIB$$0.atualizarStatusSolicitacao(<generated>) ~[classes/:na]
	at com.zlogcompras.controller.ProcessoCompraController.atualizarStatusSolicitacao(ProcessoCompraController.java:49) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-28T05:00:19.380-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T05:00:19.380-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3ee8613c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6281aaff, org.springframework.security.web.context.SecurityContextHolderFilter@3557197e, org.springframework.security.web.header.HeaderWriterFilter@6ee8b1f5, org.springframework.web.filter.CorsFilter@264e8d2e, org.springframework.security.web.authentication.logout.LogoutFilter@6981f845, com.zlogcompras.config.JwtAuthenticationFilter@4c738b32, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@419c8ac7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@575e5c2f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4debfd96, org.springframework.security.web.session.SessionManagementFilter@17e54693, org.springframework.security.web.access.ExceptionTranslationFilter@2be72288, org.springframework.security.web.access.intercept.AuthorizationFilter@a3ac1e7]] (1/1)
2025-07-28T05:00:19.381-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-07-28T05:00:19.381-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T05:00:19.381-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T05:00:19.382-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T05:00:19.382-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T05:00:19.382-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T05:00:19.383-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T05:00:19.383-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T05:00:19.383-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T05:00:19.383-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T05:00:19.384-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T05:00:19.384-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T05:00:19.384-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T05:00:19.384-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T05:00:19.385-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T05:00:19.385-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing PUT /error
2025-07-28T05:00:19.386-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /error using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000021a01a9cc80@512d025d
2025-07-28T05:00:19.386-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-07-28T05:00:19.387-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error", parameters={}
2025-07-28T05:00:19.387-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]
2025-07-28T05:00:19.388-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-28T05:00:19.397-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T05:00:19.399-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Jul 28 05:00:19 BRT 2025, status=500, error=Internal Server Error, trace=java.lang.UnsupportedOperationException: Unimplemented method 'toResponseDto'
	at com.zlogcompras.model.SolicitacaoCompra.toResponseDto(SolicitacaoCompra.java:257)
	at com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao(ProcessoCompraService.java:257)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.zlogcompras.service.ProcessoCompraService$$SpringCGLIB$$0.atualizarStatusSolicitacao(<generated>)
	at com.zlogcompras.controller.ProcessoCompraController.atualizarStatusSolicitacao(ProcessoCompraController.java:49)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.zlogcompras.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:95)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
, message=Unimplemented method 'toResponseDto', path=/api/processo-compra/1/status/CONCLUIDA}]
2025-07-28T05:00:19.419-03:00 DEBUG 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-07-28T05:00:19.419-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T05:00:19.420-03:00 TRACE 17956 --- [zlog_compras] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-07-28T05:03:38.799-03:00  INFO 17956 --- [zlog_compras] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 21 class path changes (0 additions, 3 deletions, 18 modifications)
2025-07-28T05:03:39.464-03:00  INFO 17956 --- [zlog_compras] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T05:03:39.666-03:00  INFO 17956 --- [zlog_compras] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-28T05:03:39.774-03:00  INFO 17956 --- [zlog_compras] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-28T05:03:41.011-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 17956 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T05:03:41.011-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T05:03:41.014-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T05:03:42.094-03:00  INFO 17956 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T05:03:42.208-03:00  INFO 17956 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 112 ms. Found 12 JPA repository interfaces.
2025-07-28T05:03:42.545-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T05:03:42.554-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T05:03:42.554-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T05:03:42.607-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T05:03:42.607-03:00  INFO 17956 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1558 ms
2025-07-28T05:03:42.860-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T05:03:42.862-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T05:03:42.898-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T05:03:42.953-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T05:03:42.957-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-28T05:03:43.600-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@44aa0671
2025-07-28T05:03:43.604-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-28T05:03:43.604-03:00  WARN 17956 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T05:03:43.648-03:00 ERROR 17956 --- [zlog_compras] [restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes\com\zlogcompras\config\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userDetailsServiceImpl' defined in file [C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes\com\zlogcompras\service\UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.zlogcompras.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-07-28T05:03:43.657-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T05:03:43.662-03:00  WARN 17956 --- [zlog_compras] [restartedMain] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-2 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-07-28T05:03:43.664-03:00  WARN 17956 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-07-28T05:03:43.664-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-28T05:03:43.664-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-28T05:03:43.673-03:00  INFO 17956 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T05:03:43.715-03:00 ERROR 17956 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:516) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:222) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-3.3.0.jar:3.3.0]
	... 11 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes\com\zlogcompras\config\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userDetailsServiceImpl' defined in file [C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes\com\zlogcompras\service\UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.zlogcompras.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4414) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:874) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128) ~[spring-boot-3.3.0.jar:3.3.0]
	... 16 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes\com\zlogcompras\service\UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.zlogcompras.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 57 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.zlogcompras.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1436) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 71 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1167) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.1.8.jar:6.1.8]
	... 85 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: SolicitacaoCompra
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.1.8.jar:6.1.8]
	... 97 common frames omitted
Caused by: java.lang.NoClassDefFoundError: SolicitacaoCompra
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578) ~[na:na]
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676) ~[na:na]
	at org.hibernate.annotations.common.reflection.java.JavaXClass.getDeclaredMethodProperties(JavaXClass.java:137) ~[hibernate-commons-annotations-6.0.6.Final.jar:6.0.6.Final]
	at org.hibernate.annotations.common.reflection.java.JavaXClass.getDeclaredProperties(JavaXClass.java:175) ~[hibernate-commons-annotations-6.0.6.Final.jar:6.0.6.Final]
	at org.hibernate.annotations.common.reflection.java.JavaXClass.getDeclaredProperties(JavaXClass.java:167) ~[hibernate-commons-annotations-6.0.6.Final.jar:6.0.6.Final]
	at org.hibernate.boot.model.internal.InheritanceState.determineDefaultAccessType(InheritanceState.java:259) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.model.internal.InheritanceState.getElementsToProcess(InheritanceState.java:215) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.model.internal.InheritanceState.postProcess(InheritanceState.java:160) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:407) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:248) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:399) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:259) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:281) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:324) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1431) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1502) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 104 common frames omitted
Caused by: java.lang.ClassNotFoundException: SolicitacaoCompra
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 128 common frames omitted

2025-07-28T05:03:48.459-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 17956 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T05:03:48.460-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T05:03:48.460-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T05:03:49.116-03:00  INFO 17956 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T05:03:49.264-03:00  INFO 17956 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 142 ms. Found 13 JPA repository interfaces.
2025-07-28T05:03:49.607-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T05:03:49.612-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T05:03:49.612-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T05:03:49.674-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-28T05:03:49.676-03:00  INFO 17956 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1214 ms
2025-07-28T05:03:49.840-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T05:03:49.840-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T05:03:49.847-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T05:03:49.887-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T05:03:49.889-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-07-28T05:03:49.905-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@69032658
2025-07-28T05:03:49.908-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-07-28T05:03:49.910-03:00  WARN 17956 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T05:03:50.757-03:00 ERROR 17956 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.InstantiationException: Could not instantiate entity 'com.zlogcompras.model.SolicitacaoCompra' due to: null
2025-07-28T05:03:50.764-03:00 ERROR 17956 --- [zlog_compras] [restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes\com\zlogcompras\config\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userDetailsServiceImpl' defined in file [C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes\com\zlogcompras\service\UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.zlogcompras.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-07-28T05:03:50.765-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-28T05:03:50.765-03:00  WARN 17956 --- [zlog_compras] [restartedMain] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-3 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-07-28T05:03:50.765-03:00  WARN 17956 --- [zlog_compras] [restartedMain] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-3 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1583)
2025-07-28T05:03:50.774-03:00  WARN 17956 --- [zlog_compras] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-07-28T05:03:50.775-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-07-28T05:03:50.779-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-07-28T05:03:50.785-03:00  INFO 17956 --- [zlog_compras] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-28T05:03:50.785-03:00 ERROR 17956 --- [zlog_compras] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.zlogcompras.ZlogComprasApplication.main(ZlogComprasApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.3.0.jar:3.3.0]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:516) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:222) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-3.3.0.jar:3.3.0]
	... 11 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes\com\zlogcompras\config\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userDetailsServiceImpl' defined in file [C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes\com\zlogcompras\service\UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.zlogcompras.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4414) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:874) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128) ~[spring-boot-3.3.0.jar:3.3.0]
	... 16 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl' defined in file [C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes\com\zlogcompras\service\UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.zlogcompras.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 57 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.zlogcompras.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1436) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 71 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1167) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.1.8.jar:6.1.8]
	... 85 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.InstantiationException: Could not instantiate entity 'com.zlogcompras.model.SolicitacaoCompra' due to: null
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.1.8.jar:6.1.8]
	... 97 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.InstantiationException: Could not instantiate entity 'com.zlogcompras.model.SolicitacaoCompra' due to: null
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 104 common frames omitted
Caused by: org.hibernate.InstantiationException: Could not instantiate entity 'com.zlogcompras.model.SolicitacaoCompra' due to: null
	at org.hibernate.metamodel.internal.EntityInstantiatorPojoStandard.instantiate(EntityInstantiatorPojoStandard.java:100) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMappingModel$15(AbstractEntityPersister.java:5160) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.util.LazyValue.getValue(LazyValue.java:30) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.internal.UnsavedValueFactory.getUnsavedIdentifierValue(UnsavedValueFactory.java:45) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.metamodel.mapping.internal.BasicEntityIdentifierMappingImpl.<init>(BasicEntityIdentifierMappingImpl.java:119) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.generateIdentifierMapping(AbstractEntityPersister.java:5526) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMappingModel$16(AbstractEntityPersister.java:5165) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.processSubPart(MappingModelCreationProcess.java:163) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.prepareMappingModel(AbstractEntityPersister.java:5163) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.prepareMappingModel(AbstractEntityPersister.java:5009) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:84) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:42) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:199) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:371) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:300) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.1.8.jar:6.1.8]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.8.jar:6.1.8]
	... 108 common frames omitted
Caused by: java.lang.reflect.InvocationTargetException: null
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:74) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486) ~[na:na]
	at org.hibernate.metamodel.internal.EntityInstantiatorPojoStandard.instantiate(EntityInstantiatorPojoStandard.java:97) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	... 127 common frames omitted
Caused by: java.lang.Error: Unresolved compilation problem: 
	Syntax error, insert "}" to complete ClassBody

	at com.zlogcompras.model.SolicitacaoCompra.<init>(SolicitacaoCompra.java:252) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62) ~[na:na]
	... 130 common frames omitted

2025-07-28T05:03:52.290-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 17956 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T05:03:52.291-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T05:03:52.291-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T05:03:52.544-03:00  INFO 17956 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T05:03:52.587-03:00  INFO 17956 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 13 JPA repository interfaces.
2025-07-28T05:03:52.745-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T05:03:52.745-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T05:03:52.745-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T05:03:52.774-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-28T05:03:52.774-03:00  INFO 17956 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 483 ms
2025-07-28T05:03:52.814-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T05:03:52.815-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T05:03:52.815-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T05:03:52.825-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T05:03:52.825-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-07-28T05:03:52.834-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@51edca03
2025-07-28T05:03:52.834-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-07-28T05:03:52.839-03:00  WARN 17956 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T05:03:53.081-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T05:03:53.081-03:00  INFO 17956 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T05:03:53.115-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T05:03:53.115-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T05:03:53.121-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.124-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.138-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.145-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T05:03:53.145-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T05:03:53.145-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.157-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T05:03:53.180-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@22cb5fe4}
2025-07-28T05:03:53.184-03:00  INFO 17956 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T05:03:53.184-03:00  WARN 17956 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T05:03:53.191-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.193-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.195-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T05:03:53.196-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T05:03:53.196-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.207-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.214-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.214-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T05:03:53.214-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T05:03:53.221-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.221-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T05:03:53.221-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T05:03:53.221-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.225-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.229-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.231-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T05:03:53.231-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T05:03:53.231-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.385-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.394-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.398-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T05:03:53.398-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T05:03:53.400-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.415-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.429-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.432-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T05:03:53.432-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T05:03:53.432-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.435-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T05:03:53.435-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T05:03:53.435-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.435-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T05:03:53.435-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T05:03:53.435-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.435-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T05:03:53.435-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T05:03:53.435-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.441-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T05:03:53.441-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T05:03:53.441-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.441-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T05:03:53.441-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T05:03:53.441-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.444-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T05:03:53.444-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T05:03:53.444-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.448-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.448-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.457-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.457-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.460-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T05:03:53.460-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T05:03:53.460-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.460-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T05:03:53.460-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T05:03:53.460-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.464-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T05:03:53.464-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T05:03:53.464-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.474-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.480-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.484-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T05:03:53.484-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T05:03:53.487-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.489-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T05:03:53.489-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T05:03:53.489-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.490-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T05:03:53.490-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T05:03:53.490-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.498-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.498-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.498-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T05:03:53.498-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T05:03:53.505-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.532-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.534-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.535-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T05:03:53.535-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T05:03:53.535-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.535-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T05:03:53.535-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T05:03:53.535-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.539-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T05:03:53.540-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T05:03:53.540-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.625-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-07-28T05:03:53.630-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-07-28T05:03:53.635-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-07-28T05:03:53.637-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
2025-07-28T05:03:53.644-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
2025-07-28T05:03:53.647-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T05:03:53.647-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
2025-07-28T05:03:53.654-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-07-28T05:03:53.654-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T05:03:53.665-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T05:03:53.671-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T05:03:53.671-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T05:03:53.674-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T05:03:53.720-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T05:03:53.744-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fa6734d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1552b55, org.springframework.security.web.context.SecurityContextHolderFilter@19353b7e, org.springframework.security.web.header.HeaderWriterFilter@5b96365e, org.springframework.web.filter.CorsFilter@619f9f0, org.springframework.security.web.authentication.logout.LogoutFilter@195cfa26, com.zlogcompras.config.JwtAuthenticationFilter@331030b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2113729d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4bdd9427, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5978f6f7, org.springframework.security.web.session.SessionManagementFilter@47a3e320, org.springframework.security.web.access.ExceptionTranslationFilter@6efadc91, org.springframework.security.web.access.intercept.AuthorizationFilter@53f199f5]
2025-07-28T05:03:53.786-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T05:03:53.794-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T05:03:53.841-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.841-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.845-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T05:03:53.845-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T05:03:53.845-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.848-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.857-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.857-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T05:03:53.860-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T05:03:53.860-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.899-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T05:03:53.914-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T05:03:53.924-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 1.664 seconds (process running for 296.644)
2025-07-28T05:03:53.931-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:53.979-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T05:03:53.981-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T05:03:54.279-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:03:54.284-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T05:03:54.284-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T05:03:54.289-03:00  INFO 17956 --- [zlog_compras] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-28T05:03:58.526-03:00  INFO 17956 --- [zlog_compras] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-28T05:03:58.550-03:00  INFO 17956 --- [zlog_compras] [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T05:03:58.550-03:00  INFO 17956 --- [zlog_compras] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-07-28T05:03:58.556-03:00  INFO 17956 --- [zlog_compras] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-07-28T05:03:58.901-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 17956 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T05:03:58.901-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T05:03:58.901-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T05:04:00.643-03:00  INFO 17956 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T05:04:00.667-03:00  INFO 17956 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 13 JPA repository interfaces.
2025-07-28T05:04:01.640-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T05:04:01.644-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T05:04:01.644-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T05:04:03.825-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-28T05:04:03.825-03:00  INFO 17956 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4921 ms
2025-07-28T05:04:04.459-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T05:04:04.459-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T05:04:04.467-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T05:04:04.475-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T05:04:04.475-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-07-28T05:04:05.088-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5b7c994e
2025-07-28T05:04:05.097-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-07-28T05:04:05.098-03:00  WARN 17956 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T05:04:05.564-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T05:04:05.566-03:00  INFO 17956 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T05:04:05.589-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T05:04:05.592-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T05:04:05.592-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.599-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.606-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T05:04:05.607-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T05:04:05.607-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.624-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T05:04:05.640-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@4b3e76c6}
2025-07-28T05:04:05.642-03:00  INFO 17956 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T05:04:05.644-03:00  WARN 17956 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T05:04:05.648-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.648-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.648-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T05:04:05.648-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T05:04:05.654-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.658-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.664-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.673-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T05:04:05.674-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T05:04:05.674-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.674-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T05:04:05.674-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T05:04:05.677-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.685-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.686-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.686-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T05:04:05.686-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T05:04:05.686-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.756-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.768-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.770-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T05:04:05.770-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T05:04:05.770-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.776-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.800-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.800-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T05:04:05.800-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T05:04:05.805-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.806-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T05:04:05.806-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T05:04:05.806-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.806-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T05:04:05.806-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T05:04:05.806-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.806-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T05:04:05.806-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T05:04:05.806-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.806-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T05:04:05.806-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T05:04:05.814-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.814-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T05:04:05.814-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T05:04:05.814-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.814-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T05:04:05.814-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T05:04:05.814-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.823-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.823-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.828-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.831-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.835-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T05:04:05.835-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T05:04:05.835-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.838-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T05:04:05.838-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T05:04:05.838-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.840-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T05:04:05.840-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T05:04:05.840-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.848-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.857-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.857-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T05:04:05.857-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T05:04:05.857-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.857-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T05:04:05.862-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T05:04:05.862-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.862-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T05:04:05.862-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T05:04:05.862-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.865-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.873-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.875-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T05:04:05.875-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T05:04:05.875-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.898-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.904-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.907-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T05:04:05.907-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T05:04:05.907-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.907-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T05:04:05.907-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T05:04:05.907-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:05.912-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T05:04:05.912-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T05:04:05.912-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:06.044-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-07-28T05:04:06.044-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-07-28T05:04:06.044-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-07-28T05:04:06.055-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
2025-07-28T05:04:06.055-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
2025-07-28T05:04:06.063-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T05:04:06.063-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
2025-07-28T05:04:06.064-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
2025-07-28T05:04:06.068-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T05:04:06.069-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T05:04:06.073-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T05:04:06.074-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T05:04:06.074-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T05:04:06.106-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T05:04:06.114-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5cab394b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68ec554a, org.springframework.security.web.context.SecurityContextHolderFilter@78ed4082, org.springframework.security.web.header.HeaderWriterFilter@3ba17247, org.springframework.web.filter.CorsFilter@4e443779, org.springframework.security.web.authentication.logout.LogoutFilter@cd71480, com.zlogcompras.config.JwtAuthenticationFilter@370deb49, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f122570, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f915b9f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ab500a1, org.springframework.security.web.session.SessionManagementFilter@5b6958a2, org.springframework.security.web.access.ExceptionTranslationFilter@2e6d2aad, org.springframework.security.web.access.intercept.AuthorizationFilter@270873bb]
2025-07-28T05:04:06.142-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T05:04:06.145-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T05:04:06.174-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:06.178-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:06.182-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T05:04:06.182-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T05:04:06.182-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:06.190-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:06.194-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:06.194-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T05:04:06.194-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T05:04:06.194-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:06.215-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T05:04:06.224-03:00  INFO 17956 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T05:04:06.231-03:00  INFO 17956 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 7.42 seconds (process running for 308.95)
2025-07-28T05:04:06.234-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:06.266-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T05:04:06.266-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T05:04:06.284-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:04:06.289-03:00 DEBUG 17956 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T05:04:06.290-03:00 TRACE 17956 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T05:04:06.290-03:00  INFO 17956 --- [zlog_compras] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-28T05:18:23.533-03:00  INFO 20636 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Starting ZlogComprasApplicationTests using Java 21.0.8 with PID 20636 (started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T05:18:23.546-03:00 DEBUG 20636 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T05:18:23.547-03:00  INFO 20636 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : The following 1 profile is active: "test"
2025-07-28T05:18:23.622-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0
2025-07-28T05:18:29.076-03:00 DEBUG 20636 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T05:18:31.979-03:00  INFO 20636 --- [zlog_compras] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T05:18:32.409-03:00  WARN 20636 --- [zlog_compras] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T05:18:35.482-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-07-28T05:18:35.494-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-07-28T05:18:35.494-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-07-28T05:18:35.494-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-07-28T05:18:35.495-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-07-28T05:18:35.496-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-07-28T05:18:35.497-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-07-28T05:18:35.497-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-07-28T05:18:35.498-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-07-28T05:18:35.499-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-07-28T05:18:35.500-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-07-28T05:18:35.502-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-07-28T05:18:35.502-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-07-28T05:18:35.503-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-07-28T05:18:35.516-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table estoque (
        quantidade integer not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        data_ultima_entrada timestamp(6),
        data_ultima_saida timestamp(6),
        id bigint generated by default as identity,
        produto_id bigint not null,
        version bigint,
        localizacao varchar(255),
        observacoes varchar(255),
        primary key (id)
    )
2025-07-28T05:18:35.550-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table fornecedores (
        id bigint generated by default as identity,
        version bigint,
        telefone varchar(15),
        cnpj varchar(18) not null unique,
        contato varchar(255),
        email varchar(255) unique,
        endereco varchar(255) not null,
        razao_social varchar(255) not null,
        primary key (id)
    )
2025-07-28T05:18:35.556-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_orcamento (
        preco_unitario_cotado numeric(12,2) not null,
        quantidade numeric(10,3) not null,
        id bigint generated by default as identity,
        orcamento_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida_produto varchar(20),
        codigo_produto varchar(50),
        nome_produto varchar(255) not null,
        observacoes varchar(255),
        primary key (id)
    )
2025-07-28T05:18:35.560-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_pedido_compra (
        preco_unitario numeric(12,2) not null,
        quantidade integer not null,
        subtotal numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        produto_id bigint not null,
        version bigint,
        unidade_medida varchar(50),
        codigo_produto varchar(100),
        observacoes varchar(500),
        nome_produto varchar(255),
        primary key (id)
    )
2025-07-28T05:18:35.564-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table itens_solicitacao_compra (
        quantidade numeric(10,3) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        produto_id bigint not null,
        solicitacao_compra_id bigint not null,
        version bigint,
        descricao_adicional varchar(255),
        status enum ('AGUARDANDO_ORCAMENTO','APROVADO','CANCELADO','COMPRADO','EM_COMPRA','ORCAMENTO_RECEBIDO','PENDENTE','REJEITADO') not null,
        primary key (id)
    )
2025-07-28T05:18:35.569-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table movimentacoes_estoque (
        quantidade numeric(10,3) not null,
        data_movimentacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        codigo_material varchar(255) not null,
        referencia varchar(255),
        tipo_movimentacao varchar(255) not null,
        primary key (id)
    )
2025-07-28T05:18:35.572-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table notas_fiscais (
        data_emissao date not null,
        valor_total numeric(12,2) not null,
        id bigint generated by default as identity,
        pedido_compra_id bigint not null,
        version bigint,
        numero_nota_fiscal varchar(255) not null unique,
        primary key (id)
    )
2025-07-28T05:18:35.579-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table orcamentos (
        data_cotacao date not null,
        valor_total numeric(12,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        fornecedor_id bigint not null,
        id bigint generated by default as identity,
        solicitacao_compra_id bigint not null,
        version bigint,
        condicoes_pagamento varchar(255),
        numero_orcamento varchar(255) not null,
        observacoes varchar(255),
        prazo_entrega varchar(255),
        status enum ('ABERTO','AGUARDANDO_APROVACAO','APROVADO','CANCELADO','CONCLUIDO','COTADO','PEDIDO_GERADO','PENDENTE','RECUSADO','REJEITADO') not null,
        primary key (id)
    )
2025-07-28T05:18:35.586-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table pedidos_compra (
        data_pedido date,
        valor_total numeric(38,2),
        fornecedor_id bigint,
        id bigint generated by default as identity,
        orcamento_id bigint unique,
        observacoes varchar(255),
        status enum ('AGUARDANDO_APROVACAO','AGUARDANDO_ENVIO','APROVADO','CANCELADO','CONCLUIDO','ENVIADO','FINALIZADO','PENDENTE','RECEBIDO_PARCIALMENTE','RECEBIDO_TOTALMENTE','RECUSADO','REJEITADO_PELO_FORNECEDOR'),
        primary key (id)
    )
2025-07-28T05:18:35.612-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table produtos (
        estoque integer not null,
        preco_unitario numeric(10,2) not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        categoria varchar(50) not null,
        codigo varchar(50) not null unique,
        codigo_produto varchar(50) not null unique,
        descricao varchar(255),
        nome varchar(255),
        unidade_medida varchar(255) not null,
        primary key (id)
    )
2025-07-28T05:18:35.625-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table roles (
        id bigint generated by default as identity,
        name varchar(255) not null unique,
        primary key (id)
    )
2025-07-28T05:18:35.631-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table solicitacoes_compra (
        data_solicitacao date not null,
        data_atualizacao timestamp(6) not null,
        data_criacao timestamp(6) not null,
        id bigint generated by default as identity,
        version bigint,
        descricao varchar(255),
        solicitante varchar(255) not null,
        status enum ('ABERTA','AGUARDANDO_PARECER','CANCELADA','CONCLUIDA','EM_ANDAMENTO','ORCAMENTO_APROVADO','PEDIDO_GERADO','PENDENTE','REJEITADO','SUSPENSO') not null,
        primary key (id)
    )
2025-07-28T05:18:35.636-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table user_roles (
        role_id bigint not null,
        user_id bigint not null,
        primary key (role_id, user_id)
    )
2025-07-28T05:18:35.639-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    create table users (
        enabled boolean not null,
        id bigint generated by default as identity,
        password varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-07-28T05:18:35.643-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists estoque 
       add constraint FKmonotpf9w7pfuomk89nqxgeq1 
       foreign key (produto_id) 
       references produtos
2025-07-28T05:18:35.676-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKqlfm2lrgelma3n8kwabcvw9qh 
       foreign key (orcamento_id) 
       references orcamentos
2025-07-28T05:18:35.680-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_orcamento 
       add constraint FKbc0qr2yj9stqdgavwvoohki0m 
       foreign key (produto_id) 
       references produtos
2025-07-28T05:18:35.696-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FK8p88mt761a5vacmlhrc68148b 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-07-28T05:18:35.702-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_pedido_compra 
       add constraint FKrv4ebgf6fdlg2v3b6dcbep8dn 
       foreign key (produto_id) 
       references produtos
2025-07-28T05:18:35.705-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FKntep08q88crstb33ej6npyul5 
       foreign key (produto_id) 
       references produtos
2025-07-28T05:18:35.709-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists itens_solicitacao_compra 
       add constraint FK19xietjd5tfpljngdy8daw06x 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-07-28T05:18:35.712-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists notas_fiscais 
       add constraint FKe4e784ip50emjknglqkpkovg4 
       foreign key (pedido_compra_id) 
       references pedidos_compra
2025-07-28T05:18:35.716-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FKntj4otux0et5xc0cm2lgq3uey 
       foreign key (fornecedor_id) 
       references fornecedores
2025-07-28T05:18:35.720-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists orcamentos 
       add constraint FK5bj47al0ogq18q5ge2roy9e53 
       foreign key (solicitacao_compra_id) 
       references solicitacoes_compra
2025-07-28T05:18:35.722-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FKan3yv2vk5m3gbphqf4f6yxj4j 
       foreign key (fornecedor_id) 
       references fornecedores
2025-07-28T05:18:35.727-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists pedidos_compra 
       add constraint FK5f0lurv407qu48ns0sdhky4du 
       foreign key (orcamento_id) 
       references orcamentos
2025-07-28T05:18:35.728-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-07-28T05:18:35.733-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-28T05:18:35.757-03:00  INFO 20636 --- [zlog_compras] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T05:18:35.976-03:00 DEBUG 20636 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T05:18:36.010-03:00 DEBUG 20636 --- [zlog_compras] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T05:18:36.053-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:36.144-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:36.280-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:36.363-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T05:18:36.370-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T05:18:36.378-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:36.578-03:00 TRACE 20636 --- [zlog_compras] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@4e1fd34b}
2025-07-28T05:18:36.642-03:00  INFO 20636 --- [zlog_compras] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T05:18:36.643-03:00  WARN 20636 --- [zlog_compras] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T05:18:36.652-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:36.654-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:36.658-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T05:18:36.659-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T05:18:36.659-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:36.683-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:36.701-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:36.705-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T05:18:36.706-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T05:18:36.706-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:36.709-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T05:18:36.710-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T05:18:36.711-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:36.737-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:36.738-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:36.741-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T05:18:36.742-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T05:18:36.742-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.802-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.806-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.808-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T05:18:37.808-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T05:18:37.808-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.833-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.871-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.876-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T05:18:37.877-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T05:18:37.877-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.884-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T05:18:37.885-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T05:18:37.885-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.887-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T05:18:37.888-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T05:18:37.888-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.905-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T05:18:37.907-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T05:18:37.907-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.910-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T05:18:37.913-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T05:18:37.914-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.916-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T05:18:37.919-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T05:18:37.920-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.923-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T05:18:37.924-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T05:18:37.924-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.943-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.944-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.962-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.963-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.969-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T05:18:37.971-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T05:18:37.971-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.973-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T05:18:37.974-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T05:18:37.974-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.976-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T05:18:37.977-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T05:18:37.977-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:37.995-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:38.013-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:38.016-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T05:18:38.017-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T05:18:38.017-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:38.019-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T05:18:38.020-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T05:18:38.020-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:38.027-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T05:18:38.028-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T05:18:38.028-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:38.040-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:38.041-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:38.043-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T05:18:38.044-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T05:18:38.045-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:38.110-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:38.111-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:38.114-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T05:18:38.114-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T05:18:38.114-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:38.116-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T05:18:38.117-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T05:18:38.118-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:38.119-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T05:18:38.120-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T05:18:38.120-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:38.840-03:00 TRACE 20636 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-07-28T05:18:38.858-03:00 TRACE 20636 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
2025-07-28T05:18:38.870-03:00 TRACE 20636 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
2025-07-28T05:18:38.876-03:00 TRACE 20636 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
2025-07-28T05:18:38.883-03:00 TRACE 20636 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
2025-07-28T05:18:38.890-03:00 TRACE 20636 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
2025-07-28T05:18:38.893-03:00 TRACE 20636 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{GET [/api/produtos]}: listarTodosProdutos()
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
2025-07-28T05:18:38.897-03:00 TRACE 20636 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
2025-07-28T05:18:38.907-03:00 TRACE 20636 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T05:18:39.204-03:00 TRACE 20636 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T05:18:39.207-03:00 TRACE 20636 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T05:18:39.208-03:00 TRACE 20636 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T05:18:39.212-03:00 DEBUG 20636 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T05:18:39.488-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T05:18:39.577-03:00  INFO 20636 --- [zlog_compras] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6fa741b5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@618a237f, org.springframework.security.web.context.SecurityContextHolderFilter@5f4491b9, org.springframework.security.web.header.HeaderWriterFilter@16d869de, org.springframework.web.filter.CorsFilter@6c5abd8f, org.springframework.security.web.authentication.logout.LogoutFilter@163427b6, com.zlogcompras.config.JwtAuthenticationFilter@74ae2dec, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5582249c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e1437aa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f940a24, org.springframework.security.web.session.SessionManagementFilter@f3745b2, org.springframework.security.web.access.ExceptionTranslationFilter@249b2dd4, org.springframework.security.web.access.intercept.AuthorizationFilter@20a5bf0e]
2025-07-28T05:18:39.932-03:00 DEBUG 20636 --- [zlog_compras] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T05:18:39.983-03:00 DEBUG 20636 --- [zlog_compras] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T05:18:40.182-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:40.188-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:40.191-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T05:18:40.192-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T05:18:40.192-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:40.209-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:40.214-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:40.217-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T05:18:40.217-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T05:18:40.217-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:40.732-03:00  INFO 20636 --- [zlog_compras] [main] c.z.ZlogComprasApplicationTests          : Started ZlogComprasApplicationTests in 18.263 seconds (process running for 25.012)
2025-07-28T05:18:40.751-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:41.041-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T05:18:41.045-03:00 TRACE 20636 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T05:18:41.066-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T05:18:41.066-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1976612821<open>)] for JPA transaction
2025-07-28T05:18:41.073-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7e5b34c1]
2025-07-28T05:18:41.115-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-07-28T05:18:41.120-03:00 TRACE 20636 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T05:18:41.158-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T05:18:41.159-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1976612821<open>)]
2025-07-28T05:18:41.169-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1976612821<open>)] after transaction
2025-07-28T05:18:41.170-03:00 DEBUG 20636 --- [zlog_compras] [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:41.170-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T05:18:41.172-03:00 TRACE 20636 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T05:18:41.174-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T05:18:41.174-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(2040854323<open>)] for JPA transaction
2025-07-28T05:18:41.175-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@448ec893]
2025-07-28T05:18:41.175-03:00 DEBUG 20636 --- [zlog_compras] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (name, id) 
    values
        (?, default)
2025-07-28T05:18:41.175-03:00 TRACE 20636 --- [zlog_compras] [main] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T05:18:41.176-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T05:18:41.177-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2040854323<open>)]
2025-07-28T05:18:41.177-03:00 DEBUG 20636 --- [zlog_compras] [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(2040854323<open>)] after transaction
2025-07-28T05:18:41.256-03:00 DEBUG 20636 --- [zlog_compras] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2565a7d0, started on Mon Jul 28 05:18:23 BRT 2025
2025-07-28T05:18:41.263-03:00  INFO 20636 --- [zlog_compras] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T05:18:41.265-03:00 DEBUG 20636 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists estoque cascade 
2025-07-28T05:18:41.273-03:00 DEBUG 20636 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists fornecedores cascade 
2025-07-28T05:18:41.276-03:00 DEBUG 20636 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_orcamento cascade 
2025-07-28T05:18:41.277-03:00 DEBUG 20636 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_pedido_compra cascade 
2025-07-28T05:18:41.278-03:00 DEBUG 20636 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists itens_solicitacao_compra cascade 
2025-07-28T05:18:41.280-03:00 DEBUG 20636 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists movimentacoes_estoque cascade 
2025-07-28T05:18:41.282-03:00 DEBUG 20636 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notas_fiscais cascade 
2025-07-28T05:18:41.284-03:00 DEBUG 20636 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists orcamentos cascade 
2025-07-28T05:18:41.285-03:00 DEBUG 20636 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists pedidos_compra cascade 
2025-07-28T05:18:41.288-03:00 DEBUG 20636 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists produtos cascade 
2025-07-28T05:18:41.290-03:00 DEBUG 20636 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-07-28T05:18:41.291-03:00 DEBUG 20636 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists solicitacoes_compra cascade 
2025-07-28T05:18:41.292-03:00 DEBUG 20636 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-07-28T05:18:41.292-03:00 DEBUG 20636 --- [zlog_compras] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-07-28T05:18:50.141-03:00  INFO 8668 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 8668 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T05:18:50.145-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T05:18:50.146-03:00  INFO 8668 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T05:18:50.235-03:00  INFO 8668 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28T05:18:50.235-03:00  INFO 8668 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28T05:18:51.979-03:00  INFO 8668 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T05:18:52.142-03:00  INFO 8668 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 152 ms. Found 13 JPA repository interfaces.
2025-07-28T05:18:53.525-03:00  INFO 8668 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T05:18:53.559-03:00  INFO 8668 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T05:18:53.559-03:00  INFO 8668 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T05:18:53.650-03:00  INFO 8668 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T05:18:53.651-03:00  INFO 8668 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3414 ms
2025-07-28T05:18:53.925-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T05:18:53.957-03:00  INFO 8668 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T05:18:54.100-03:00  INFO 8668 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-07-28T05:18:54.162-03:00  INFO 8668 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T05:18:54.631-03:00  INFO 8668 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T05:18:54.674-03:00  INFO 8668 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-28T05:18:55.342-03:00  INFO 8668 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@65ba8090
2025-07-28T05:18:55.344-03:00  INFO 8668 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-28T05:18:55.754-03:00  WARN 8668 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T05:18:57.336-03:00  INFO 8668 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T05:18:57.340-03:00  INFO 8668 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T05:18:57.416-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T05:18:57.443-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T05:18:57.572-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:57.660-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:57.776-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:57.843-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T05:18:57.853-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T05:18:57.859-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.017-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T05:18:58.089-03:00 TRACE 8668 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@66135e70}
2025-07-28T05:18:58.132-03:00  INFO 8668 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T05:18:58.133-03:00  WARN 8668 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T05:18:58.140-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.145-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.152-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T05:18:58.153-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T05:18:58.154-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.182-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.197-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.200-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T05:18:58.201-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T05:18:58.202-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.214-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T05:18:58.215-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T05:18:58.215-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.229-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.231-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.237-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T05:18:58.238-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T05:18:58.239-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.870-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.877-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.880-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T05:18:58.881-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T05:18:58.881-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.912-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.943-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.947-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T05:18:58.947-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T05:18:58.947-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.955-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T05:18:58.957-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T05:18:58.957-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.959-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T05:18:58.960-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T05:18:58.960-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.963-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T05:18:58.964-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T05:18:58.965-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.968-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T05:18:58.969-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T05:18:58.969-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.972-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T05:18:58.973-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T05:18:58.974-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.976-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T05:18:58.977-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T05:18:58.977-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.989-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:58.990-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.001-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.003-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.006-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T05:18:59.007-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T05:18:59.007-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.009-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T05:18:59.010-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T05:18:59.010-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.013-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T05:18:59.014-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T05:18:59.015-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.034-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.049-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.053-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T05:18:59.054-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T05:18:59.055-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.062-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T05:18:59.063-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T05:18:59.063-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.067-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T05:18:59.068-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T05:18:59.068-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.079-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.081-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.085-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T05:18:59.087-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T05:18:59.088-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.156-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.157-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.160-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T05:18:59.161-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T05:18:59.162-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.164-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T05:18:59.167-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T05:18:59.168-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.171-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T05:18:59.171-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T05:18:59.171-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:18:59.630-03:00 TRACE 8668 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
2025-07-28T05:18:59.644-03:00 TRACE 8668 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{GET [/api/estoques]}: listarTodosEstoques()
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
2025-07-28T05:18:59.657-03:00 TRACE 8668 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
2025-07-28T05:18:59.663-03:00 TRACE 8668 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
2025-07-28T05:18:59.673-03:00 TRACE 8668 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T05:18:59.691-03:00 TRACE 8668 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
2025-07-28T05:18:59.696-03:00 TRACE 8668 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{GET [/api/produtos]}: listarTodosProdutos()
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
2025-07-28T05:18:59.700-03:00 TRACE 8668 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
2025-07-28T05:18:59.711-03:00 TRACE 8668 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T05:18:59.738-03:00 TRACE 8668 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
2025-07-28T05:18:59.741-03:00 TRACE 8668 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T05:18:59.744-03:00 TRACE 8668 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T05:18:59.747-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T05:18:59.879-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T05:18:59.946-03:00  INFO 8668 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ebb9923, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@134d2998, org.springframework.security.web.context.SecurityContextHolderFilter@132a7148, org.springframework.security.web.header.HeaderWriterFilter@1be46b0, org.springframework.web.filter.CorsFilter@5d86e24, org.springframework.security.web.authentication.logout.LogoutFilter@111cf435, com.zlogcompras.config.JwtAuthenticationFilter@3681ecfd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@608b702b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@384a0394, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ad5c56a, org.springframework.security.web.session.SessionManagementFilter@48233f3f, org.springframework.security.web.access.ExceptionTranslationFilter@366993f7, org.springframework.security.web.access.intercept.AuthorizationFilter@7ebe78b4]
2025-07-28T05:19:00.127-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T05:19:00.186-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T05:19:00.407-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:00.411-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:00.413-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T05:19:00.414-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T05:19:00.415-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:00.424-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:00.428-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:00.431-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T05:19:00.431-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T05:19:00.432-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:00.564-03:00  INFO 8668 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T05:19:00.623-03:00  INFO 8668 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T05:19:00.640-03:00  INFO 8668 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 11.167 seconds (process running for 13.046)
2025-07-28T05:19:00.657-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:00.870-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T05:19:00.878-03:00 TRACE 8668 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T05:19:01.001-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:01.004-03:00 DEBUG 8668 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T05:19:01.006-03:00 TRACE 8668 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T05:19:01.222-03:00  INFO 8668 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2025-07-28T05:19:01.248-03:00  INFO 8668 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T05:19:01.260-03:00  INFO 8668 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-28T05:19:01.281-03:00  INFO 8668 --- [zlog_compras] [RMI TCP Connection(2)-127.0.0.1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-28T05:19:20.266-03:00  INFO 11412 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Starting ZlogComprasApplication using Java 21.0.8 with PID 11412 (C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS\target\classes started by DELL in C:\Users\DELL\ZLOG_COMPRAS\ZLOG_COMPRAS)
2025-07-28T05:19:20.269-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Running with Spring Boot v3.3.0, Spring v6.1.8
2025-07-28T05:19:20.269-03:00  INFO 11412 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : No active profile set, falling back to 1 default profile: "default"
2025-07-28T05:19:20.348-03:00  INFO 11412 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28T05:19:20.348-03:00  INFO 11412 --- [zlog_compras] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28T05:19:21.431-03:00  INFO 11412 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T05:19:21.564-03:00  INFO 11412 --- [zlog_compras] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 121 ms. Found 13 JPA repository interfaces.
2025-07-28T05:19:22.398-03:00  INFO 11412 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T05:19:22.419-03:00  INFO 11412 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T05:19:22.419-03:00  INFO 11412 --- [zlog_compras] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2025-07-28T05:19:22.486-03:00  INFO 11412 --- [zlog_compras] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T05:19:22.486-03:00  INFO 11412 --- [zlog_compras] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2138 ms
2025-07-28T05:19:22.643-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2025-07-28T05:19:22.659-03:00  INFO 11412 --- [zlog_compras] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T05:19:22.731-03:00  INFO 11412 --- [zlog_compras] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-07-28T05:19:22.765-03:00  INFO 11412 --- [zlog_compras] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T05:19:23.035-03:00  INFO 11412 --- [zlog_compras] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T05:19:23.064-03:00  INFO 11412 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-28T05:19:23.267-03:00  INFO 11412 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5c69d6a
2025-07-28T05:19:23.274-03:00  INFO 11412 --- [zlog_compras] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-28T05:19:23.349-03:00  WARN 11412 --- [zlog_compras] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T05:19:24.886-03:00  INFO 11412 --- [zlog_compras] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-28T05:19:24.886-03:00  INFO 11412 --- [zlog_compras] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-28T05:19:24.930-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-07-28T05:19:24.947-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-07-28T05:19:24.981-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.045-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.134-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.191-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query User.findByUsername
2025-07-28T05:19:25.193-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query User.findByUsername
2025-07-28T05:19:25.197-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.304-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] c.z.config.JwtAuthenticationFilter       : Filter 'jwtAuthenticationFilter' configured for use
2025-07-28T05:19:25.368-03:00 TRACE 11412 --- [zlog_compras] [restartedMain] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {securityConfig=com.zlogcompras.config.SecurityConfig$$SpringCGLIB$$0@19d32ac5}
2025-07-28T05:19:25.401-03:00  INFO 11412 --- [zlog_compras] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-28T05:19:25.401-03:00  WARN 11412 --- [zlog_compras] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-28T05:19:25.411-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.415-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.417-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Role.findByName
2025-07-28T05:19:25.420-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Role.findByName
2025-07-28T05:19:25.421-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.436-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.453-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.453-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto_CodigoProduto
2025-07-28T05:19:25.459-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto_CodigoProduto
2025-07-28T05:19:25.459-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.460-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Estoque.findByProduto
2025-07-28T05:19:25.460-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Estoque.findByProduto
2025-07-28T05:19:25.460-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.475-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.475-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.478-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Produto.findByCodigoProduto
2025-07-28T05:19:25.478-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Produto.findByCodigoProduto
2025-07-28T05:19:25.478-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.884-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.884-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.894-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Fornecedor.findByCnpj
2025-07-28T05:19:25.896-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Fornecedor.findByCnpj
2025-07-28T05:19:25.896-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.914-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.949-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.958-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T05:19:25.958-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNot
2025-07-28T05:19:25.958-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.964-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByStatus
2025-07-28T05:19:25.964-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByStatus
2025-07-28T05:19:25.967-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.967-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T05:19:25.967-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraIdAndIdNotAndStatus
2025-07-28T05:19:25.967-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.967-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompraId
2025-07-28T05:19:25.967-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompraId
2025-07-28T05:19:25.967-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.976-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByDataCotacaoBetween
2025-07-28T05:19:25.976-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByDataCotacaoBetween
2025-07-28T05:19:25.976-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.976-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findByFornecedor_Id
2025-07-28T05:19:25.976-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findByFornecedor_Id
2025-07-28T05:19:25.976-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.982-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T05:19:25.983-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query Orcamento.findBySolicitacaoCompra_Id
2025-07-28T05:19:25.983-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.992-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.992-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:25.997-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.004-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.006-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.deleteByProduto_Id
2025-07-28T05:19:26.006-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.deleteByProduto_Id
2025-07-28T05:19:26.006-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.006-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByProduto_Id
2025-07-28T05:19:26.006-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByProduto_Id
2025-07-28T05:19:26.006-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.012-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemOrcamento.findByOrcamento_Id
2025-07-28T05:19:26.012-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemOrcamento.findByOrcamento_Id
2025-07-28T05:19:26.012-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.022-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.031-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.040-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.existsByOrcamentoId
2025-07-28T05:19:26.040-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.existsByOrcamentoId
2025-07-28T05:19:26.040-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.040-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByFornecedorId
2025-07-28T05:19:26.040-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByFornecedorId
2025-07-28T05:19:26.040-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.047-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query PedidoCompra.findByStatus
2025-07-28T05:19:26.051-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query PedidoCompra.findByStatus
2025-07-28T05:19:26.051-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.055-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.055-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.060-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T05:19:26.060-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemPedidoCompra.findByPedidoCompraId
2025-07-28T05:19:26.060-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.097-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.097-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.107-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T05:19:26.107-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.deleteByProduto_Id
2025-07-28T05:19:26.107-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.107-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T05:19:26.107-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findBySolicitacaoCompraId
2025-07-28T05:19:26.107-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.107-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T05:19:26.112-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query ItemSolicitacaoCompra.findByProduto_Id
2025-07-28T05:19:26.112-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.347-03:00 TRACE 11412 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.AuthController:
	{POST [/api/auth/register]}: registerUser(RegisterRequestDTO)
	{POST [/api/auth/login]}: authenticateUser(LoginRequestDTO)
2025-07-28T05:19:26.363-03:00 TRACE 11412 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.EstoqueController:
	{GET [/api/estoques/produto/{codigoProduto}]}: buscarEstoquePorCodigoProduto(String)
	{PUT [/api/estoques/{id}/retirar-quantidade]}: retirarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{POST [/api/estoques/batch]}: criarMultiplosEstoques(List)
	{PUT [/api/estoques/{id}/adicionar-quantidade]}: adicionarQuantidadeEstoque(Long,EstoqueMovimentacaoDTO)
	{GET [/api/estoques]}: listarTodosEstoques()
	{DELETE [/api/estoques/{id}]}: deletarEstoque(Long)
	{POST [/api/estoques]}: criarEstoque(EstoqueRequestDTO)
	{GET [/api/estoques/{id}]}: buscarEstoquePorId(Long)
	{PUT [/api/estoques/{id}]}: atualizarEstoque(Long,EstoqueRequestDTO)
2025-07-28T05:19:26.380-03:00 TRACE 11412 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.FornecedorController:
	{PUT [/api/fornecedores/{id}]}: atualizarFornecedor(Long,FornecedorRequestDTO)
	{GET [/api/fornecedores/{id}]}: buscarFornecedorPorId(Long)
	{GET [/api/fornecedores]}: listarTodosFornecedores()
	{DELETE [/api/fornecedores/{id}]}: deletarFornecedor(Long)
	{POST [/api/fornecedores]}: criarFornecedor(FornecedorRequestDTO)
2025-07-28T05:19:26.385-03:00 TRACE 11412 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.OrcamentoController:
	{POST [/api/orcamentos/lote]}: criarOrcamentosEmLote(OrcamentoLoteRequestDTO)
	{GET [/api/orcamentos/{id}]}: buscarOrcamentoPorId(Long)
	{DELETE [/api/orcamentos/{id}]}: deletarOrcamento(Long)
	{GET [/api/orcamentos]}: listarOrcamentos()
	{PUT [/api/orcamentos/{id}]}: atualizarOrcamento(Long,OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/concluir]}: concluirOrcamento(Long)
	{POST [/api/orcamentos]}: criarOrcamento(OrcamentoRequestDTO)
	{PATCH [/api/orcamentos/{id}/aprovar]}: aprovarOrcamento(Long)
	{PATCH [/api/orcamentos/{id}/recusar]}: recusarOrcamento(Long)
2025-07-28T05:19:26.393-03:00 TRACE 11412 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.PedidoCompraController:
	{PUT [/api/pedidos-compra/{id}/status]}: atualizarStatusPedido(Long,StatusPedidoCompra)
	{PUT [/api/pedidos-compra/{id}]}: atualizarPedidoCompra(Long,PedidoCompraUpdateDTO)
	{PUT [/api/pedidos-compra/{id}/cancelar]}: cancelarPedidoCompra(Long)
	{POST [/api/pedidos-compra/{id}/itens]}: adicionarItensAoPedido(Long,List)
	{POST [/api/pedidos-compra]}: criarPedidoCompra(PedidoCompraRequestDTO)
	{DELETE [/api/pedidos-compra/{id}]}: deletarPedido(Long)
	{GET [/api/pedidos-compra]}: listarTodosPedidos()
	{GET [/api/pedidos-compra/{id}]}: buscarPedidoPorId(Long)
2025-07-28T05:19:26.401-03:00 TRACE 11412 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProcessoCompraController:
	{POST [/api/processo-compra/iniciar/{solicitacaoId}]}: iniciarProcessoCompra(Long)
	{POST [/api/processo-compra/gerar-pedido/{orcamentoId}]}: gerarPedidoDeCompra(Long)
	{PUT [/api/processo-compra/{solicitacaoId}/status/{novoStatus}]}: atualizarStatusSolicitacao(Long,StatusSolicitacaoCompra)
2025-07-28T05:19:26.405-03:00 TRACE 11412 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.ProdutoController:
	{POST [/api/produtos/lote]}: criarMultiplosProdutos(List)
	{GET [/api/produtos]}: listarTodosProdutos()
	{PUT [/api/produtos/{id}]}: atualizarProduto(Long,ProdutoRequestDTO)
	{POST [/api/produtos]}: criarProduto(ProdutoRequestDTO)
	{GET [/api/produtos/{id}]}: buscarProdutoPorId(Long)
	{DELETE [/api/produtos/{id}]}: deletarProduto(Long)
2025-07-28T05:19:26.410-03:00 TRACE 11412 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	c.z.c.SolicitacaoCompraController:
	{GET [/api/solicitacoes-compra]}: listarTodasSolicitacoes()
	{PUT [/api/solicitacoes-compra/{id}]}: atualizarSolicitacao(Long,SolicitacaoCompraRequestDTO)
	{GET [/api/solicitacoes-compra/{id}]}: buscarSolicitacaoPorId(Long)
	{POST [/api/solicitacoes-compra]}: criarSolicitacao(SolicitacaoCompraRequestDTO)
	{DELETE [/api/solicitacoes-compra/{id}]}: deletarSolicitacao(Long)
2025-07-28T05:19:26.418-03:00 TRACE 11412 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-07-28T05:19:26.448-03:00 TRACE 11412 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.a.OpenApiWebMvcResource:
	{GET [/v3/api-docs], produces [application/json]}: openapiJson(HttpServletRequest,String,Locale)
	{GET [/v3/api-docs.yaml], produces [application/vnd.oai.openapi]}: openapiYaml(HttpServletRequest,String,Locale)
2025-07-28T05:19:26.448-03:00 TRACE 11412 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerWelcomeWebMvc:
	{GET [/swagger-ui.html]}: redirectToUi(HttpServletRequest)
2025-07-28T05:19:26.456-03:00 TRACE 11412 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 
	o.s.w.u.SwaggerConfigResource:
	{GET [/v3/api-docs/swagger-config], produces [application/json]}: openapiJson(HttpServletRequest)
2025-07-28T05:19:26.456-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 53 mappings in 'requestMappingHandlerMapping'
2025-07-28T05:19:26.561-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-28T05:19:26.613-03:00  INFO 11412 --- [zlog_compras] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@102f4608, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ddd8a28, org.springframework.security.web.context.SecurityContextHolderFilter@597cf8fa, org.springframework.security.web.header.HeaderWriterFilter@906afb9, org.springframework.web.filter.CorsFilter@799f8f7f, org.springframework.security.web.authentication.logout.LogoutFilter@d3bd71f, com.zlogcompras.config.JwtAuthenticationFilter@7158a725, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9eac161, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@960f9ab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cecf984, org.springframework.security.web.session.SessionManagementFilter@3fac9c8b, org.springframework.security.web.access.ExceptionTranslationFilter@fca6bb5, org.springframework.security.web.access.intercept.AuthorizationFilter@4a14f174]
2025-07-28T05:19:26.714-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-28T05:19:26.749-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-28T05:19:26.948-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.948-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.956-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T05:19:26.957-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query MovimentacaoEstoque.findByCodigoMaterialOrderByDataMovimentacaoDesc
2025-07-28T05:19:26.958-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.967-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.973-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:26.973-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query NotaFiscal.findByPedidoCompraId
2025-07-28T05:19:26.976-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotaFiscal.findByPedidoCompraId
2025-07-28T05:19:26.976-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:27.094-03:00  INFO 11412 --- [zlog_compras] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T05:19:27.155-03:00  INFO 11412 --- [zlog_compras] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T05:19:27.163-03:00  INFO 11412 --- [zlog_compras] [restartedMain] com.zlogcompras.ZlogComprasApplication   : Started ZlogComprasApplication in 7.565 seconds (process running for 8.162)
2025-07-28T05:19:27.184-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:27.325-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T05:19:27.334-03:00 TRACE 11412 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_USER]
2025-07-28T05:19:27.380-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:27.382-03:00 DEBUG 11412 --- [zlog_compras] [restartedMain] org.hibernate.SQL                        : 
    select
        r1_0.id,
        r1_0.name 
    from
        roles r1_0 
    where
        r1_0.name=?
2025-07-28T05:19:27.382-03:00 TRACE 11412 --- [zlog_compras] [restartedMain] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [ROLE_ADMIN]
2025-07-28T05:19:46.763-03:00  INFO 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28T05:19:46.763-03:00  INFO 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-28T05:19:46.763-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-07-28T05:19:46.763-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-07-28T05:19:46.763-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-07-28T05:19:46.773-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7f9bc8a0
2025-07-28T05:19:46.773-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@144a7c92
2025-07-28T05:19:46.779-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-28T05:19:46.780-03:00  INFO 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 17 ms
2025-07-28T05:19:46.830-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@102f4608, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ddd8a28, org.springframework.security.web.context.SecurityContextHolderFilter@597cf8fa, org.springframework.security.web.header.HeaderWriterFilter@906afb9, org.springframework.web.filter.CorsFilter@799f8f7f, org.springframework.security.web.authentication.logout.LogoutFilter@d3bd71f, com.zlogcompras.config.JwtAuthenticationFilter@7158a725, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9eac161, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@960f9ab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cecf984, org.springframework.security.web.session.SessionManagementFilter@3fac9c8b, org.springframework.security.web.access.ExceptionTranslationFilter@fca6bb5, org.springframework.security.web.access.intercept.AuthorizationFilter@4a14f174]] (1/1)
2025-07-28T05:19:46.830-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-07-28T05:19:46.830-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T05:19:46.830-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T05:19:46.846-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T05:19:46.846-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T05:19:46.846-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T05:19:46.863-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T05:19:46.863-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T05:19:46.863-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T05:19:46.863-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/auth/login
2025-07-28T05:19:46.863-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY4OTU2NCwiZXhwIjoxNzUzNzc1OTY0fQ.tfrCRuuLRqMdtA3yHpGrqZ0n3Ly656DExCtaGASHOtA
2025-07-28T05:19:47.215-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T05:19:47.217-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T05:19:47.217-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:47.217-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T05:19:47.229-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T05:19:47.319-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T05:19:47.319-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T05:19:47.362-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T05:19:47.362-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T05:19:47.367-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T05:19:47.367-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T05:19:47.367-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T05:19:47.367-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T05:19:47.376-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T05:19:47.379-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T05:19:47.379-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T05:19:47.379-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T05:19:47.379-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T05:19:47.384-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /api/auth/login
2025-07-28T05:19:47.385-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /api/auth/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000015355a9b3d0@1c64780b
2025-07-28T05:19:47.385-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-07-28T05:19:47.394-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2025-07-28T05:19:47.396-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.AuthController#authenticateUser(LoginRequestDTO)
2025-07-28T05:19:47.547-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequestDTO(username=MarcioSouza, password=12345678)]
2025-07-28T05:19:47.563-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with DaoAuthenticationProvider (1/1)
2025-07-28T05:19:47.865-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:47.880-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T05:19:47.880-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T05:19:47.898-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T05:19:47.898-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T05:19:48.173-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-07-28T05:19:48.179-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:19:48.182-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T05:19:48.184-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T05:19:48.190-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T05:19:48.190-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T05:19:48.332-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T05:19:48.332-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponseDTO(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY5MDc4OCwiZXhwIjoxNzUzNzc3MTg4fQ.NfXkGNTdlZlL3MYA3s387ZfEQlzifHgmcWtDyEFbMTI)]
2025-07-28T05:19:48.346-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T05:19:48.350-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-28T05:20:31.858-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@102f4608, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ddd8a28, org.springframework.security.web.context.SecurityContextHolderFilter@597cf8fa, org.springframework.security.web.header.HeaderWriterFilter@906afb9, org.springframework.web.filter.CorsFilter@799f8f7f, org.springframework.security.web.authentication.logout.LogoutFilter@d3bd71f, com.zlogcompras.config.JwtAuthenticationFilter@7158a725, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9eac161, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@960f9ab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cecf984, org.springframework.security.web.session.SessionManagementFilter@3fac9c8b, org.springframework.security.web.access.ExceptionTranslationFilter@fca6bb5, org.springframework.security.web.access.intercept.AuthorizationFilter@4a14f174]] (1/1)
2025-07-28T05:20:31.859-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing PUT /api/processo-compra/1/status/CONCLUIDA
2025-07-28T05:20:31.859-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)
2025-07-28T05:20:31.861-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)
2025-07-28T05:20:31.861-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)
2025-07-28T05:20:31.861-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)
2025-07-28T05:20:31.862-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)
2025-07-28T05:20:31.863-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)
2025-07-28T05:20:31.863-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-07-28T05:20:31.863-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtAuthenticationFilter (7/13)
2025-07-28T05:20:31.904-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Requisição recebida: /api/processo-compra/1/status/CONCLUIDA
2025-07-28T05:20:31.904-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Token JWT extraído: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNYXJjaW9Tb3V6YSIsImlhdCI6MTc1MzY5MDc4OCwiZXhwIjoxNzUzNzc3MTg4fQ.NfXkGNTdlZlL3MYA3s387ZfEQlzifHgmcWtDyEFbMTI
2025-07-28T05:20:31.910-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Username extraído do token: MarcioSouza
2025-07-28T05:20:31.910-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-07-28T05:20:31.910-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2025-07-28T05:20:31.917-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.enabled,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-28T05:20:31.919-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [MarcioSouza]
2025-07-28T05:20:31.922-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-07-28T05:20:31.927-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T05:20:31.928-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Detalhes do usuário carregados para: MarcioSouza
2025-07-28T05:20:31.928-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Autoridades do usuário: [ROLE_USER]
2025-07-28T05:20:31.928-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] c.z.config.JwtAuthenticationFilter       : Usuário MarcioSouza autenticado com sucesso no SecurityContext.
2025-07-28T05:20:31.928-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)
2025-07-28T05:20:31.928-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)
2025-07-28T05:20:31.928-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)
2025-07-28T05:20:31.928-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)
2025-07-28T05:20:31.938-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=MarcioSouza, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-07-28T05:20:31.938-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-07-28T05:20:31.938-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)
2025-07-28T05:20:31.938-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)
2025-07-28T05:20:31.938-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing PUT /api/processo-compra/1/status/CONCLUIDA
2025-07-28T05:20:31.938-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on PUT /api/processo-compra/1/status/CONCLUIDA using org.springframework.security.authorization.AuthenticatedAuthorizationManager@9938afd
2025-07-28T05:20:31.943-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured PUT /api/processo-compra/1/status/CONCLUIDA
2025-07-28T05:20:31.944-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : PUT "/api/processo-compra/1/status/CONCLUIDA", parameters={}
2025-07-28T05:20:31.946-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.zlogcompras.controller.ProcessoCompraController#atualizarStatusSolicitacao(Long, StatusSolicitacaoCompra)
2025-07-28T05:20:31.954-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.zlogcompras.service.ProcessoCompraService.atualizarStatusSolicitacao]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-07-28T05:20:31.960-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(1419374948<open>)] for JPA transaction
2025-07-28T05:20:31.970-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2a9084d0]
2025-07-28T05:20:31.977-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1419374948<open>)] for JPA transaction
2025-07-28T05:20:31.977-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T05:20:32.002-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sc1_0.id,
        sc1_0.data_atualizacao,
        sc1_0.data_criacao,
        sc1_0.data_solicitacao,
        sc1_0.descricao,
        sc1_0.solicitante,
        sc1_0.status,
        sc1_0.version 
    from
        solicitacoes_compra sc1_0 
    where
        sc1_0.id=?
2025-07-28T05:20:32.010-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T05:20:32.027-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1419374948<open>)] for JPA transaction
2025-07-28T05:20:32.027-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2025-07-28T05:20:32.044-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        i1_0.solicitacao_compra_id,
        i1_0.id,
        i1_0.data_atualizacao,
        i1_0.data_criacao,
        i1_0.descricao_adicional,
        i1_0.produto_id,
        i1_0.quantidade,
        i1_0.status,
        i1_0.version 
    from
        itens_solicitacao_compra i1_0 
    where
        i1_0.solicitacao_compra_id=?
2025-07-28T05:20:32.044-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-07-28T05:20:32.489-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2025-07-28T05:20:32.489-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1419374948<open>)]
2025-07-28T05:20:32.562-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        solicitacoes_compra 
    set
        data_atualizacao=?,
        data_solicitacao=?,
        descricao=?,
        solicitante=?,
        status=?,
        version=? 
    where
        id=? 
        and version=?
2025-07-28T05:20:32.569-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:TIMESTAMP) <- [2025-07-28T05:20:32.511923300]
2025-07-28T05:20:32.569-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (2:DATE) <- [2025-07-28]
2025-07-28T05:20:32.569-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [Solicitação de compra para equipamentos de informática - Q3/2025]
2025-07-28T05:20:32.569-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [Departamento de TI]
2025-07-28T05:20:32.569-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (5:ENUM) <- [CONCLUIDA]
2025-07-28T05:20:32.574-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [6]
2025-07-28T05:20:32.574-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [1]
2025-07-28T05:20:32.574-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [5]
2025-07-28T05:20:32.787-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1419374948<open>)] after transaction
2025-07-28T05:20:32.800-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-28T05:20:32.800-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.zlogcompras.model.dto.SolicitacaoCompraResponseDTO@5b574826]
2025-07-28T05:20:32.821-03:00 TRACE 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-07-28T05:20:32.827-03:00 DEBUG 11412 --- [zlog_compras] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
