# Nome da aplicação Spring Boot.
spring.application.name=zlog_compras

---

# Configurações de Log
# Nível de log padrão para INFO.
logging.level.root=INFO

# Níveis de log detalhados para depuração em desenvolvimento.
# Isso é crucial para vermos os logs do seu JwtAuthenticationFilter.
# TRACE é o nível mais verboso e ideal para depuração detalhada.

# Pacote da sua aplicação: DEVE SER TRACE para ver os logs do JwtAuthenticationFilter.
logging.level.com.zlogcompras=TRACE

# Níveis detalhados para o Spring Security, incluindo filtros, autenticação e autorização.
logging.level.org.springframework.security=TRACE
logging.level.org.springframework.security.web=TRACE
logging.level.org.springframework.security.authentication=TRACE

# Logs para requisições web e processamento de métodos (HTTP requests e responses).
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping=TRACE
logging.level.org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor=TRACE

# Logs para JPA/Hibernate e camadas de dados.
logging.level.org.springframework.dao=DEBUG
logging.level.org.springframework.orm.jpa=DEBUG
logging.level.org.springframework.transaction=DEBUG
logging.level.org.springframework.data.jpa=DEBUG
# Mostra o SQL gerado pelo Hibernate
logging.level.org.hibernate.SQL=DEBUG
# Mostra os parâmetros bindados nas queries SQL
logging.level.org.hibernate.orm.jdbc.bind=TRACE

# Local para o arquivo de log.
logging.file.name=logs/zlog_compras.log

---

# Configurações do Banco de Dados MySQL
# URL de conexão corrigida e otimizada.
# 'useUnicode=true&characterEncoding=UTF-8' são boas práticas para evitar problemas de encoding.
spring.datasource.url=jdbc:mysql://localhost:3306/zlog_compras_database?useSSL=false&serverTimezone=America/Sao_Paulo&allowPublicKeyRetrieval=TRUE&useUnicode=true&characterEncoding=UTF-8
spring.datasource.username=root
spring.datasource.password=seguRa1$
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Configurações do HikariCP (pool de conexões)
# Geralmente não precisa descomentar, os defaults são bons, mas deixo como exemplo.
#spring.datasource.hikari.idle-timeout=30000
#spring.datasource.hikari.max-lifetime=1800000
#spring.datasource.hikari.connection-timeout=30000 # Tempo limite para obter uma conexão do pool (30 segundos)
#spring.datasource.hikari.maximum-pool-size=10 # Tamanho máximo do pool de conexões

---

# Configurações do JPA/Hibernate
# 'none' é o mais seguro para não alterar o schema do BD automaticamente.
spring.jpa.hibernate.ddl-auto=none
# Mostra o SQL no console
spring.jpa.show-sql=true
# Formata o SQL para melhor leitura
spring.jpa.properties.hibernate.format_sql=true

# Dialeto do Hibernate.
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Desabilita o Open-In-View para evitar warnings e problemas de desempenho em algumas situações.
spring.jpa.open-in-view=false

---

# Configurações do JWT Service
# Chave secreta para assinar e validar JWTs.
# Importante: Para produção, esta chave DEVE ser uma string longa, aleatória, e SEGURA.
# A chave atual é para desenvolvimento/teste.
jwt.secret.key=9U8kJkho/6JrxbCy9CqCiApqZCYyPNUO3UaR1KcBHr0=

# Tempo de expiração do JWT em milissegundos (86400000 ms = 24 horas).
jwt.expiration.millis=86400000