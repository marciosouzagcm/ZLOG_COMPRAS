<div class="form-container">
  <h2>Adicionar Novo Produto</h2>
  <form [formGroup]="produtoForm" (ngSubmit)="onSubmit()">

    <div class="form-section">
      <h3>Informações Básicas</h3>
      <div class="input-group">
        <label for="codigoProduto">Código do Produto</label>
        <input id="codigoProduto" type="text" formControlName="codigoProduto" />
        <div *ngIf="produtoForm.get('codigoProduto')?.invalid && (produtoForm.get('codigoProduto')?.dirty || produtoForm.get('codigoProduto')?.touched)"
             class="error-message">
          O código do produto é obrigatório.
        </div>
      </div>

      <div class="input-group">
        <label for="nome">Nome</label>
        <input id="nome" type="text" formControlName="nome" />
        <div *ngIf="produtoForm.get('nome')?.invalid && (produtoForm.get('nome')?.dirty || produtoForm.get('nome')?.touched)"
             class="error-message">
          O nome é obrigatório.
        </div>
      </div>

      <div class="input-group">
        <label for="descricao">Descrição</label>
        <textarea id="descricao" formControlName="descricao" rows="4"></textarea>
      </div>
    </div>

    <div class="form-section">
      <h3>Detalhes do Produto</h3>
      <div class="input-group">
        <label for="categoria">Categoria</label>
        <input id="categoria" type="text" formControlName="categoria" />
        <div *ngIf="produtoForm.get('categoria')?.invalid && (produtoForm.get('categoria')?.dirty || produtoForm.get('categoria')?.touched)"
             class="error-message">
          A categoria é obrigatória.
        </div>
      </div>

      <div class="input-group">
        <label for="unidadeMedida">Unidade de Medida</label>
        <input id="unidadeMedida" type="text" formControlName="unidadeMedida" />
        <div *ngIf="produtoForm.get('unidadeMedida')?.invalid && (produtoForm.get('unidadeMedida')?.dirty || produtoForm.get('unidadeMedida')?.touched)"
             class="error-message">
          A unidade de medida é obrigatória.
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3>Estoque e Preço</h3>
      <div class="input-group">
        <label for="precoUnitario">Preço Unitário</label>
        <input id="precoUnitario" type="number" formControlName="precoUnitario" />
        <div *ngIf="produtoForm.get('precoUnitario')?.invalid && (produtoForm.get('precoUnitario')?.dirty || produtoForm.get('precoUnitario')?.touched)"
             class="error-message">
          O preço unitário é obrigatório.
        </div>
      </div>

      <div class="input-group">
        <label for="estoque">Estoque</label>
        <input id="estoque" type="number" formControlName="estoque" />
        <div *ngIf="produtoForm.get('estoque')?.invalid && (produtoForm.get('estoque')?.dirty || produtoForm.get('estoque')?.touched)"
             class="error-message">
          O estoque é obrigatório.
        </div>
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" [disabled]="!produtoForm.valid">Salvar Produto</button>
      <a routerLink="/produtos" class="cancel-button">Cancelar</a>
    </div>

  </form>
</div>
